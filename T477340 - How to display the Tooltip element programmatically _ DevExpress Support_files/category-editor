var supportCenter=supportCenter||{};supportCenter.categoryEditor=function(n,t,i){function s(n,t,i,r){var o=[],a,h,u,c,f,e,l;if(!t[n])return o;for(a=t[n](),h=0;h<a.length;h++)if(u=a[h],u.childrenCount=0,u.text!==""){for(u.depth=i,u.parents=[],c=0;c<r.length;c++)u.parents.push(r[c].text());for(n+=w+u.value(),i++,r.push(u),f=s(n,t,i,r),r.pop(),i--,n=n.replace(/\|\d+$/,""),o.push(u),e=0;e<f.length;e++)f[e].depth===u.depth+1&&(u.childrenCount=Math.max(u.childrenCount,e)+1);for(l=0;l<f.length;l++)o.push(f[l])}return o}function h(n,t){for(var i=0;i<t.length;i++)if(ko.unwrap(t[i].value)===n.id)return t[i];return null}function r(n){return n*e}function c(n){return{left:n+u}}function g(n){return{height:n*b-k-d+u}}function f(n){var i="",t;for(t in n)i+=t+":"+n[t]+";";return i}function l(n){var t=o+r(ko.unwrap(n.depth))-e;return c(t)}function nt(n){var t=l(n);return"style="+f(t)}function a(n){var i=o+r(ko.unwrap(n.depth)),t={};return $.extend(t,c(i),g(n.childrenCount)),t}function tt(n){var t=a(n);return"style="+f(t)}function v(n){return{"padding-left":r(n)+u}}function it(n){return"style="+f(v(ko.unwrap(n.depth)))}function y(n,t){function f(n){return'<span class="current">'+n+"<\/span>"}function e(n){for(var i="",t=0;t<n.parents.length;t++)i+=n.parents[t],t+1<n.parents.length&&(i+="/");return i}function o(n){return'<span class="parents">'+n+"<\/span>"}var i=e(n),s=o(i),r=t,u;return i.length>0&&(r="/"+t),u=f(r),'<span class="tree-item" title="'+i+r+'">'+s+u+"<\/span>"}function p(n,t){var i=h(n,t);return y(i,n.text)}function rt(n,t){var i=h(n,t),r="",u="",e=nt(i),o=tt(i),f;return i.parents.length>0&&(r='<div class="relation-horizontal" '+e+"><\/div>"),i.childrenCount>0&&(u='<div class="relation-vertical" '+o+"><\/div>"),f=it(i),r+'<span class="tree-item" '+f+">"+i.text()+"<\/span>"+u}function ut(n,t,i,r){return select2Config={allowClear:!0,language:n,width:"100%",placeholder:t,minimumResultsForSearch:5,templateResult:function(n){if(!n.id)return n.text;var t=i();return r&&r()?p(n,t):$(rt(n,t))},templateSelection:function(n){if(!n.id&&n.text)return n.text;var t=i();return $(p(n,t))}}}var w="|",b=38,k=10,u="px",e=t,o=n,d=i;return{getSelect2Config:ut,categoryTreeToList:s,getIndentSizeByDepth:r,getHorizontalRelationStyle:l,getVerticalRelationStyle:a,getTreeItemStyle:v,getSelectedItemTemplate:y}}