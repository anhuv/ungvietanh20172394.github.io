/**
 * simplemde v1.11.2
 * Copyright Next Step Webs, Inc.
 * @link https://github.com/NextStepWebs/simplemde-markdown-editor
 * @license MIT
 */
function loadTypo(n,t){var i,r;CodeMirrorSpellChecker.aff_loading||(CodeMirrorSpellChecker.aff_loading=!0,i=new XMLHttpRequest,i.open("GET",n+"content/scripts/libraries/simplemde/spellcheck/en_US.aff",!0),i.onload=function(){i.readyState===4&&i.status===200&&(CodeMirrorSpellChecker.aff_data=i.responseText,CodeMirrorSpellChecker.num_loaded++,CodeMirrorSpellChecker.num_loaded==2&&(CodeMirrorSpellChecker.typo=new Typo("en_US",CodeMirrorSpellChecker.aff_data,CodeMirrorSpellChecker.dic_data,{platform:"any"}),loadCustomDictionary(CodeMirrorSpellChecker.typo,t)))},i.send(null));CodeMirrorSpellChecker.dic_loading||(CodeMirrorSpellChecker.dic_loading=!0,r=new XMLHttpRequest,r.open("GET",n+"content/scripts/libraries/simplemde/spellcheck/en_US.dic",!0),r.onload=function(){r.readyState===4&&r.status===200&&(CodeMirrorSpellChecker.dic_data=r.responseText,CodeMirrorSpellChecker.num_loaded++,CodeMirrorSpellChecker.num_loaded==2&&(CodeMirrorSpellChecker.typo=new Typo("en_US",CodeMirrorSpellChecker.aff_data,CodeMirrorSpellChecker.dic_data,{platform:"any"}),loadCustomDictionary(CodeMirrorSpellChecker.typo,n,t)))},r.send(null));CodeMirrorSpellChecker.num_loaded==2&&t(CodeMirrorSpellChecker.typo)}function loadCustomDictionary(n,t,i){if(n){var r=new XMLHttpRequest;r.open("GET",t+"content/scripts/libraries/simplemde/spellcheck/dxdictionary.txt",!0);r.onload=function(){var f,t,u;if(r.readyState===4&&r.status===200){for(f=r.responseText.split("\n"),t=0;t<f.length-1;t++)u=f[t],u=u.replace(/\r?\n|\r/g,""),n.dictionaryTable[u]===undefined&&(n.dictionaryTable[u]=null);for(t=0;t<userDictionary.length;t++)u=userDictionary[t],n.dictionaryTable[u]===undefined&&(n.dictionaryTable[u]=null);i(n)}};r.send(null)}}function initSpellcheckOverlay(n,t){function i(n,t,i){return typeof i!="number"&&(i=0),i+t.length>n.length?!1:n.indexOf(t,i)!==-1}function r(n,t,i){return n.substr(!i||i<0?0:+i,t.length)===t}loadTypo(t,function(t){var u='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~  ',f='"<>[\\]^`{|} ';n.spellcheckOverlay={name:"typoEnglish",token:function(n){var e=n.peek(),o="";if(i(u,e)||e===""||e==="")return n.next(),null;while((e=n.peek())&&!i(u,e))o+=e,n.next();if(/'|’/i.test(o)||!/[a-z]/i.test(o)||e===undefined)return null;if(r(o,"http")||r(o,"ftp")){while((e=n.peek())&&!i(f,e))o+=e,n.next();return null}if(!t.check(o))return"spell-error"}};n.addOverlay(n.spellcheckOverlay)})}var supportCenter,Typo;!function(n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=n()}(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){return u(t[f][1][n]||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(){},{}],2:[function(n,t){"use strict";function i(n){"function"==typeof(n=n||{}).codeMirrorInstance&&"function"==typeof n.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),n.codeMirrorInstance.defineMode("spell-checker",function(t){var u,f;i.aff_loading||(i.aff_loading=!0,(u=new XMLHttpRequest).open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),u.onload=function(){4===u.readyState&&200===u.status&&(i.aff_data=u.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new r("en_US",i.aff_data,i.dic_data,{platform:"any"})))},u.send(null));i.dic_loading||(i.dic_loading=!0,(f=new XMLHttpRequest).open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),f.onload=function(){4===f.readyState&&200===f.status&&(i.dic_data=f.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new r("en_US",i.aff_data,i.dic_data,{platform:"any"})))},f.send(null));var e='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',o={token:function(n){var t=n.peek(),r="";if(e.includes(t))return n.next(),null;for(;null!=(t=n.peek())&&!e.includes(t);)r+=t,n.next();return i.typo&&!i.typo.check(r)?"spell-error":null}},s=n.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return n.codeMirrorInstance.overlayMode(s,o,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}var r=n("typo-js");i.num_loaded=0;i.aff_loading=!1;i.dic_loading=!1;i.aff_data="";i.dic_data="";i.typo;t.exports=i},{"typo-js":14}],3:[function(n,t,i){(function(n){"use strict";n.defineOption("fullScreen",!1,function(t,i,r){var f,u;r==n.Init&&(r=!1);!r!=!i&&(i?(u=(f=t).getWrapperElement(),f.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:u.style.width,height:u.style.height},u.style.width="",u.style.height="auto",u.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",f.refresh()):function(n){var i=n.getWrapperElement(),t;i.className=i.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";t=n.state.fullScreenRestore;i.style.width=t.width;i.style.height=t.height;window.scrollTo(t.scrollLeft,t.scrollTop);n.refresh()}(t))})})("object"==typeof i&&"object"==typeof t?n("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":8}],4:[function(n,t,i){(function(n){function i(n){n.state.placeholder&&(n.state.placeholder.parentNode.removeChild(n.state.placeholder),n.state.placeholder=null)}function u(n){var t,r;i(n);t=n.state.placeholder=document.createElement("pre");t.style.cssText="height: 0; overflow: visible";t.className="CodeMirror-placeholder";r=n.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r));t.appendChild(r);n.display.lineSpace.insertBefore(t,n.display.lineSpace.firstChild)}function r(n){f(n)&&u(n)}function t(n){var t=n.getWrapperElement(),r=f(n);t.className=t.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":"");(r?u:i)(n)}function f(n){return 1===n.lineCount()&&""===n.getLine(0)}n.defineOption("placeholder","",function(u,f,e){var o,s=e&&e!=n.Init;f&&!s?(u.on("blur",r),u.on("change",t),u.on("swapDoc",t),t(u)):!f&&s&&(u.off("blur",r),u.off("change",t),u.off("swapDoc",t),i(u),(o=u.getWrapperElement()).className=o.className.replace(" CodeMirror-empty",""));f&&!u.hasFocus()&&r(u)})})("object"==typeof i&&"object"==typeof t?n("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":8}],5:[function(n,t,i){(function(n){"use strict";var t=/^(\s*)(>[> ]*|- \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|- \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(u){if(u.getOption("disableInput"))return n.Pass;for(var s=u.listSelections(),h=[],e=0;e<s.length;e++){var l,a,v,o=s[e].head,y=u.getStateAfter(o.line),p=!1!==y.list,w=0!==y.quote,c=u.getLine(o.line),f=t.exec(c);if(!s[e].empty()||!p&&!w||!f)return void u.execCommand("newlineAndIndent");i.test(c)?(/>\s*$/.test(c)||u.replaceRange("",{line:o.line,ch:0},{line:o.line,ch:o.ch+1}),h[e]="\n"):(l=f[1],a=f[5],v=r.test(f[2])||0<=f[2].indexOf(">")?f[2].replace("x"," "):parseInt(f[3],10)+1+f[4],h[e]="\n"+l+v+a)}u.replaceSelections(h)}})("object"==typeof i&&"object"==typeof t?n("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":8}],6:[function(n,t,i){(function(n){"use strict";n.overlayMode=function(t,i,r){return{startState:function(){return{base:n.startState(t),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:n.copyState(t,r.base),overlay:n.copyState(i,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(n,u){return(n!=u.streamSeen||Math.min(u.basePos,u.overlayPos)<n.start)&&(u.streamSeen=n,u.basePos=u.overlayPos=n.start),n.start==u.basePos&&(u.baseCur=t.token(n,u.base),u.basePos=n.pos),n.start==u.overlayPos&&(n.pos=n.start,u.overlayCur=i.token(n,u.overlay),u.overlayPos=n.pos),n.pos=Math.min(u.basePos,u.overlayPos),null==u.overlayCur?u.baseCur:null!=u.baseCur&&u.overlay.combineTokens||r&&null==u.overlay.combineTokens?u.baseCur+" "+u.overlayCur:u.overlayCur},indent:t.indent&&function(n,i){return t.indent(n.base,i)},electricChars:t.electricChars,innerMode:function(n){return{state:n.base,mode:t}},blankLine:function(n){var u,f;return t.blankLine&&(u=t.blankLine(n.base)),i.blankLine&&(f=i.blankLine(n.overlay)),null==f?u:r&&null!=u?u+" "+f:f}}}})("object"==typeof i&&"object"==typeof t?n("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":8}],7:[function(n,t,i){(function(n){"use strict";function e(n){n.state.markedSelection&&n.operation(function(){!function(n){var o,s;if(!n.somethingSelected())return u(n);if(1<n.listSelections().length)return f(n);var h=n.getCursor("start"),c=n.getCursor("end"),e=n.state.markedSelection;if(!e.length)return i(n,h,c);if(o=e[0].find(),s=e[e.length-1].find(),!o||!s||c.line-h.line<r||0<=t(h,s.to)||t(c,o.from)<=0)return f(n);for(;0<t(h,o.from);)e.shift().clear(),o=e[0].find();for(t(h,o.from)<0&&(o.to.line-h.line<r?(e.shift().clear(),i(n,h,o.to,0)):i(n,h,o.from,0));t(c,s.to)<0;)e.pop().clear(),s=e[e.length-1].find();0<t(c,s.to)&&(c.line-s.from.line<r?(e.pop().clear(),i(n,s.from,c)):i(n,s.to,c))}(n)})}function o(n){n.state.markedSelection&&n.state.markedSelection.length&&n.operation(function(){u(n)})}function i(n,i,u,f){if(0!=t(i,u))for(var h=n.state.markedSelection,a=n.state.markedSelectionStyle,e=i.line;;){var v=e==i.line?i:s(e,0),o=e+r,c=o>=u.line,y=c?u:s(o,0),l=n.markText(v,y,{className:a});if(null==f?h.push(l):h.splice(f++,0,l),c)break;e=o}}function u(n){for(var t=n.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function f(n){u(n);for(var r=n.listSelections(),t=0;t<r.length;t++)i(n,r[t].from(),r[t].to())}n.defineOption("styleSelectedText",!1,function(t,i,r){var s=r&&r!=n.Init;i&&!s?(t.state.markedSelection=[],t.state.markedSelectionStyle="string"==typeof i?i:"CodeMirror-selectedtext",f(t),t.on("cursorActivity",e),t.on("change",o)):!i&&s&&(t.off("cursorActivity",e),t.off("change",o),u(t),t.state.markedSelection=t.state.markedSelectionStyle=null)});var r=8,s=n.Pos,t=n.cmpPos})("object"==typeof i&&"object"==typeof t?n("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":8}],8:[function(n,t,i){var u,r;u=this;r=function(){"use strict";function sf(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}function bi(n){for(var t=n.childNodes.length;0<t;--t)n.removeChild(n.firstChild);return n}function at(n,t){return bi(n).appendChild(t)}function t(n,t,i,r){var u=document.createElement(n),f;if(i&&(u.className=i),r&&(u.style.cssText=r),"string"==typeof t)u.appendChild(document.createTextNode(t));else if(t)for(f=0;f<t.length;++f)u.appendChild(t[f]);return u}function de(n,t){if(3==t.nodeType&&(t=t.parentNode),n.contains)return n.contains(t);do if(11==t.nodeType&&(t=t.host),t==n)return!0;while(t=t.parentNode)}function ei(){var n;try{n=document.activeElement}catch(t){n=document.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function rr(n,t){var i=n.className;sf(t).test(i)||(n.className+=(i?" ":"")+t)}function as(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)r[i]&&!sf(r[i]).test(t)&&(t+=" "+r[i]);return t}function vs(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t)}}function fr(n,t,i){for(var r in t=t||{},n)!n.hasOwnProperty(r)||!1===i&&t.hasOwnProperty(r)||(t[r]=n[r]);return t}function yt(n,t,i,r,u){var f,e,o;for(null==t&&-1==(t=n.search(/[^\s\u00a0]/))&&(t=n.length),f=r||0,e=u||0;;){if(o=n.indexOf("\t",f),o<0||t<=o)return e+(t-f);e+=o-f;e+=i-e%i;f=o+1}}function tt(n,t){for(var i=0;i<n.length;++i)if(n[i]==t)return i;return-1}function ws(n,t,i){for(var u,e,r=0,f=0;;){if(u=n.indexOf("\t",r),-1==u&&(u=n.length),e=u-r,u==n.length||t<=f+e)return r+Math.min(e,t-f);if(f+=u-r,r=u+1,t<=(f+=i-f%i))return r}}function bs(n){for(;cf.length<=n;)cf.push(h(cf)+" ");return cf[n]}function h(n){return n[n.length-1]}function ge(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=t(n[i],i);return r}function ea(){}function oa(n,t){var i=Object.create?Object.create(n):(ea.prototype=n,new ea);return t&&fr(t,i),i}function ks(n){return/\w/.test(n)||""<n&&(n.toUpperCase()!=n.toLowerCase()||sa.test(n))}function no(n,t){return t?!!(-1<t.source.indexOf("\\w")&&ks(n))||t.test(n):ks(n)}function ha(n){for(var t in n)if(n.hasOwnProperty(t)&&n[t])return;return 1}function ds(n){return 768<=n.charCodeAt(0)&&ca.test(n)}function la(n,t,i){for(;(i<0?0<t:t<n.length)&&ds(n.charAt(t));)t+=i;return t}function to(n,t,i){for(;;){if(Math.abs(t-i)<=1)return n(t)?t:i;var r=Math.floor((t+i)/2);n(r)?i=r:t=r}}function fk(n,i,r){var u=this;this.input=r;u.scrollbarFiller=t("div",null,"CodeMirror-scrollbar-filler");u.scrollbarFiller.setAttribute("cm-not-content","true");u.gutterFiller=t("div",null,"CodeMirror-gutter-filler");u.gutterFiller.setAttribute("cm-not-content","true");u.lineDiv=t("div",null,"CodeMirror-code");u.selectionDiv=t("div",null,null,"position: relative; z-index: 1");u.cursorDiv=t("div",null,"CodeMirror-cursors");u.measure=t("div",null,"CodeMirror-measure");u.lineMeasure=t("div",null,"CodeMirror-measure");u.lineSpace=t("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");u.mover=t("div",[t("div",[u.lineSpace],"CodeMirror-lines")],null,"position: relative");u.sizer=t("div",[u.mover],"CodeMirror-sizer");u.sizerWidth=null;u.heightForcer=t("div",null,null,"position: absolute; height: "+fa+"px; width: 1px;");u.gutters=t("div",null,"CodeMirror-gutters");u.lineGutter=null;u.scroller=t("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll");u.scroller.setAttribute("tabIndex","-1");u.wrapper=t("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror");s&&v<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0);nt||pi&&of||(u.scroller.draggable=!0);n&&(n.appendChild?n.appendChild(u.wrapper):n(u.wrapper));u.viewFrom=u.viewTo=i.first;u.reportedViewFrom=u.reportedViewTo=i.first;u.view=[];u.renderedView=null;u.externalMeasured=null;u.viewOffset=0;u.lastWrapHeight=u.lastWrapWidth=0;u.updateLineNumbers=null;u.nativeBarWidth=u.barHeight=u.barWidth=0;u.scrollbarsClipped=!1;u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null;u.alignWidgets=!1;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null;u.maxLine=null;u.maxLineLength=0;u.maxLineChanged=!1;u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null;u.shift=!1;u.selForContextMenu=null;u.activeTouch=null;r.init(u)}function i(n,t){var i,r,u,f;if((t-=n.first)<0||t>=n.size)throw new Error("There is no line "+(t+n.first)+" in the document.");for(i=n;!i.lines;)for(r=0;;++r){if(u=i.children[r],f=u.chunkSize(),t<f){i=u;break}t-=f}return i.lines[t]}function er(n,t,i){var u=[],r=t.line;return n.iter(t.line,i.line+1,function(n){var f=n.text;r==i.line&&(f=f.slice(0,i.ch));r==t.line&&(f=f.slice(t.ch));u.push(f);++r}),u}function gs(n,t,i){var r=[];return n.iter(t,i,function(n){r.push(n.text)}),r}function ti(n,t){var r=t-n.height,i;if(r)for(i=n;i;i=i.parent)i.height+=r}function c(n){var r;if(null==n.parent)return null;for(var t=n.parent,u=tt(t.lines,n),i=t.parent;i;i=(t=i).parent)for(r=0;i.children[r]!=t;++r)u+=i.children[r].chunkSize();return u+t.first}function or(n,t){var f=n.first,r,u,e,i,o;n:do{for(r=0;r<n.children.length;++r){if(u=n.children[r],e=u.height,t<e){n=u;continue n}t-=e;f+=u.chunkSize()}return f}while(!n.lines);for(i=0;i<n.lines.length;++i){if(o=n.lines[i].height,t<o)break;t-=o}return f+i}function lf(n,t){return t>=n.first&&t<n.first+n.size}function nh(n,t){return String(n.lineNumberFormatter(t+n.firstLineNumber))}function n(t,i,r){if(void 0===r&&(r=null),!(this instanceof n))return new n(t,i,r);this.line=t;this.ch=i;this.sticky=r}function f(n,t){return n.line-t.line||n.ch-t.ch}function th(n,t){return n.sticky==t.sticky&&0==f(n,t)}function ih(t){return n(t.line,t.ch)}function io(n,t){return f(n,t)<0?t:n}function ro(n,t){return f(n,t)<0?n:t}function aa(n,t){return Math.max(n.first,Math.min(t,n.first+n.size-1))}function e(t,r){if(r.line<t.first)return n(t.first,0);var u,f,e,o=t.first+t.size-1;return r.line>o?n(o,i(t,o).text.length):(f=i(t,(u=r).line).text.length,null==(e=u.ch)||f<e?n(u.line,f):e<0?n(u.line,0):u)}function va(n,t){for(var r=[],i=0;i<t.length;i++)r[i]=e(n,t[i]);return r}function uo(n,t,i){this.marker=n;this.from=t;this.to=i}function af(n,t){var i,r;if(n)for(i=0;i<n.length;++i)if(r=n[i],r.marker==t)return r}function uh(n,t){var p,w,a,k,s,v,e,y,d,g,c,nt;if(t.full||(p=lf(n,t.from.line)&&i(n,t.from.line).markedSpans,w=lf(n,t.to.line)&&i(n,t.to.line).markedSpans,!p&&!w))return null;var b=t.from.ch,it=t.to.ch,tt=0==f(t.from,t.to),r=function(n,t,i){var e,f,o,r,u;if(n)for(f=0;f<n.length;++f)r=n[f],u=r.marker,(null==r.from||(u.inclusiveLeft?r.from<=t:r.from<t)||!(r.from!=t||"bookmark"!=u.type||i&&r.marker.insertLeft))&&(o=null==r.to||(u.inclusiveRight?r.to>=t:r.to>t),(e=e||[]).push(new uo(u,r.from,o?null:r.to)));return e}(p,b,tt),u=function(n,t,i){var e,f,o,r,u;if(n)for(f=0;f<n.length;++f)r=n[f],u=r.marker,(null==r.to||(u.inclusiveRight?r.to>=t:r.to>t)||r.from==t&&"bookmark"==u.type&&(!i||r.marker.insertLeft))&&(o=null==r.from||(u.inclusiveLeft?r.from<=t:r.from<t),(e=e||[]).push(new uo(u,o?null:r.from-t,null==r.to?null:r.to-t)));return e}(w,it,tt),o=1==t.text.length,l=h(t.text).length+(o?b:0);if(r)for(a=0;a<r.length;++a)s=r[a],null==s.to&&((k=af(u,s.marker))?o&&(s.to=null==k.to?null:k.to+l):s.to=b);if(u)for(v=0;v<u.length;++v)e=u[v],null!=e.to&&(e.to+=l),null==e.from?af(r,e.marker)||(e.from=l,o&&(r=r||[]).push(e)):(e.from+=l,o&&(r=r||[]).push(e));if(r=r&&ya(r),u&&u!=r&&(u=ya(u)),y=[r],!o){if(g=t.text.length-2,0<g&&r)for(c=0;c<r.length;++c)null==r[c].to&&(d=d||[]).push(new uo(r[c].marker,null,null));for(nt=0;nt<g;++nt)y.push(d);y.push(u)}return y}function ya(n){for(var i,t=0;t<n.length;++t)i=n[t],null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&n.splice(t--,1);return n.length?n:null}function pa(n){var i=n.markedSpans,t;if(i){for(t=0;t<i.length;++t)i[t].marker.detachLine(n);n.markedSpans=null}}function wa(n,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(n);n.markedSpans=t}}function fo(n){return n.inclusiveLeft?-1:0}function eo(n){return n.inclusiveRight?1:0}function ba(n,t){var i=n.lines.length-t.lines.length,o;if(0!=i)return i;var r=n.find(),u=t.find(),e=f(r.from,u.from)||fo(n)-fo(t);return e?-e:(o=f(r.to,u.to)||eo(n)-eo(t),o||t.id-n.id)}function ka(n,t){var r,f=si&&n.markedSpans,i,u;if(f)for(u=0;u<f.length;++u)(i=f[u]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||ba(r,i.marker)<0)&&(r=i.marker);return r}function da(n){return ka(n,!0)}function vf(n){return ka(n,!1)}function ga(n,t,r,u,e){var v=i(n,t),l=si&&v.markedSpans,h,o;if(l)for(h=0;h<l.length;++h)if(o=l[h],o.marker.collapsed){var s=o.marker.find(0),c=f(s.from,r)||fo(o.marker)-fo(e),a=f(s.to,u)||eo(o.marker)-eo(e);if(!(0<=c&&a<=0||c<=0&&0<=a)&&(c<=0&&(o.marker.inclusiveRight&&e.inclusiveLeft?0<=f(s.to,r):0<f(s.to,r))||0<=c&&(o.marker.inclusiveRight&&e.inclusiveLeft?f(s.from,u)<=0:f(s.from,u)<0)))return 1}}function ii(n){for(var t;t=da(n);)n=t.find(-1,!0).line;return n}function fh(n,t){var r=i(n,t),u=ii(r);return r==u?t:c(u)}function nv(n,t){if(t>n.lastLine())return t;var u,r=i(n,t);if(!sr(n,r))return t;for(;u=vf(r);)r=u.find(1,!0).line;return c(r)+1}function sr(n,t){var u=si&&t.markedSpans,i,r;if(u)for(r=0;r<u.length;++r)if((i=u[r]).marker.collapsed&&(null==i.from||!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&function n(t,i,r){var e,u,f;if(null==r.to)return e=r.marker.find(1,!0),n(t,e.line,af(e.line.markedSpans,r.marker));if(r.marker.inclusiveRight&&r.to==i.text.length)return!0;for(u=void 0,f=0;f<i.markedSpans.length;++f)if((u=i.markedSpans[f]).marker.collapsed&&!u.marker.widgetNode&&u.from==r.to&&(null==u.to||u.to!=r.from)&&(u.marker.inclusiveLeft||r.marker.inclusiveRight)&&n(t,i,u))return!0}(n,t,i)))return!0}function hi(n){for(var e,t,r,o,u=0,i=(n=ii(n)).parent,f=0;f<i.lines.length;++f){if(e=i.lines[f],e==n)break;u+=e.height}for(t=i.parent;t;t=(i=t).parent)for(r=0;r<t.children.length;++r){if(o=t.children[r],o==i)break;u+=o.height}return u}function oo(n){var r,i,u,t,f;if(0==n.height)return 0;for(i=n.text.length,t=n;r=da(t);)u=r.find(0,!0),t=u.from.line,i+=u.from.ch-u.to.ch;for(t=n;r=vf(t);)f=r.find(0,!0),i-=t.text.length-f.from.ch,i+=(t=f.to.line).text.length-f.to.ch;return i}function eh(n){var t=n.display,r=n.doc;t.maxLine=i(r,r.first);t.maxLineLength=oo(t.maxLine);t.maxLineChanged=!0;r.iter(function(n){var i=oo(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}function oh(n,t,i){var f,r,u;for(iu=null,r=0;r<n.length;++r){if(u=n[r],u.from<t&&u.to>t)return r;u.to==t&&(u.from!=u.to&&"before"==i?f=r:iu=r);u.from==t&&(u.from!=u.to&&"before"!=i?f=r:iu=r)}return null!=f?f:iu}function ru(n,t,i){this.level=n;this.from=t;this.to=i}function di(n,t){var i=n.order;return null==i&&(i=n.order=uv(n.text,t)),i}function ah(n,t,i){var r=la(n.text,t+i,i);return r<0||r>n.text.length?null:r}function vh(t,i,r){var u=ah(t,i.ch,r);return null==u?null:new n(i.line,u,r<0?"after":"before")}function yh(t,i,r,u,f){var s,c,e,a,o,l;return t&&(s=di(r,i.doc.direction),s)?(o=f<0?h(s):s[0],l=f<0==(1==o.level)?"after":"before",0<o.level?(c=kf(i,r),e=f<0?r.text.length-1:0,a=vr(i,c,e).top,e=to(function(n){return vr(i,c,n).top==a},f<0==(1==o.level)?o.from:o.to-1,e),"before"==l&&(e=ah(r,e,1))):e=f<0?o.to:o.from,new n(u,e,l)):new n(u,f<0?r.text.length:0,f<0?"before":"after")}function fv(t,i,r,u){function s(t,r){return ah(i,t instanceof n?t.ch:t,r)}function p(n){return t.options.lineWrapping?(y=y||kf(t,i),e=ou(r=t,u=i,vr(r,f=y,n),"line").top,ky(r,u,f,e)):{begin:0,end:i.text.length};var r,u,f,e}function b(t,i,u){for(var c=function(t,i){return i?new n(r.line,s(t,1),"before"):new n(r.line,t,"after")};0<=t&&t<o.length;t+=i){var e=o[t],h=0<i==(1!=e.level),f=h?u.begin:s(u.end,-1);if(e.from<=f&&f<e.to||(f=h?e.from:s(e.to,-1),u.begin<=f&&f<u.end))return c(f,h)}}var o=di(i,t.doc.direction),v,f,y,h,l,e,w,c,a;return o?(r.ch>=i.text.length?(r.ch=i.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after"),v=oh(o,r.ch,r.sticky),f=o[v],"ltr"==t.doc.direction&&f.level%2==0&&(0<u?f.to>r.ch:f.from<r.ch))?vh(i,r,u):(h=p("before"==r.sticky?s(r,-1):r.ch),("rtl"==t.doc.direction||1==f.level)&&(l=1==f.level==u<0,e=s(r,l?1:-1),null!=e&&(l?e<=f.to&&e<=h.end:e>=f.from&&e>=h.begin)))?(w=l?"before":"after",new n(r.line,e,w)):(c=b(v+u,u,h),c)?c:(a=0<u?h.end:s(h.begin,-1),null==a||0<u&&a==i.text.length||!(c=b(0<u?0:o.length-1,u,p(a)))?null:c):vh(i,r,u)}function wh(n,t){return n._handlers&&n._handlers[t]||ph}function kt(n,t,i){var u,r,f;n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent?n.detachEvent("on"+t,i):!(r=(u=n._handlers)&&u[t])||-1<(f=tt(r,i))&&(u[t]=r.slice(0,f).concat(r.slice(f+1)))}function p(n,t){var r=wh(n,t),u,i;if(r.length)for(u=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,u)}function k(n,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),p(n,i||t.type,n,t),bh(t)||t.codemirrorIgnore}function ev(n){var i=n._handlers&&n._handlers.cursorActivity,r,t;if(i)for(r=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),t=0;t<i.length;++t)-1==tt(r,i[t])&&r.push(i[t])}function pt(n,t){return 0<wh(n,t).length}function uu(n){n.prototype.on=function(n,t){r(this,n,t)};n.prototype.off=function(n,t){kt(this,n,t)}}function rt(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function ov(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function bh(n){return null!=n.defaultPrevented?n.defaultPrevented:0==n.returnValue}function yf(n){rt(n);ov(n)}function kh(n){return n.target||n.srcElement}function sv(n){var t=n.which;return null==t&&(1&n.button?t=1:2&n.button?t=3:4&n.button&&(t=2)),bt&&n.ctrlKey&&1==t&&(t=3),t}function so(n){if("string"==typeof n&&fu.hasOwnProperty(n))n=fu[n];else if(n&&"string"==typeof n.name&&fu.hasOwnProperty(n.name)){var t=fu[n.name];"string"==typeof t&&(t={name:t});(n=oa(t,n)).name=t.name}else{if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return so("application/xml");if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return so("application/json")}return"string"==typeof n?{name:n}:n||{name:"null"}}function uc(n,t){var f,i,u,r,e;if(t=so(t),f=rc[t.name],!f)return uc(n,"text/plain");if(i=f(n,t),hr.hasOwnProperty(t.name)){u=hr[t.name];for(r in u)u.hasOwnProperty(r)&&(i.hasOwnProperty(r)&&(i["_"+r]=i[r]),i[r]=u[r])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(e in t.modeProps)i[e]=t.modeProps[e];return i}function sk(n,t){fr(t,hr.hasOwnProperty(n)?hr[n]:hr[n]={})}function ci(n,t){var r,u,i;if(!0===t)return t;if(n.copyState)return n.copyState(t);r={};for(u in t)i=t[u],i instanceof Array&&(i=i.concat([])),r[u]=i;return r}function fc(n,t){for(var i;n.innerMode&&(i=n.innerMode(t))&&i.mode!=n;)t=i.state,n=i.mode;return i||{mode:n,state:t}}function cv(n,t,i){return!n.startState||n.startState(t,i)}function lv(n,t,i,r){var u=[n.state.modeGen],f={},e;for(wv(n,t.text,n.doc.mode,i,function(n,t){return u.push(n,t)},f,r),e=0;e<n.state.overlays.length;++e)!function(i){var e=n.state.overlays[i],r=1,o=0;wv(n,t.text,e.mode,!0,function(n,t){for(var f,s,i=r;o<n;)f=u[r],n<f&&u.splice(r,1,n,u[r+1],f),r+=2,o=Math.min(n,f);if(t)if(e.opaque)u.splice(i,r-i,n,"overlay "+t),r=i+2;else for(;i<r;i+=2)s=u[i+1],u[i+1]=(s?s+" ":"")+"overlay "+t},f)}(e);return{styles:u,classes:f.bgClass||f.textClass?f:null}}function av(n,t,i){var r,u;return t.styles&&t.styles[0]==n.state.modeGen||(r=pf(n,c(t)),u=lv(n,t,t.text.length>n.options.maxHighlightLength?ci(n.doc.mode,r):r),t.stateAfter=r,t.styles=u.styles,u.classes?t.styleClasses=u.classes:t.styleClasses&&(t.styleClasses=null),i===n.doc.frontier&&n.doc.frontier++),t.styles}function pf(n,t,r){var f=n.doc,o=n.display,u,e;return f.mode.startState?(u=function(n,t,r){for(var o,s,h,e,f=n.doc,c=r?-1:t-(n.doc.mode.innerMode?1e3:100),u=t;c<u;--u){if(u<=f.first)return f.first;if(o=i(f,u-1),o.stateAfter&&(!r||u<=f.frontier))return u;s=yt(o.text,null,n.options.tabSize);(null==e||s<h)&&(e=u-1,h=s)}return e}(n,t,r),e=(e=u>f.first&&i(f,u-1).stateAfter)?ci(f.mode,e):cv(f.mode),f.iter(u,t,function(i){ec(n,i.text,e);var r=u==t-1||u%5==0||u>=o.viewFrom&&u<o.viewTo;i.stateAfter=r?ci(f.mode,e):null;++u}),r&&(f.frontier=u),e):!0}function ec(n,t,i,r){var f=n.doc.mode,u=new w(t,n.options.tabSize);for(u.start=u.pos=r||0,""==t&&vv(f,i);!u.eol();)oc(f,u,i),u.start=u.pos}function vv(n,t){if(n.blankLine)return n.blankLine(t);if(n.innerMode){var i=fc(n,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function oc(n,t,i,r){for(var f,u=0;u<10;u++)if(r&&(r[0]=fc(n,i).mode),f=n.token(t,i),t.pos>t.start)return f;throw new Error("Mode "+n.name+" failed to advance stream.");}function yv(n,t,r,u){function c(n){return{start:f.start,end:f.pos,string:f.current(),type:l||null,state:n?ci(o.mode,h):h}}var l,o=n.doc,a=o.mode;t=e(o,t);var s,v=i(o,t.line),h=pf(n,t.line,r),f=new w(v.text,n.options.tabSize);for(u&&(s=[]);(u||f.pos<t.ch)&&!f.eol();)f.start=f.pos,l=oc(a,f,h),u&&s.push(c(!0));return u?s:c()}function pv(n,t){var i,r;if(n)for(;;){if(i=n.match(/(?:^|\s+)line-(background-)?(\S+)/),!i)break;n=n.slice(0,i.index)+n.slice(i.index+i[0].length);r=i[1]?"bgClass":"textClass";null==t[r]?t[r]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+i[2])}return n}function wv(n,t,i,r,u,f,e){var c=i.flattenSpans,v,h,y;null==c&&(c=n.options.flattenSpans);var s=0,l=null,o=new w(t,n.options.tabSize),a=n.options.addModeClass&&[null];for(""==t&&pv(vv(i,r),f);!o.eol();){if(h=o.pos>n.options.maxHighlightLength?(c=!1,e&&ec(n,t,r,o.pos),o.pos=t.length,null):pv(oc(i,o,r,a),f),!a||(v=a[0].name)&&(h="m-"+(h?v+" "+h:v)),!c||l!=h){for(;s<o.start;)u(s=Math.min(o.start,s+5e3),l);l=h}o.start=o.pos}for(;s<o.pos;)y=Math.min(o.pos,s+5e3),u(y,l),s=y}function dv(n,t){if(!n||/^\s*$/.test(n))return null;var i=t.addModeClass?kv:bv;return i[n]||(i[n]=n.replace(/\S+/g,"cm-$&"))}function gv(n,i){var o=t("span",null,null,nt?"padding-right: .1px":null),r={pre:t("pre",[o],"CodeMirror-line"),content:o,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:(s||nt)&&n.getOption("lineWrapping")},e,f,u,h;for(o.setAttribute("role","presentation"),r.pre.setAttribute("role","presentation"),i.measure={},f=0;f<=(i.rest?i.rest.length:0);f++)u=f?i.rest[f-1]:i.line,h=void 0,r.pos=0,r.addToken=ck,function(n){if(null!=gh)return gh;var i=at(n,document.createTextNode("AخA")),t=tu(i,0,1).getBoundingClientRect(),r=tu(i,1,2).getBoundingClientRect();return bi(n),t&&t.left!=t.right&&(gh=r.right-t.right<3)}(n.display.measure)&&(h=di(u,n.doc.direction))&&(r.addToken=function(n,t){return function(i,r,u,f,e,o,s){var h,a,c,l;for(u=u?u+" cm-force-border":"cm-force-border",h=i.pos,a=h+r.length;;){for(c=void 0,l=0;l<t.length&&!((c=t[l]).to>h&&c.from<=h);l++);if(c.to>=a)return n(i,r,u,f,e,o,s);n(i,r.slice(0,c.to-h),u,f,null,o,s);f=null;r=r.slice(c.to-h);h=c.to}}}(r.addToken,h)),r.map=[],function(n,t,i){var nt=n.markedSpans,tt=n.text,y=0,l,u,f,v,d,c,et,g;if(!nt){for(l=1;l<i.length;l+=2)t.addToken(t,tt.slice(y,y=i[l]),dv(i[l+1],t.cm.options));return}for(var it,a,p,w,b,k,e,rt=tt.length,r=0,ot=1,s="",o=0;;){if(o==r){p=w=b=k=a="";e=null;o=1/0;for(var ut=[],h=void 0,ft=0;ft<nt.length;++ft)u=nt[ft],f=u.marker,"bookmark"==f.type&&u.from==r&&f.widgetNode?ut.push(f):u.from<=r&&(null==u.to||u.to>r||f.collapsed&&u.to==r&&u.from==r)?(null!=u.to&&u.to!=r&&o>u.to&&(o=u.to,w=""),f.className&&(p+=" "+f.className),f.css&&(a=(a?a+";":"")+f.css),f.startStyle&&u.from==r&&(b+=" "+f.startStyle),f.endStyle&&u.to==o&&(h=h||[]).push(f.endStyle,u.to),f.title&&!k&&(k=f.title),f.collapsed&&(!e||ba(e.marker,f)<0)&&(e=u)):u.from>r&&o>u.from&&(o=u.from);if(h)for(v=0;v<h.length;v+=2)h[v+1]==o&&(w+=" "+h[v]);if(!e||e.from==r)for(d=0;d<ut.length;++d)ny(t,0,ut[d]);if(e&&(e.from||0)==r){if(ny(t,(null==e.to?rt+1:e.to)-r,e.marker,null==e.from),null==e.to)return;e.to==r&&(e=!1)}}if(rt<=r)break;for(c=Math.min(rt,o);;){if(s){if(g=r+s.length,e||(et=c<g?s.slice(0,c-r):s,t.addToken(t,et,it?it+p:p,b,r+et.length==o?w:"",k,a)),c<=g){s=s.slice(c-r);r=c;break}r=g;b=""}s=tt.slice(y,y=i[ot++]);it=dv(i[ot++],t.cm.options)}}}(u,r,av(n,u,i!=n.display.externalMeasured&&c(u))),u.styleClasses&&(u.styleClasses.bgClass&&(r.bgClass=as(u.styleClasses.bgClass,r.bgClass||"")),u.styleClasses.textClass&&(r.textClass=as(u.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(function(n){var i,r;return null==dh&&(i=t("span","​"),at(n,t("span",[i,document.createTextNode("x")])),0!=n.firstChild.offsetHeight&&(dh=i.offsetWidth<=1&&2<i.offsetHeight&&!(s&&v<8))),r=dh?t("span","​"):t("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px"),r.setAttribute("cm-text",""),r}(n.display.measure))),0==f?(i.measure.map=r.map,i.measure.cache={}):((i.measure.maps||(i.measure.maps=[])).push(r.map),(i.measure.caches||(i.measure.caches=[])).push({}));return nt&&(e=r.content.lastChild,(/\bcm-tab\b/.test(e.className)||e.querySelector&&e.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")),p(n,"renderLine",n,i.line,r.pre),r.pre.className&&(r.textClass=as(r.pre.className,r.textClass||"")),r}function hk(n){var i=t("span","•","cm-invalidchar");return i.title="\\u"+n.charCodeAt(0).toString(16),i.setAttribute("aria-label",i.title),i}function ck(n,i,r,u,f,e,o){var a,p,c,y,tt,d,l,w,g;if(i){var h,b=n.splitSpaces?function(n,t){var r;if(1<n.length&&!/  /.test(n))return n;for(var u=t,f="",i=0;i<n.length;i++)r=n.charAt(i)," "==r&&u&&(i==n.length-1||32==n.charCodeAt(i+1))&&(r=" "),f+=r,u=" "==r;return f}(i,n.trailingSpace):i,k=n.cm.state.specialChars,nt=!1;if(k.test(i))for(h=document.createDocumentFragment(),a=0;;){if(k.lastIndex=a,c=k.exec(i),y=c?c.index-a:i.length-a,y&&(p=document.createTextNode(b.slice(a,a+y)),s&&v<9?h.appendChild(t("span",[p])):h.appendChild(p),n.map.push(n.pos,n.pos+y,p),n.col+=y,n.pos+=y),!c)break;a+=1+y;l=void 0;"\t"==c[0]?(d=(tt=n.cm.options.tabSize)-n.col%tt,(l=h.appendChild(t("span",bs(d),"cm-tab"))).setAttribute("role","presentation"),l.setAttribute("cm-text","\t"),n.col+=d):("\r"==c[0]||"\n"==c[0]?(l=h.appendChild(t("span","\r"==c[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",c[0]):((l=n.cm.options.specialCharPlaceholder(c[0])).setAttribute("cm-text",c[0]),s&&v<9?h.appendChild(t("span",[l])):h.appendChild(l)),n.col+=1);n.map.push(n.pos,n.pos+1,l);n.pos++}else n.col+=i.length,h=document.createTextNode(b),n.map.push(n.pos,n.pos+i.length,h),s&&v<9&&(nt=!0),n.pos+=i.length;if(n.trailingSpace=32==b.charCodeAt(i.length-1),r||u||f||nt||o)return w=r||"",u&&(w+=u),f&&(w+=f),g=t("span",[h],w,o),e&&(g.title=e),n.content.appendChild(g);n.content.appendChild(h)}}function ny(n,t,i,r){var u=!r&&i.widgetNode;u&&n.map.push(n.pos,n.pos+t,u);!r&&n.cm.display.input.needsContentAttribute&&(u=u||n.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",i.id);u&&(n.cm.display.input.setUneditable(u),n.content.appendChild(u));n.pos+=t;n.trailingSpace=!1}function ty(n,t,i){this.line=t;this.rest=function(n){for(var i,t;i=vf(n);)n=i.find(1,!0).line,(t=t||[]).push(n);return t}(t);this.size=this.rest?c(h(this.rest))-i+1:1;this.node=this.text=null;this.hidden=sr(n,t)}function ho(n,t,r){for(var e,o,f=[],u=t;u<r;u=o)e=new ty(n.doc,i(n.doc,u),u),o=u+e.size,f.push(e);return f}function lk(n,t){var i=n.ownsGroup;if(i)try{!function(n){var u=n.delayedCallbacks,i=0,r,t;do{for(;i<u.length;i++)u[i].call(null);for(r=0;r<n.ops.length;r++)if(t=n.ops[r],t.cursorActivityHandlers)for(;t.cursorActivityCalled<t.cursorActivityHandlers.length;)t.cursorActivityHandlers[t.cursorActivityCalled++].call(null,t.cm)}while(i<u.length)}(i)}finally{lr=null;t(i)}}function it(n,t){var u=wh(n,t),i,f,r;if(u.length)for(f=Array.prototype.slice.call(arguments,2),lr?i=lr.delayedCallbacks:eu?i=eu:(i=eu=[],setTimeout(ak,0)),r=0;r<u.length;++r)!function(n){i.push(function(){return u[n].apply(null,f)})}(r)}function ak(){var t=eu,n;for(eu=null,n=0;n<t.length;++n)t[n]()}function iy(n,t,i,r){for(var u,f=0;f<t.changes.length;f++)u=t.changes[f],"text"==u?function(n,t){var r=t.text.className,i=ry(n,t);t.text==t.node&&(t.node=i.pre);t.text.parentNode.replaceChild(i.pre,t.text);t.text=i.pre;i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,sc(n,t)):r&&(t.text.className=r)}(n,t):"gutter"==u?uy(n,t,i,r):"class"==u?sc(n,t):"widget"==u&&function(n,t,i){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,u=void 0;r;r=u)u=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);fy(n,t,i)}(n,t,r);t.changes=null}function wf(n){return n.node==n.text&&(n.node=t("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),s&&v<8&&(n.node.style.zIndex=2)),n.node}function ry(n,t){var i=n.display.externalMeasured;return i&&i.line==t.line?(n.display.externalMeasured=null,t.measure=i.measure,i.built):gv(n,t)}function sc(n,i){var e,r,f,u,o;e=n;(u=(r=i).bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass)&&(u+=" CodeMirror-linebackground");r.background?u?r.background.className=u:(r.background.parentNode.removeChild(r.background),r.background=null):u&&(f=wf(r),r.background=f.insertBefore(t("div",null,u),f.firstChild),e.display.input.setUneditable(r.background));i.line.wrapClass?wf(i).className=i.line.wrapClass:i.node!=i.text&&(i.node.className="");o=i.textClass?i.textClass+" "+(i.line.textClass||""):i.line.textClass;i.text.className=o||""}function uy(n,i,r,u){var c,f,l,e,s,o,h;if(i.gutter&&(i.node.removeChild(i.gutter),i.gutter=null),i.gutterBackground&&(i.node.removeChild(i.gutterBackground),i.gutterBackground=null),i.line.gutterClass&&(c=wf(i),i.gutterBackground=t("div",null,"CodeMirror-gutter-background "+i.line.gutterClass,"left: "+(n.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px; width: "+u.gutterTotalWidth+"px"),n.display.input.setUneditable(i.gutterBackground),c.insertBefore(i.gutterBackground,i.text)),f=i.line.gutterMarkers,(n.options.lineNumbers||f)&&(l=wf(i),e=i.gutter=t("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px"),n.display.input.setUneditable(e),l.insertBefore(e,i.text),i.line.gutterClass&&(e.className+=" "+i.line.gutterClass),!n.options.lineNumbers||f&&f["CodeMirror-linenumbers"]||(i.lineNumber=e.appendChild(t("div",nh(n.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+u.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),f))for(s=0;s<n.options.gutters.length;++s)o=n.options.gutters[s],h=f.hasOwnProperty(o)&&f[o],h&&e.appendChild(t("div",[h],"CodeMirror-gutter-elt","left: "+u.gutterLeft[o]+"px; width: "+u.gutterWidth[o]+"px"))}function fy(n,t,i){if(ey(n,t.line,t,i,!0),t.rest)for(var r=0;r<t.rest.length;r++)ey(n,t.rest[r],t,i,!1)}function ey(n,i,r,u,f){var e,o;if(i.widgets)for(var h=wf(r),s=0,c=i.widgets;s<c.length;++s)e=c[s],o=t("div",[e.node],"CodeMirror-linewidget"),e.handleMouseEvents||o.setAttribute("cm-ignore-events","true"),function(n,t,i,r){var u;n.noHScroll&&((i.alignable||(i.alignable=[])).push(t),u=r.wrapperWidth,t.style.left=r.fixedPos+"px",n.coverGutter||(u-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=u+"px");n.coverGutter&&(t.style.zIndex=5,t.style.position="relative",n.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}(e,o,r,u),n.display.input.setUneditable(o),f&&e.above?h.insertBefore(o,r.gutter||r.text):h.appendChild(o),it(e,"redraw")}function bf(n){if(null!=n.height)return n.height;var i,r=n.doc.cm;return r?(de(document.body,n.node)||(i="position: relative;",n.coverGutter&&(i+="margin-left: -"+r.display.gutters.offsetWidth+"px;"),n.noHScroll&&(i+="width: "+r.display.wrapper.clientWidth+"px;"),at(r.display.measure,t("div",[n.node],null,i))),n.height=n.node.parentNode.offsetHeight):0}function li(n,t){for(var i=kh(t);i!=n.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==n.sizer&&i!=n.mover)return 1}function co(n){return n.lineSpace.offsetTop}function hc(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function oy(n){if(n.cachedPaddingH)return n.cachedPaddingH;var r=at(n.measure,t("pre","x")),u=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,i={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(n.cachedPaddingH=i),i}function ri(n){return fa-n.display.nativeBarWidth}function ar(n){return n.display.scroller.clientWidth-ri(n)-n.display.barWidth}function cc(n){return n.display.scroller.clientHeight-ri(n)-n.display.barHeight}function sy(n,t,i){var r,u;if(n.line==t)return{map:n.measure.map,cache:n.measure.cache};for(r=0;r<n.rest.length;r++)if(n.rest[r]==t)return{map:n.measure.maps[r],cache:n.measure.caches[r]};for(u=0;u<n.rest.length;u++)if(c(n.rest[u])>i)return{map:n.measure.maps[u],cache:n.measure.caches[u],before:!0}}function hy(n,t,i,r){return vr(n,kf(n,t),i,r)}function lc(n,t){if(t>=n.display.viewFrom&&t<n.display.viewTo)return n.display.view[br(n,t)];var i=n.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size)return i}function kf(n,t){var u=c(t),i=lc(n,u),r;return i&&!i.text?i=null:i&&i.changes&&(iy(n,i,u,pc(n)),n.curOp.forceUpdate=!0),r=sy(i=i||function(n,t){var u=c(t=ii(t)),i=n.display.externalMeasured=new ty(n.doc,t,u),r;return i.lineN=u,r=i.built=gv(n,i),i.text=r.pre,at(n.display.lineMeasure,r.pre),i}(n,t),t,u),{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function vr(n,i,r,u,f){i.before&&(r=-1);var e,o=r+(u||"");return i.cache.hasOwnProperty(o)?e=i.cache[o]:(i.rect||(i.rect=i.view.text.getBoundingClientRect()),i.hasHeights||(function(n,t,i){var f=n.options.lineWrapping,h=f&&ar(n),e,u,r,o,s;if(!t.measure.heights||f&&t.measure.width!=h){if(e=t.measure.heights=[],f)for(t.measure.width=h,u=t.text.firstChild.getClientRects(),r=0;r<u.length-1;r++)o=u[r],s=u[r+1],2<Math.abs(o.bottom-s.bottom)&&e.push((o.bottom+s.top)/2-i.top);e.push(i.bottom-i.top)}}(n,i.view,i.rect),i.hasHeights=!0),(e=function(n,i,r,u){var f,b,e=cy(i.map,r,u),h=e.node,o=e.start,c=e.end,y=e.collapse,k,l;if(3==h.nodeType){for(k=0;k<4;k++){for(;o&&ds(i.line.text.charAt(e.coverStart+o));)--o;for(;e.coverStart+c<e.coverEnd&&ds(i.line.text.charAt(e.coverStart+c));)++c;if((f=s&&v<9&&0==o&&c==e.coverEnd-e.coverStart?h.parentNode.getBoundingClientRect():function(n,t){var i=ac,r,u;if("left"==t)for(r=0;r<n.length&&(i=n[r]).left==i.right;r++);else for(u=n.length-1;0<=u&&(i=n[u]).left==i.right;u--);return i}(tu(h,o,c).getClientRects(),u)).left||f.right||0==o)break;c=o;--o;y="right"}s&&v<11&&(f=function(n,i){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(n){if(null!=ic)return ic;var i=at(n,t("span","x")),r=i.getBoundingClientRect(),u=tu(i,0,1).getBoundingClientRect();return ic=1<Math.abs(r.left-u.left)}(n))return i;var r=screen.logicalXDPI/screen.deviceXDPI,u=screen.logicalYDPI/screen.deviceYDPI;return{left:i.left*r,right:i.right*r,top:i.top*u,bottom:i.bottom*u}}(n.display.measure,f))}else 0<o&&(y=u="right"),f=n.options.lineWrapping&&1<(b=h.getClientRects()).length?b["right"==u?b.length-1:0]:h.getBoundingClientRect();!(s&&v<9)||o||f&&(f.left||f.right)||(l=h.parentNode.getClientRects()[0],f=l?{left:l.left,right:l.left+gf(n.display),top:l.top,bottom:l.bottom}:ac);for(var d=f.top-i.rect.top,g=f.bottom-i.rect.top,nt=(d+g)/2,p=i.view.measure.heights,a=0;a<p.length-1&&!(nt<p[a]);a++);var tt=a?p[a-1]:0,it=p[a],w={left:("right"==y?f.right:f.left)-i.rect.left,right:("left"==y?f.left:f.right)-i.rect.left,top:tt,bottom:it};return f.left||f.right||(w.bogus=!0),n.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=g),w}(n,i,r,u)).bogus||(i.cache[o]=e)),{left:e.left,right:e.right,top:f?e.rtop:e.top,bottom:f?e.rbottom:e.bottom}}function cy(n,t,i){for(var s,f,h,o,e,u,r=0;r<n.length;r+=3)if(e=n[r],u=n[r+1],t<e?(f=0,h=1,o="left"):t<u?h=(f=t-e)+1:(r==n.length-3||t==u&&n[r+3]>t)&&(f=(h=u-e)-1,u<=t&&(o="right")),null!=f){if(s=n[r+2],e==u&&i==(s.insertLeft?"left":"right")&&(o=i),"left"==i&&0==f)for(;r&&n[r-2]==n[r-3]&&n[r-1].insertLeft;)s=n[2+(r-=3)],o="left";if("right"==i&&f==u-e)for(;r<n.length-3&&n[r+3]==n[r+4]&&!n[r+5].insertLeft;)s=n[(r+=3)+2],o="right";break}return{node:s,start:f,end:h,collapse:o,coverStart:e,coverEnd:u}}function ly(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var t=0;t<n.rest.length;t++)n.measure.caches[t]={}}function ay(n){n.display.externalMeasure=null;bi(n.display.lineMeasure);for(var t=0;t<n.display.view.length;t++)ly(n.display.view[t])}function df(n){ay(n);n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null;n.options.lineWrapping||(n.display.maxLineChanged=!0);n.display.lineNumChars=null}function vy(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function yy(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ou(n,t,i,r,u){var o,e,h,s,f;if(!u&&t.widgets)for(e=0;e<t.widgets.length;++e)t.widgets[e].above&&(o=bf(t.widgets[e]),i.top+=o,i.bottom+=o);return"line"==r?i:(r=r||"local",f=hi(t),"local"==r?f+=co(n.display):f-=n.display.viewOffset,"page"!=r&&"window"!=r||(f+=(h=n.display.lineSpace.getBoundingClientRect()).top+("window"==r?0:yy()),s=h.left+("window"==r?0:vy()),i.left+=s,i.right+=s),i.top+=f,i.bottom+=f,i)}function py(n,t,i){var e,r,u,f;return"div"==i?t:(r=t.left,u=t.top,"page"==i?(r-=vy(),u-=yy()):"local"!=i&&i||(r+=(e=n.display.sizer.getBoundingClientRect()).left,u+=e.top),f=n.display.lineSpace.getBoundingClientRect(),{left:r-f.left,top:u-f.top})}function vc(n,t,r,u,f){return ou(n,u=u||i(n.doc,t.line),hy(n,u,t.ch,f),r)}function dt(n,t,r,u,f,e){function c(t,i){var o=vr(n,f,t,i?"right":"left",e);return i?o.left=o.right:o.right=o.left,ou(n,u,o,r)}function l(n,t,i){return c(i?n-1:n,h[t].level%2!=0!=i)}u=u||i(n.doc,t.line);f=f||kf(n,u);var h=di(u,n.doc.direction),o=t.ch,s=t.sticky;if(o>=u.text.length?(o=u.text.length,s="before"):o<=0&&(o=0,s="after"),!h)return c("before"==s?o-1:o,"before"==s);var y=oh(h,o,s),a=iu,v=l(o,y,"before"==s);return null!=a&&(v.other=l(o,a,"before"!=s)),v}function wy(n,t){var r=0,u,f;return t=e(n.doc,t),n.options.lineWrapping||(r=gf(n.display)*t.ch),u=i(n.doc,t.line),f=hi(u)+co(n.display),{left:r,right:r,top:f,bottom:f+u.height}}function by(t,i,r,u,f){var e=n(t,i,r);return e.xRel=f,u&&(e.outside=!0),e}function yc(t,r,u){var f=t.doc,e,h,o;if((u+=t.display.viewOffset)<0)return by(f.first,0,null,!0,-1);if(e=or(f,u),h=f.first+f.size-1,h<e)return by(f.first+f.size-1,i(f,h).text.length,null,!0,1);for(r<0&&(r=0),o=i(f,e);;){var s=function(t,i,r,u,f){var c,l;f-=hi(i);var e,y,a=0,o=i.text.length,h=kf(t,i);if(di(i,t.doc.direction)){t.options.lineWrapping&&(y=ky(t,i,h,f),a=y.begin,o=y.end);e=new n(r,a);var v,p,w=dt(t,e,"line",i,h).left,b=w<u?1:-1,s=w-u;do{if(v=s,null==(e=fv(t,i,p=e,b))||e.ch<a||o<=("before"==e.sticky?e.ch-1:e.ch)){e=p;break}s=dt(t,e,"line",i,h).left-u}while(b<0!=s<0&&Math.abs(s)<=Math.abs(v));if(Math.abs(s)>Math.abs(v)){if(s<0==v<0)throw new Error("Broke out of infinite loop in coordsCharInner");e=p}}else c=to(function(n){var r=ou(t,i,vr(t,h,n),"line");return r.top>f?(o=Math.min(n,o),1):!(r.bottom<=f)&&(r.left>u||!(r.right<u)&&u-r.left<r.right-u)},a,o),c=la(i.text,c,1),e=new n(r,c,c==o?"before":"after");return l=dt(t,e,"line",i,h),(f<l.top||l.bottom<f)&&(e.outside=!0),e.xRel=u<l.left?-1:u>l.right?1:0,e}(t,o,e,r,u),l=vf(o),a=l&&l.find(0,!0);if(!l||!(s.ch>a.from.ch||s.ch==a.from.ch&&0<s.xRel))return s;e=c(o=a.to.line)}}function ky(n,t,i,r){function f(r){return ou(n,t,vr(n,i,r),"line")}var u=t.text.length,e=to(function(n){return f(n-1).bottom<=r},u,0);return{begin:e,end:u=to(function(n){return f(n).top>r},e,u)}}function pr(n){var r,i;if(null!=n.cachedTextHeight)return n.cachedTextHeight;if(null==yr){for(yr=t("pre"),r=0;r<49;++r)yr.appendChild(document.createTextNode("x")),yr.appendChild(t("br"));yr.appendChild(document.createTextNode("x"))}return at(n.measure,yr),i=yr.offsetHeight/50,3<i&&(n.cachedTextHeight=i),bi(n.measure),i||1}function gf(n){var r,f,u,i;return null!=n.cachedCharWidth?n.cachedCharWidth:(r=t("span","xxxxxxxxxx"),f=t("pre",[r]),at(n.measure,f),u=r.getBoundingClientRect(),i=(u.right-u.left)/10,2<i&&(n.cachedCharWidth=i),i||10)}function pc(n){for(var i=n.display,u={},f={},e=i.gutters.clientLeft,t=i.gutters.firstChild,r=0;t;t=t.nextSibling,++r)u[n.options.gutters[r]]=t.offsetLeft+t.clientLeft+e,f[n.options.gutters[r]]=t.clientWidth;return{fixedPos:wc(i),gutterTotalWidth:i.gutters.offsetWidth,gutterLeft:u,gutterWidth:f,wrapperWidth:i.wrapper.clientWidth}}function wc(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function dy(n){var t=pr(n.display),i=n.options.lineWrapping,r=i&&Math.max(5,n.display.scroller.clientWidth/gf(n.display)-3);return function(u){var e,f;if(sr(n.doc,u))return 0;if(e=0,u.widgets)for(f=0;f<u.widgets.length;f++)u.widgets[f].height&&(e+=u.widgets[f].height);return i?e+(Math.ceil(u.text.length/r)||1)*t:e+t}}function bc(n){var t=n.doc,i=dy(n);t.iter(function(n){var t=i(n);t!=n.height&&ti(n,t)})}function wr(t,r,u,f){var a=t.display,s,c,h,o,l,e;if(!u&&"true"==kh(r).getAttribute("cm-not-content"))return null;h=a.lineSpace.getBoundingClientRect();try{s=r.clientX-h.left;c=r.clientY-h.top}catch(r){return null}return e=yc(t,s,c),f&&1==e.xRel&&(o=i(t.doc,e.line).text).length==e.ch&&(l=yt(o,o.length,t.options.tabSize)-o.length,e=n(e.line,Math.max(0,Math.round((s-oy(t.display).left)/gf(t.display))-l))),e}function br(n,t){if(t>=n.display.viewTo||(t-=n.display.viewFrom)<0)return null;for(var r=n.display.view,i=0;i<r.length;i++)if((t-=r[i].size)<0)return i}function ne(n){n.display.input.showSelection(n.display.input.prepareSelection())}function gy(r,u){for(var f,h,o=r.doc,s={},c=s.cursors=document.createDocumentFragment(),l=s.selection=document.createDocumentFragment(),e=0;e<o.sel.ranges.length;e++)!1===u&&e==o.sel.primIndex||(f=o.sel.ranges[e]).from().line>=r.display.viewTo||f.to().line<r.display.viewFrom||(((h=f.empty())||r.options.showCursorWhenSelecting)&&np(r,f.head,c),h||function(r,u,f){function s(n,i,r,u){i<0&&(i=0);i=Math.round(i);u=Math.round(u);b.appendChild(t("div",null,"CodeMirror-selected","position: absolute; left: "+n+"px;\n                             top: "+i+"px; width: "+(null==r?d-n:r)+"px;\n                             height: "+(u-i)+"px"))}function y(t,u,f){function v(i,u){return vc(r,n(t,i),"div",c,u)}var e,o,c=i(a,t),l=c.text.length;return function(n,t,i,r){var e,f,u;if(!n)return r(t,i,"ltr");for(e=!1,f=0;f<n.length;++f)u=n[f],(u.from<i&&u.to>t||t==i&&u.to==t)&&(r(Math.max(u.from,t),Math.min(u.to,i),1==u.level?"rtl":"ltr"),e=!0);e||r(t,i,"ltr")}(di(c,a.direction),u||0,null==f?l:f,function(n,t,i){var a,y,p,r,c=v(n,"left");n==t?a=y=(r=c).left:(r=v(t-1,"right"),"rtl"==i&&(p=c,c=r,r=p),a=c.left,y=r.right);null==u&&0==n&&(a=h);3<r.top-c.top&&(s(a,c.top,null,c.bottom),a=h,c.bottom<r.top&&s(a,c.bottom,null,r.top));null==f&&t==l&&(y=d);(!e||c.top<e.top||c.top==e.top&&c.left<e.left)&&(e=c);(!o||r.bottom>o.bottom||r.bottom==o.bottom&&r.right>o.right)&&(o=r);a<h+1&&(a=h);s(a,r.top,y-a,r.bottom)}),{start:e,end:o}}var w=r.display,a=r.doc,b=document.createDocumentFragment(),k=oy(r.display),h=k.left,d=Math.max(w.sizerWidth,ar(r)-w.sizer.offsetLeft)-k.right,c=u.from(),l=u.to(),p,g,v,e,o;c.line==l.line?y(c.line,c.ch,l.ch):(p=i(a,c.line),g=i(a,l.line),v=ii(p)==ii(g),e=y(c.line,c.ch,v?p.text.length+1:null).end,o=y(l.line,v?0:null,l.ch).start,v&&(e.top<o.top-2?(s(e.right,e.top,null,e.bottom),s(h,o.top,o.left,o.bottom)):s(e.right,e.top,o.left-e.right,e.bottom)),e.bottom<o.top&&s(h,e.bottom,null,o.top));f.appendChild(b)}(r,f,l));return s}function np(n,i,r){var f,u=dt(n,i,"div",null,null,!n.options.singleCursorHeightPerLine),e=r.appendChild(t("div"," ","CodeMirror-cursor"));e.style.left=u.left+"px";e.style.top=u.top+"px";e.style.height=Math.max(0,u.bottom-u.top)*n.options.cursorHeight+"px";u.other&&((f=r.appendChild(t("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"))).style.display="",f.style.left=u.other.left+"px",f.style.top=u.other.top+"px",f.style.height=.85*(u.other.bottom-u.other.top)+"px")}function kc(n){var t,i;n.state.focused&&(t=n.display,clearInterval(t.blinker),i=!0,t.cursorDiv.style.visibility="",0<n.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden"))}function tp(n){n.state.focused||(n.display.input.focus(),dc(n))}function dc(n,t){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1);"nocursor"!=n.options.readOnly&&(n.state.focused||(p(n,"focus",n,t),n.state.focused=!0,rr(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(n.display.input.reset(),nt&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),kc(n))}function te(n,t){n.state.delayingBlurEvent||(n.state.focused&&(p(n,"blur",n,t),n.state.focused=!1,wi(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function gc(n){var i=n.display,r=i.view,u,f;if(i.alignWidgets||i.gutters.firstChild&&n.options.fixedGutter){for(var o=wc(i)-i.scroller.scrollLeft+n.doc.scrollLeft,s=i.gutters.offsetWidth,e=o+"px",t=0;t<r.length;t++)if(!r[t].hidden&&(n.options.fixedGutter&&(r[t].gutter&&(r[t].gutter.style.left=e),r[t].gutterBackground&&(r[t].gutterBackground.style.left=e)),u=r[t].alignable,u))for(f=0;f<u.length;f++)u[f].style.left=e;n.options.fixedGutter&&(i.gutters.style.left=o+s+"px")}}function ip(n){if(n.options.lineNumbers){var u=n.doc,r=nh(n.options,u.first+u.size-1),i=n.display;if(r.length!=i.lineNumChars){var f=i.measure.appendChild(t("div",[t("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=f.firstChild.offsetWidth,o=f.offsetWidth-e;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(e,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",fl(n),1}}}function lo(n){for(var h,c,t,i,e,u,r=n.display,o=r.lineDiv.offsetTop,f=0;f<r.view.length;f++)if(t=r.view[f],i=void 0,!t.hidden&&(s&&v<8?(i=(h=t.node.offsetTop+t.node.offsetHeight)-o,o=h):i=(c=t.node.getBoundingClientRect()).bottom-c.top,e=t.line.height-i,i<2&&(i=pr(r)),(.001<e||e<-.001)&&(ti(t.line,i),rp(t.line),t.rest)))for(u=0;u<t.rest.length;u++)rp(t.rest[u])}function rp(n){if(n.widgets)for(var t=0;t<n.widgets.length;++t)n.widgets[t].height=n.widgets[t].node.parentNode.offsetHeight}function nl(n,t,r){var s,f,e=r&&null!=r.top?Math.max(0,r.top):n.scroller.scrollTop,e=Math.floor(e-co(n)),h=r&&null!=r.bottom?r.bottom:e+n.wrapper.clientHeight,u=or(t,e),o=or(t,h);return r&&r.ensure&&(s=r.ensure.from.line,f=r.ensure.to.line,s<u?o=or(t,hi(i(t,u=s))+n.wrapper.clientHeight):Math.min(f,t.lastLine())>=o&&(u=or(t,hi(i(t,f))-n.wrapper.clientHeight),o=f)),{from:u,to:Math.max(o,u+1)}}function ie(n,t){Math.abs(n.doc.scrollTop-t)<2||(n.doc.scrollTop=t,pi||ul(n,{top:t}),n.display.scroller.scrollTop!=t&&(n.display.scroller.scrollTop=t),n.display.scrollbars.setScrollTop(t),pi&&ul(n),ee(n,100))}function su(n,t,i){(i?t==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-t)<2)||(t=Math.min(t,n.display.scroller.scrollWidth-n.display.scroller.clientWidth),n.doc.scrollLeft=t,gc(n),n.display.scroller.scrollLeft!=t&&(n.display.scroller.scrollLeft=t),n.display.scrollbars.setScrollLeft(t))}function up(n){var i=n.wheelDeltaX,t=n.wheelDeltaY;return null==i&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(i=n.detail),null==t&&n.detail&&n.axis==n.VERTICAL_AXIS?t=n.detail:null==t&&(t=n.wheelDelta),{x:i,y:t}}function vk(n){var t=up(n);return t.x*=ht,t.y*=ht,t}function fp(n,t){var o,s,h,v=up(t),e=v.x,u=v.y,i=n.display,r=i.scroller,y=r.scrollWidth>r.clientWidth,l=r.scrollHeight>r.clientHeight,f,a,c;if(e&&y||u&&l){if(u&&bt&&nt)n:for(f=t.target,a=i.view;f!=r;f=f.parentNode)for(c=0;c<a.length;c++)if(a[c].node==f){n.display.currentWheelTarget=f;break n}if(e&&!pi&&!wt&&null!=ht)return u&&l&&ie(n,Math.max(0,Math.min(r.scrollTop+u*ht,r.scrollHeight-r.clientHeight))),su(n,Math.max(0,Math.min(r.scrollLeft+e*ht,r.scrollWidth-r.clientWidth))),(!u||u&&l)&&rt(t),void(i.wheelStartX=null);u&&null!=ht&&(o=u*ht,h=(s=n.doc.scrollTop)+i.wrapper.clientHeight,o<0?s=Math.max(0,s+o-50):h=Math.min(n.doc.height,h+o+50),ul(n,{top:s,bottom:h}));re<20&&(null==i.wheelStartX?(i.wheelStartX=r.scrollLeft,i.wheelStartY=r.scrollTop,i.wheelDX=e,i.wheelDY=u,setTimeout(function(){var n,u,t;null!=i.wheelStartX&&(n=r.scrollLeft-i.wheelStartX,t=(u=r.scrollTop-i.wheelStartY)&&i.wheelDY&&u/i.wheelDY||n&&i.wheelDX&&n/i.wheelDX,i.wheelStartX=i.wheelStartY=null,t&&(ht=(ht*re+t)/(re+1),++re))},200)):(i.wheelDX+=e,i.wheelDY+=u))}}function ue(n){var t=n.display,i=t.gutters.offsetWidth,r=Math.round(n.doc.height+hc(n.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:n.options.fixedGutter?i:0,docHeight:r,scrollHeight:r+ri(n)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function kr(n,i,u){this.cm=u;var f=this.vert=t("div",[t("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),e=this.horiz=t("div",[t("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n(f);n(e);r(f,"scroll",function(){f.clientHeight&&i(f.scrollTop,"vertical")});r(e,"scroll",function(){e.clientWidth&&i(e.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;s&&v<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function fe(){}function hu(n,t){var i,r,u;for(t=t||ue(n),i=n.display.barWidth,r=n.display.barHeight,ep(n,t),u=0;u<4&&i!=n.display.barWidth||r!=n.display.barHeight;u++)i!=n.display.barWidth&&n.options.lineWrapping&&lo(n),ep(n,ue(n)),i=n.display.barWidth,r=n.display.barHeight}function ep(n,t){var i=n.display,r=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=r.right)+"px";i.sizer.style.paddingBottom=(i.barHeight=r.bottom)+"px";i.heightForcer.style.borderBottom=r.bottom+"px solid transparent";r.right&&r.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=r.bottom+"px",i.scrollbarFiller.style.width=r.right+"px"):i.scrollbarFiller.style.display="";r.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function op(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&wi(n.display.wrapper,n.display.scrollbars.addClass));n.display.scrollbars=new tl[n.options.scrollbarStyle](function(t){n.display.wrapper.insertBefore(t,n.display.scrollbarFiller);r(t,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)});t.setAttribute("cm-not-content","true")},function(t,i){("horizontal"==i?su:ie)(n,t)},n);n.display.scrollbars.addClass&&rr(n.display.wrapper,n.display.scrollbars.addClass)}function ao(n,t){var r=n.display,s=pr(n.display);t.top<0&&(t.top=0);var e=n.curOp&&null!=n.curOp.scrollTop?n.curOp.scrollTop:r.scroller.scrollTop,u=cc(n),i={};t.bottom-t.top>u&&(t.bottom=t.top+u);var h,c=n.doc.height+hc(r),a=t.top<s,v=t.bottom>c-s;t.top<e?i.scrollTop=a?0:t.top:t.bottom>e+u&&(h=Math.min(t.top,(v?c:t.bottom)-u))!=e&&(i.scrollTop=h);var l=n.curOp&&null!=n.curOp.scrollLeft?n.curOp.scrollLeft:r.scroller.scrollLeft,f=ar(n)-(n.options.fixedGutter?r.gutters.offsetWidth:0),o=t.right-t.left>f;return o&&(t.right=t.left+f),t.left<10?i.scrollLeft=0:t.left<l?i.scrollLeft=Math.max(0,t.left-(o?0:10)):t.right>f+l-3&&(i.scrollLeft=t.right+(o?0:10)-f),i}function il(n,t,i){null==t&&null==i||vo(n);null!=t&&(n.curOp.scrollLeft=(null==n.curOp.scrollLeft?n.doc.scrollLeft:n.curOp.scrollLeft)+t);null!=i&&(n.curOp.scrollTop=(null==n.curOp.scrollTop?n.doc.scrollTop:n.curOp.scrollTop)+i)}function cu(t){vo(t);var i=t.getCursor(),r=i,u=i;t.options.lineWrapping||(r=i.ch?n(i.line,i.ch-1):i,u=n(i.line,i.ch+1));t.curOp.scrollToPos={from:r,to:u,margin:t.options.cursorScrollMargin}}function vo(n){var t,i,u,r=n.curOp.scrollToPos;r&&(n.curOp.scrollToPos=null,t=wy(n,r.from),i=wy(n,r.to),u=ao(n,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-r.margin,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+r.margin}),n.scrollTo(u.scrollLeft,u.scrollTop))}function lu(n){var t;n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++sp};t=n.curOp;lr?lr.ops.push(t):t.ownsGroup=lr={ops:[t],delayedCallbacks:[]}}function au(n){lk(n.curOp,function(n){for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;!function(n){for(var u,f,o,s,i=n.ops,r=0;r<i.length;r++)!function(n){var t=n.cm,i=t.display;(function(n){var t=n.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=ri(n)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=ri(n)+"px",t.scrollbarsClipped=!0)})(t);n.updateMaxLine&&eh(t);n.mustUpdate=n.viewChanged||n.forceUpdate||null!=n.scrollTop||n.scrollToPos&&(n.scrollToPos.from.line<i.viewFrom||n.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping;n.update=n.mustUpdate&&new oe(t,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}(i[r]);for(u=0;u<i.length;u++)!function(n){n.updatedDisplay=n.mustUpdate&&rl(n.cm,n.update)}(i[u]);for(f=0;f<i.length;f++)!function(n){var t=n.cm,i=t.display;n.updatedDisplay&&lo(t);n.barMeasure=ue(t);i.maxLineChanged&&!t.options.lineWrapping&&(n.adjustWidthTo=hy(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+n.adjustWidthTo+ri(t)+t.display.barWidth),n.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+n.adjustWidthTo-ar(t)));(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=i.input.prepareSelection(n.focus))}(i[f]);for(o=0;o<i.length;o++)!function(n){var t=n.cm,i;null!=n.adjustWidthTo&&(t.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<t.doc.scrollLeft&&su(t,Math.min(t.display.scroller.scrollLeft,n.maxScrollLeft),!0),t.display.maxLineChanged=!1);i=n.focus&&n.focus==ei()&&(!document.hasFocus||document.hasFocus());n.preparedSelection&&t.display.input.showSelection(n.preparedSelection,i);(n.updatedDisplay||n.startHeight!=t.doc.height)&&hu(t,n.barMeasure);n.updatedDisplay&&el(t,n.barMeasure);n.selectionChanged&&kc(t);t.state.focused&&n.updateInput&&t.display.input.reset(n.typing);i&&tp(n.cm)}(i[o]);for(s=0;s<i.length;s++)!function(n){var r=n.cm,i=r.display,u=r.doc,c,f,o,s,h;if(n.updatedDisplay&&cp(r,n.update),null!=i.wheelStartX&&(null!=n.scrollTop||null!=n.scrollLeft||n.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),null!=n.scrollTop&&(i.scroller.scrollTop!=n.scrollTop||n.forceScroll)&&(u.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,n.scrollTop)),i.scrollbars.setScrollTop(u.scrollTop),i.scroller.scrollTop=u.scrollTop),null!=n.scrollLeft&&(i.scroller.scrollLeft!=n.scrollLeft||n.forceScroll)&&(u.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,n.scrollLeft)),i.scrollbars.setScrollLeft(u.scrollLeft),i.scroller.scrollLeft=u.scrollLeft,gc(r)),n.scrollToPos&&(c=function(n,t,i,r){var o;for(null==r&&(r=0),o=0;o<5;o++){var h,s=!1,u=dt(n,t),f=i&&i!=t?dt(n,i):u,e=ao(n,h={left:Math.min(u.left,f.left),top:Math.min(u.top,f.top)-r,right:Math.max(u.left,f.left),bottom:Math.max(u.bottom,f.bottom)+r}),c=n.doc.scrollTop,l=n.doc.scrollLeft;if(null!=e.scrollTop&&(ie(n,e.scrollTop),1<Math.abs(n.doc.scrollTop-c)&&(s=!0)),null!=e.scrollLeft&&(su(n,e.scrollLeft),1<Math.abs(n.doc.scrollLeft-l)&&(s=!0)),!s)break}return h}(r,e(u,n.scrollToPos.from),e(u,n.scrollToPos.to),n.scrollToPos.margin),function(n,i){var f,e,r,u;k(n,"scrollCursorIntoView")||(e=(f=n.display).sizer.getBoundingClientRect(),r=null,i.top+e.top<0?r=!0:i.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null==r||ik||(u=t("div","​",null,"position: absolute;\n                         top: "+(i.top-f.viewOffset-co(n.display))+"px;\n                         height: "+(i.bottom-i.top+ri(n)+f.barHeight)+"px;\n                         left: "+i.left+"px; width: "+Math.max(2,i.right-i.left)+"px;"),n.display.lineSpace.appendChild(u),u.scrollIntoView(r),n.display.lineSpace.removeChild(u)))}(r,c)),f=n.maybeHiddenMarkers,o=n.maybeUnhiddenMarkers,f)for(s=0;s<f.length;++s)f[s].lines.length||p(f[s],"hide");if(o)for(h=0;h<o.length;++h)o[h].lines.length&&p(o[h],"unhide");i.wrapper.offsetHeight&&(u.scrollTop=r.display.scroller.scrollTop);n.changeObjs&&p(r,"changes",r,n.changeObjs);n.update&&n.update.finish()}(i[s])}(n)})}function ct(n,t){if(n.curOp)return t();lu(n);try{return t()}finally{au(n)}}function d(n,t){return function(){if(n.curOp)return t.apply(n,arguments);lu(n);try{return t.apply(n,arguments)}finally{au(n)}}}function ot(n){return function(){if(this.curOp)return n.apply(this,arguments);lu(this);try{return n.apply(this,arguments)}finally{au(this)}}}function g(n){return function(){var t=this.cm;if(!t||t.curOp)return n.apply(this,arguments);lu(t);try{return n.apply(this,arguments)}finally{au(t)}}}function st(n,t,i,r){var s,h,e,o,u,f;null==t&&(t=n.doc.first);null==i&&(i=n.doc.first+n.doc.size);r=r||0;u=n.display;r&&i<u.viewTo&&(null==u.updateLineNumbers||u.updateLineNumbers>t)&&(u.updateLineNumbers=t);n.curOp.viewChanged=!0;t>=u.viewTo?si&&fh(n.doc,t)<u.viewTo&&nr(n):i<=u.viewFrom?si&&nv(n.doc,i+r)>u.viewFrom?nr(n):(u.viewFrom+=r,u.viewTo+=r):t<=u.viewFrom&&i>=u.viewTo?nr(n):t<=u.viewFrom?(s=yo(n,i,i+r,1))?(u.view=u.view.slice(s.index),u.viewFrom=s.lineN,u.viewTo+=r):nr(n):i>=u.viewTo?(h=yo(n,t,t,-1))?(u.view=u.view.slice(0,h.index),u.viewTo=h.lineN):nr(n):(e=yo(n,t,t,-1),o=yo(n,i,i+r,1),e&&o?(u.view=u.view.slice(0,e.index).concat(ho(n,e.lineN,o.lineN)).concat(u.view.slice(o.index)),u.viewTo+=r):nr(n));f=u.externalMeasured;f&&(i<f.lineN?f.lineN+=r:t<f.lineN+f.size&&(u.externalMeasured=null))}function gi(n,t,i){n.curOp.viewChanged=!0;var f,e,r=n.display,u=n.display.externalMeasured;u&&t>=u.lineN&&t<u.lineN+u.size&&(r.externalMeasured=null);t<r.viewFrom||t>=r.viewTo||null==(f=r.view[br(n,t)]).node||-1==tt(e=f.changes||(f.changes=[]),i)&&e.push(i)}function nr(n){n.display.viewFrom=n.display.viewTo=n.doc.first;n.display.view=[];n.display.viewOffset=0}function yo(n,t,i,r){var o,u=br(n,t),f=n.display.view,e,s;if(!si||i==n.doc.first+n.doc.size)return{index:u,lineN:i};for(e=n.display.viewFrom,s=0;s<u;s++)e+=f[s].size;if(e!=t){if(0<r){if(u==f.length-1)return null;o=e+f[u].size-t;u++}else o=e-t;t+=o;i+=o}for(;fh(n.doc,i)!=i;){if(u==(r<0?0:f.length-1))return null;i+=r*f[u-(r<0?1:0)].size;u+=r}return{index:u,lineN:i}}function hp(n){for(var t,r=n.display.view,u=0,i=0;i<r.length;i++)t=r[i],t.hidden||t.node&&!t.changes||++u;return u}function ee(n,t){n.doc.mode.startState&&n.doc.frontier<n.display.viewTo&&n.state.highlight.set(t,vs(yk,n))}function yk(n){var u,i,r,t=n.doc;t.frontier<t.first&&(t.frontier=t.first);t.frontier>=n.display.viewTo||(u=+new Date+n.options.workTime,i=ci(t.mode,pf(n,t.frontier)),r=[],t.iter(t.frontier,Math.min(t.first+t.size,n.display.viewTo+500),function(f){var o,e,c,s;if(t.frontier>=n.display.viewFrom){var h=f.styles,l=f.text.length>n.options.maxHighlightLength,a=lv(n,f,l?ci(t.mode,i):i,!0);for(f.styles=a.styles,o=f.styleClasses,e=a.classes,e?f.styleClasses=e:o&&(f.styleClasses=null),c=!h||h.length!=f.styles.length||o!=e&&(!o||!e||o.bgClass!=e.bgClass||o.textClass!=e.textClass),s=0;!c&&s<h.length;++s)c=h[s]!=f.styles[s];c&&r.push(t.frontier);f.stateAfter=l?i:ci(t.mode,i)}else f.text.length<=n.options.maxHighlightLength&&ec(n,f.text,i),f.stateAfter=t.frontier%5==0?ci(t.mode,i):null;if(++t.frontier,+new Date>u)return ee(n,n.options.workDelay),!0}),r.length&&ct(n,function(){for(var t=0;t<r.length;t++)gi(n,r[t],"text")}))}function rl(n,t){var r=n.display,l=n.doc,h,f,e,u,v,a,c;if(t.editorIsHidden)return nr(n),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==hp(n))return!1;ip(n)&&(nr(n),t.dims=pc(n));var y=l.first+l.size,o=Math.max(t.visible.from-n.options.viewportMargin,l.first),s=Math.min(y,t.visible.to+n.options.viewportMargin);return(r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(l.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(y,r.viewTo)),si&&(o=fh(n.doc,o),s=nv(n.doc,s)),v=o!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth,f=o,e=s,0==(u=(h=n).display).view.length||f>=u.viewTo||e<=u.viewFrom?(u.view=ho(h,f,e),u.viewFrom=f):(u.viewFrom>f?u.view=ho(h,f,u.viewFrom).concat(u.view):u.viewFrom<f&&(u.view=u.view.slice(br(h,f))),u.viewFrom=f,u.viewTo<e?u.view=u.view.concat(ho(h,u.viewTo,e)):u.viewTo>e&&(u.view=u.view.slice(0,br(h,e)))),u.viewTo=e,r.viewOffset=hi(i(n.doc,r.viewFrom)),n.display.mover.style.top=r.viewOffset+"px",a=hp(n),!v&&0==a&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))?!1:(c=ei(),4<a&&(r.lineDiv.style.display="none"),function(n,t,i){function c(t){var i=t.nextSibling;return nt&&bt&&n.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var e=n.display,v=n.options.lineNumbers,o=e.lineDiv,u=o.firstChild,r,h,a,l=e.view,f=e.viewFrom,s=0;s<l.length;s++){if(r=l[s],!r.hidden)if(r.node&&r.node.parentNode==o){for(;u!=r.node;)u=c(u);h=v&&null!=t&&t<=f&&r.lineNumber;r.changes&&(-1<tt(r.changes,"gutter")&&(h=!1),iy(n,r,f,i));h&&(bi(r.lineNumber),r.lineNumber.appendChild(document.createTextNode(nh(n.options,f))));u=r.node.nextSibling}else a=function(n,t,i,r){var u=ry(n,t);return t.text=t.node=u.pre,u.bgClass&&(t.bgClass=u.bgClass),u.textClass&&(t.textClass=u.textClass),sc(n,t),uy(n,t,i,r),fy(n,t,r),t.node}(n,r,f,i),o.insertBefore(a,u);f+=r.size}for(;u;)u=c(u)}(n,r.updateLineNumbers,t.dims),4<a&&(r.lineDiv.style.display=""),r.renderedView=r.view,c&&ei()!=c&&c.offsetHeight&&c.focus(),bi(r.cursorDiv),bi(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,v&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ee(n,400)),!(r.updateLineNumbers=null))}function cp(n,t){for(var u,i=t.viewport,r=!0;(r&&n.options.lineWrapping&&t.oldDisplayWidth!=ar(n)||(i&&null!=i.top&&(i={top:Math.min(n.doc.height+hc(n.display)-cc(n),i.top)}),t.visible=nl(n.display,n.doc,i),!(t.visible.from>=n.display.viewFrom&&t.visible.to<=n.display.viewTo)))&&rl(n,t);r=!1)lo(n),u=ue(n),ne(n),hu(n,u),el(n,u);t.signal(n,"update",n);n.display.viewFrom==n.display.reportedViewFrom&&n.display.viewTo==n.display.reportedViewTo||(t.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function ul(n,t){var i,r=new oe(n,t);rl(n,r)&&(lo(n),cp(n,r),i=ue(n),ne(n),hu(n,i),el(n,i),r.finish())}function fl(n){var t=n.display.gutters.offsetWidth;n.display.sizer.style.marginLeft=t+"px"}function el(n,t){n.display.sizer.style.minHeight=t.docHeight+"px";n.display.heightForcer.style.top=t.docHeight+"px";n.display.gutters.style.height=t.docHeight+n.display.barHeight+ri(n)+"px"}function lp(n){var r=n.display.gutters,f=n.options.gutters,i,u,e;for(bi(r),i=0;i<f.length;++i)u=f[i],e=r.appendChild(t("div",null,"CodeMirror-gutter "+u)),"CodeMirror-linenumbers"==u&&((n.display.lineGutter=e).style.width=(n.display.lineNumWidth||1)+"px");r.style.display=i?"":"none";fl(n)}function ol(n){var t=tt(n.gutters,"CodeMirror-linenumbers");-1==t&&n.lineNumbers?n.gutters=n.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!n.lineNumbers&&(n.gutters=n.gutters.slice(0),n.gutters.splice(t,1))}function gt(n,t){var h=n[t],i,e,o,s,u,r;for(n.sort(function(n,t){return f(n.from(),t.from())}),t=tt(n,h),i=1;i<n.length;i++)u=n[i],r=n[i-1],0<=f(r.to(),u.from())&&(e=ro(r.from(),u.from()),o=io(r.to(),u.to()),s=r.empty()?u.from()==u.head:r.from()==r.head,i<=t&&--t,n.splice(--i,2,new l(s?o:e,s?e:o)));return new lt(n,t)}function tr(n,t){return new lt([new l(n,t||n)],0)}function ir(t){return t.text?n(t.from.line+t.text.length-1,h(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function ap(t,i){if(f(t,i.from)<0)return t;if(f(t,i.to)<=0)return ir(i);var u=t.line+i.text.length-(i.to.line-i.from.line)-1,r=t.ch;return t.line==i.to.line&&(r+=ir(i).ch-i.to.ch),n(u,r)}function sl(n,t){for(var u,r=[],i=0;i<n.sel.ranges.length;i++)u=n.sel.ranges[i],r.push(new l(ap(u.anchor,t),ap(u.head,t)));return gt(r,n.sel.primIndex)}function vp(t,i,r){return t.line==i.line?n(r.line,t.ch-i.ch+r.ch):n(r.line+(t.line-i.line),t.ch)}function hl(n){n.doc.mode=uc(n.options,n.doc.modeOption);se(n)}function se(n){n.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null);n.styles&&(n.styles=null)});n.doc.frontier=n.doc.first;ee(n,100);n.state.modeGen++;n.curOp&&st(n)}function yp(n,t){return 0==t.from.ch&&0==t.to.ch&&""==h(t.text)&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function cl(n,t,r,u){function a(n){return r?r[n]:null}function s(n,i,r){!function(n,t,i,r){n.text=t;n.stateAfter&&(n.stateAfter=null);n.styles&&(n.styles=null);null!=n.order&&(n.order=null);pa(n);wa(n,i);var u=r?r(n):1;u!=n.height&&ti(n,u)}(n,i,r,u);it(n,"change",n,t)}function y(n,t){for(var r=[],i=n;i<t;++i)r.push(new cr(f[i],a(i),u));return r}var w,k,d,e=t.from,c=t.to,f=t.text,o=i(n,e.line),l=i(n,c.line),b=h(f),p=a(f.length-1),v=c.line-e.line;t.full?(n.insert(0,y(0,f.length)),n.remove(f.length,n.size-f.length)):yp(n,t)?(w=y(0,f.length-1),s(l,l.text,p),v&&n.remove(e.line,v),w.length&&n.insert(e.line,w)):o==l?1==f.length?s(o,o.text.slice(0,e.ch)+b+o.text.slice(c.ch),p):((k=y(1,f.length-1)).push(new cr(b+o.text.slice(c.ch),p,u)),s(o,o.text.slice(0,e.ch)+f[0],a(0)),n.insert(e.line+1,k)):1==f.length?(s(o,o.text.slice(0,e.ch)+f[0]+l.text.slice(c.ch),a(0)),n.remove(e.line+1,v)):(s(o,o.text.slice(0,e.ch)+f[0],a(0)),s(l,b+l.text.slice(c.ch),p),d=y(1,f.length-1),1<v&&n.remove(e.line+1,v-1),n.insert(e.line+1,d));it(n,"change",n,t)}function dr(n,t,i){!function n(r,u,f){var o,s,e;if(r.linked)for(o=0;o<r.linked.length;++o)e=r.linked[o],e.doc!=u&&(s=f&&e.sharedHist,i&&!s||(t(e.doc,s),n(e.doc,r,s)))}(n,null,!0)}function pp(n,t){if(t.cm)throw new Error("This document is already in use.");bc((n.doc=t).cm=n);hl(n);wp(n);n.options.lineWrapping||eh(n);n.options.mode=t.modeOption;st(n)}function wp(n){("rtl"==n.doc.direction?rr:wi)(n.display.lineDiv,"CodeMirror-rtl")}function po(n){this.done=[];this.undone=[];this.undoDepth=1/0;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=n||1}function ll(n,t){var i={from:ih(t.from),to:ir(t),text:er(n,t.from,t.to)};return dp(n,i,t.from.line,t.to.line+1),dr(n,function(n){return dp(n,i,t.from.line,t.to.line+1),0},!0),i}function bp(n){for(;n.length;){if(!h(n).ranges)break;n.pop()}}function kp(n,t,i,r){var u=n.history,o,s,e,c,l;if(u.undone.length=0,c=+new Date,(u.lastOp==r||u.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&n.cm&&u.lastModTime>c-n.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=(e=u).lastOp==r?(bp(e.done),h(e.done)):e.done.length&&!h(e.done).ranges?h(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),h(e.done)):void 0))s=h(o.changes),0==f(t.from,t.to)&&0==f(t.from,s.to)?s.to=ir(t):o.changes.push(ll(n,t));else for(l=h(u.done),l&&l.ranges||wo(n.sel,u.done),o={changes:[ll(n,t)],generation:u.generation},u.done.push(o);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift();u.done.push(i);u.generation=++u.maxGeneration;u.lastModTime=u.lastSelTime=c;u.lastOp=u.lastSelOp=r;u.lastOrigin=u.lastSelOrigin=t.origin;s||p(n,"historyAdded")}function pk(n,t,i,r){var e,c,o,s,l,u=n.history,f=r&&r.origin;i==u.lastSelOp||f&&u.lastSelOrigin==f&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==f||(e=n,c=f,o=h(u.done),s=t,"*"==(l=c.charAt(0))||"+"==l&&o.ranges.length==s.ranges.length&&o.somethingSelected()==s.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)))?u.done[u.done.length-1]=t:wo(t,u.done);u.lastSelTime=+new Date;u.lastSelOrigin=f;u.lastSelOp=i;r&&!1!==r.clearRedo&&bp(u.undone)}function wo(n,t){var i=h(t);i&&i.ranges&&i.equals(n)||t.push(n)}function dp(n,t,i,r){var u=t["spans_"+n.id],f=0;n.iter(Math.max(n.first,i),Math.min(n.first+n.size,r),function(i){i.markedSpans&&((u=u||(t["spans_"+n.id]={}))[f]=i.markedSpans);++f})}function wk(n,t){var u=t["spans_"+n.id],r,i;if(!u)return null;for(r=[],i=0;i<t.text.length;++i)r.push(function(n){if(!n)return null;for(var t,i=0;i<n.length;++i)n[i].marker.explicitlyCleared?t=t||n.slice(0,i):t&&t.push(n[i]);return t?t.length?t:null:n}(u[i]));return r}function gp(n,t){var i=wk(n,t),s=uh(n,t),r,f,u,e,h,o;if(!i)return s;if(!s)return i;for(r=0;r<i.length;++r)if(f=i[r],u=s[r],f&&u)n:for(e=0;e<u.length;++e){for(h=u[e],o=0;o<f.length;++o)if(f[o].marker==h.marker)continue n;f.push(h)}else u&&(i[r]=u);return i}function vu(n,t,i){for(var u,l,s,c,a,r,f,e=[],o=0;o<n.length;++o)if(u=n[o],u.ranges)e.push(i?lt.prototype.deepCopy.call(u):u);else for(l=u.changes,s=[],e.push({changes:s}),c=0;c<l.length;++c)if(r=l[c],s.push({from:r.from,to:r.to,text:r.text}),t)for(f in r)(a=f.match(/^spans_(\d+)$/))&&-1<tt(t,Number(a[1]))&&(h(s)[f]=r[f],delete r[f]);return e}function he(n,t,i,r){if(n.cm&&n.cm.display.shift||n.extend){var e,u=t.anchor;return r&&((e=f(i,u)<0)!=f(r,u)<0?(u=i,i=r):e!=f(i,r)<0&&(i=r)),new l(u,i)}return new l(r||i,i)}function bo(n,t,i,r){ut(n,new lt([he(n,n.sel.primary(),t,i)],0),r)}function nw(n,t,i){for(var u=[],r=0;r<n.sel.ranges.length;r++)u[r]=he(n,n.sel.ranges[r],t[r],null);ut(n,gt(u,n.sel.primIndex),i)}function al(n,t,i,r){var u=n.sel.ranges.slice(0);u[t]=i;ut(n,gt(u,n.sel.primIndex),r)}function tw(n,t,i,r){ut(n,tr(t,i),r)}function iw(n,t,i){var r=n.history.done,u=h(r);u&&u.ranges?ko(n,r[r.length-1]=t,i):ut(n,t,i)}function ut(n,t,i){ko(n,t,i);pk(n,n.sel,n.cm?n.cm.curOp.id:NaN,i)}function ko(n,t,i){var r,o,s,u,h;(pt(n,"beforeSelectionChange")||n.cm&&pt(n.cm,"beforeSelectionChange"))&&(r=n,s=i,u={ranges:(o=t).ranges,update:function(n){this.ranges=[];for(var t=0;t<n.length;t++)this.ranges[t]=new l(e(r,n[t].anchor),e(r,n[t].head))},origin:s&&s.origin},p(r,"beforeSelectionChange",r,u),r.cm&&p(r.cm,"beforeSelectionChange",r.cm,u),t=u.ranges!=o.ranges?gt(u.ranges,u.ranges.length-1):o);h=i&&i.bias||(f(t.primary().head,n.sel.primary().head)<0?-1:1);rw(n,fw(n,t,h,!0));i&&!1===i.scroll||!n.cm||cu(n.cm)}function rw(n,t){t.equals(n.sel)||(n.sel=t,n.cm&&(n.cm.curOp.updateInput=n.cm.curOp.selectionChanged=!0,ev(n.cm)),it(n,"cursorActivity",n))}function uw(n){rw(n,fw(n,n.sel,null,!1))}function fw(n,t,i,r){for(var f,u=0;u<t.ranges.length;u++){var e=t.ranges[u],o=t.ranges.length==n.sel.ranges.length&&n.sel.ranges[u],s=vl(n,e.anchor,o&&o.anchor,i,r),h=vl(n,e.head,o&&o.head,i,r);(f||s!=e.anchor||h!=e.head)&&((f=f||t.ranges.slice(0,u))[u]=new l(s,h))}return f?gt(f,t.primIndex):t}function yu(n,t,r,u,e){var c=i(n,t.line),a,h,o,s,v,l;if(c.markedSpans)for(a=0;a<c.markedSpans.length;++a)if(h=c.markedSpans[a],o=h.marker,(null==h.from||(o.inclusiveLeft?h.from<=t.ch:h.from<t.ch))&&(null==h.to||(o.inclusiveRight?h.to>=t.ch:h.to>t.ch))){if(e&&(p(o,"beforeCursorEnter"),o.explicitlyCleared)){if(c.markedSpans){--a;continue}break}if(!o.atomic)continue;return r&&(s=o.find(u<0?1:-1),v=void 0,(u<0?o.inclusiveRight:o.inclusiveLeft)&&(s=ew(n,s,-u,s&&s.line==t.line?c:null)),s&&s.line==t.line&&(v=f(s,r))&&(u<0?v<0:0<v))?yu(n,s,t,u,e):(l=o.find(u<0?-1:1),(u<0?o.inclusiveLeft:o.inclusiveRight)&&(l=ew(n,l,u,l.line==t.line?c:null)),l?yu(n,l,t,u,e):null)}return t}function vl(t,i,r,u,f){var e=u||1,o=yu(t,i,r,e,f)||!f&&yu(t,i,r,e,!0)||yu(t,i,r,-e,f)||!f&&yu(t,i,r,-e,!0);return o||(t.cantEdit=!0,n(t.first,0))}function ew(t,r,u,f){return u<0&&0==r.ch?r.line>t.first?e(t,n(r.line-1)):null:0<u&&r.ch==(f||i(t,r.line)).text.length?r.line<t.first+t.size-1?n(r.line+1,0):null:new n(r.line,r.ch+u)}function ow(t){t.setSelection(n(t.firstLine(),0),n(t.lastLine()),oi)}function sw(n,t,i){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return i&&(r.update=function(t,i,u,f){t&&(r.from=e(n,t));i&&(r.to=e(n,i));u&&(r.text=u);void 0!==f&&(r.origin=f)}),p(n,"beforeChange",n,r),n.cm&&p(n.cm,"beforeChange",n.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function pu(n,t,i){var u,r;if(n.cm){if(!n.cm.curOp)return d(n.cm,pu)(n,t,i);if(n.cm.state.suppressEdits)return}if(!(pt(n,"beforeChange")||n.cm&&pt(n.cm,"beforeChange"))||(t=sw(n,t,!0)))if(u=rh&&!i&&function(n,t,i){var r=null,e,c,h,a,v,u;if(n.iter(t.line,i.line+1,function(n){var t,i;if(n.markedSpans)for(t=0;t<n.markedSpans.length;++t)i=n.markedSpans[t].marker,!i.readOnly||r&&-1!=tt(r,i)||(r=r||[]).push(i)}),!r)return null;for(e=[{from:t,to:i}],c=0;c<r.length;++c)for(var l=r[c],o=l.find(0),s=0;s<e.length;++s)u=e[s],f(u.to,o.from)<0||0<f(u.from,o.to)||(h=[s,1],a=f(u.from,o.from),v=f(u.to,o.to),(a<0||!l.inclusiveLeft&&!a)&&h.push({from:u.from,to:o.from}),(0<v||!l.inclusiveRight&&!v)&&h.push({from:o.to,to:u.to}),e.splice.apply(e,h),s+=h.length-3);return e}(n,t.from,t.to),u)for(r=u.length-1;0<=r;--r)hw(n,{from:u[r].from,to:u[r].to,text:r?[""]:t.text});else hw(n,t)}function hw(n,t){var i,r;1==t.text.length&&""==t.text[0]&&0==f(t.from,t.to)||(i=sl(n,t),kp(n,t,i,n.cm?n.cm.curOp.id:NaN),ce(n,t,i,uh(n,t)),r=[],dr(n,function(n,i){i||-1!=tt(r,n.history)||(vw(n.history,t),r.push(n.history));ce(n,t,null,uh(n,t))}))}function go(n,t,i){var c,v,o,l;if(!n.cm||!n.cm.state.suppressEdits||i){for(var r,u=n.history,a=n.sel,f="undo"==t?u.done:u.undone,s="undo"==t?u.undone:u.done,e=0;e<f.length&&(r=f[e],i?!r.ranges||r.equals(n.sel):r.ranges);e++);if(e!=f.length){for(u.lastOrigin=u.lastSelOrigin=null;(r=f.pop()).ranges;){if(wo(r,s),i&&!r.equals(n.sel))return void ut(n,r,{clearRedo:!1});a=r}for(c=[],wo(a,s),s.push({changes:c,generation:u.generation}),u.generation=r.generation||++u.maxGeneration,v=pt(n,"beforeChange")||n.cm&&pt(n.cm,"beforeChange"),o=r.changes.length-1;0<=o;--o)if(l=function(i){var u=r.changes[i],o,e;if(u.origin=t,v&&!sw(n,u,!1))return f.length=0,{};c.push(ll(n,u));o=i?sl(n,u):h(f);ce(n,u,o,gp(n,u));!i&&n.cm&&n.cm.scrollIntoView({from:u.from,to:ir(u)});e=[];dr(n,function(n,t){t||-1!=tt(e,n.history)||(vw(n.history,u),e.push(n.history));ce(n,u,null,gp(n,u))})}(o),l)return l.v}}}function cw(t,i){if(0!=i&&(t.first+=i,t.sel=new lt(ge(t.sel.ranges,function(t){return new l(n(t.anchor.line+i,t.anchor.ch),n(t.head.line+i,t.head.ch))}),t.sel.primIndex),t.cm)){st(t.cm,t.first,t.first-i,i);for(var u=t.cm.display,r=u.viewFrom;r<u.viewTo;r++)gi(t.cm,r,"gutter")}}function ce(t,r,u,f){if(t.cm&&!t.cm.curOp)return d(t.cm,ce)(t,r,u,f);var o,e;r.to.line<t.first?cw(t,r.text.length-1-(r.to.line-r.from.line)):r.from.line>t.lastLine()||(r.from.line<t.first&&(cw(t,o=r.text.length-1-(t.first-r.from.line)),r={from:n(t.first,0),to:n(r.to.line+o,r.to.ch),text:[h(r.text)],origin:r.origin}),e=t.lastLine(),r.to.line>e&&(r={from:r.from,to:n(e,i(t,e).text.length),text:[r.text[0]],origin:r.origin}),r.removed=er(t,r.from,r.to),u=u||sl(t,r),t.cm?function(n,t,r){var f=n.doc,e=n.display,u=t.from,o=t.to,s=!1,h=u.line,y,l,a,v;n.options.lineWrapping||(h=c(ii(i(f,u.line))),f.iter(h,o.line+1,function(n){if(n==e.maxLine)return s=!0}));-1<f.sel.contains(t.from,t.to)&&ev(n);cl(f,t,r,dy(n));n.options.lineWrapping||(f.iter(h,u.line+t.text.length,function(n){var t=oo(n);t>e.maxLineLength&&(e.maxLine=n,e.maxLineLength=t,e.maxLineChanged=!0,s=!1)}),s&&(n.curOp.updateMaxLine=!0));f.frontier=Math.min(f.frontier,u.line);ee(n,400);y=t.text.length-(o.line-u.line)-1;t.full?st(n):u.line!=o.line||1!=t.text.length||yp(n.doc,t)?st(n,u.line,o.line+1,y):gi(n,u.line,"text");l=pt(n,"changes");a=pt(n,"change");(a||l)&&(v={from:u,to:o,text:t.text,removed:t.removed,origin:t.origin},a&&it(n,"change",n,v),l&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(v));n.display.selForContextMenu=null}(t.cm,r,f):cl(t,r,f),ko(t,u,oi))}function wu(n,t,i,r,u){var e;f(r=r||i,i)<0&&(e=r,r=i,i=e);"string"==typeof t&&(t=n.splitLines(t));pu(n,{from:i,to:r,text:t,origin:u})}function lw(n,t,i,r){i<n.line?n.line+=r:t<n.line&&(n.line=t,n.ch=0)}function aw(t,i,r,u){for(var f,c,s,h,e,o=0;o<t.length;++o)if(f=t[o],c=!0,f.ranges)for(f.copied||((f=t[o]=f.deepCopy()).copied=!0),s=0;s<f.ranges.length;s++)lw(f.ranges[s].anchor,i,r,u),lw(f.ranges[s].head,i,r,u);else{for(h=0;h<f.changes.length;++h)if(e=f.changes[h],r<e.from.line)e.from=n(e.from.line+u,e.from.ch),e.to=n(e.to.line+u,e.to.ch);else if(i<=e.to.line){c=!1;break}c||(t.splice(0,o+1),o=0)}}function vw(n,t){var i=t.from.line,r=t.to.line,u=t.text.length-(r-i)-1;aw(n.done,i,r,u);aw(n.undone,i,r,u)}function le(n,t,r,u){var f=t,e=t;return"number"==typeof t?e=i(n,aa(n,t)):f=c(t),null==f?null:(u(e,f)&&n.cm&&gi(n.cm,f,r),e)}function ai(n){this.lines=n;this.parent=null;for(var i=0,t=0;t<n.length;++t)n[t].parent=this,i+=n[t].height;this.height=i}function ui(n){var t;this.children=n;for(var r=0,u=0,i=0;i<n.length;++i)t=n[i],r+=t.chunkSize(),u+=t.height,t.parent=this;this.size=r;this.height=u;this.parent=null}function ae(n,t,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.doc=n;this.node=t}function yw(n,t,i){hi(t)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&il(n,null,i)}function bu(n,i,u,o,s){var c,y,p,a,l,v;if(o&&o.shared)return function(n,t,i,r,u){(r=fr(r)).shared=!1;var f=[bu(n,t,i,r,u)],o=f[0],s=r.widgetNode;return dr(n,function(n){s&&(r.widgetNode=s.cloneNode(!0));f.push(bu(n,e(n,t),e(n,i),r,u));for(var c=0;c<n.linked.length;++c)if(n.linked[c].isParent)return;o=h(f)}),new ku(f,o)}(n,i,u,o,s);if(n.cm&&!n.cm.curOp)return d(n.cm,bu)(n,i,u,o,s);if(c=new vi(n,s),y=f(i,u),o&&fr(o,c,!1),0<y||0==y&&!1!==c.clearWhenEmpty)return c;if(c.replacedWith&&(c.collapsed=!0,c.widgetNode=t("span",[c.replacedWith],"CodeMirror-widget"),c.widgetNode.setAttribute("role","presentation"),o.handleMouseEvents||c.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(c.widgetNode.insertLeft=!0)),c.collapsed){if(ga(n,i.line,i,u,c)||i.line!=u.line&&ga(n,u.line,i,u,c))throw new Error("Inserting collapsed marker partially overlapping an existing one");si=!0}if(c.addToHistory&&kp(n,{from:i,to:u,origin:"markText"},n.sel,NaN),a=i.line,l=n.cm,n.iter(a,u.line+1,function(n){var t,r;l&&c.collapsed&&!l.options.lineWrapping&&ii(n)==l.display.maxLine&&(p=!0);c.collapsed&&a!=i.line&&ti(n,0);t=n;r=new uo(c,a==i.line?i.ch:null,a==u.line?u.ch:null);t.markedSpans=t.markedSpans?t.markedSpans.concat([r]):[r];r.marker.attachLine(t);++a}),c.collapsed&&n.iter(i.line,u.line+1,function(t){sr(n,t)&&ti(t,0)}),c.clearOnEnter&&r(c,"beforeCursorEnter",function(){return c.clear()}),c.readOnly&&(rh=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory()),c.collapsed&&(c.id=++yl,c.atomic=!0),l){if(p&&(l.curOp.updateMaxLine=!0),c.collapsed)st(l,i.line,u.line+1);else if(c.className||c.title||c.startStyle||c.endStyle||c.css)for(v=i.line;v<=u.line;v++)gi(l,v,"text");c.atomic&&uw(l.doc);it(l,"markerAdded",l,c)}return c}function pw(t){return t.findMarks(n(t.first,0),t.clipPos(n(t.lastLine())),function(n){return n.parent})}function bk(n){var t=this,i,r,u,c,f;if((bw(t),!k(t,n)&&!li(t.display,n))&&(rt(n),s&&(pl=+new Date),i=wr(t,n,!0),r=n.dataTransfer.files,i&&!t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var h=r.length,l=Array(h),a=0,o=0;o<h;++o)!function(n,r){var u;t.options.allowDropFileTypes&&-1==tt(t.options.allowDropFileTypes,n.type)||((u=new FileReader).onload=d(t,function(){var n,f=u.result;/[\x00-\x08\x0e-\x1f]{2}/.test(f)&&(f="");l[r]=f;++a==h&&(n={from:i=e(t.doc,i),to:i,text:t.doc.splitLines(l.join(t.doc.lineSeparator())),origin:"paste"},pu(t.doc,n),iw(t.doc,tr(i,ir(n))))}),u.readAsText(n))}(r[o],o);else{if(t.state.draggingText&&-1<t.doc.sel.contains(i))return t.state.draggingText(n),void setTimeout(function(){return t.display.input.focus()},20);try{if(c=n.dataTransfer.getData("Text"),c){if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),ko(t.doc,tr(i,i)),u)for(f=0;f<u.length;++f)wu(t.doc,"",u[f].anchor,u[f].head,"drag");t.replaceSelection(c,"around","paste");t.display.input.focus()}}catch(n){}}}function bw(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function kw(n){var i,t,r;if(document.body.getElementsByClassName)for(i=document.body.getElementsByClassName("CodeMirror"),t=0;t<i.length;t++)r=i[t].CodeMirror,r&&n(r)}function kk(){var n;wl||(r(window,"resize",function(){null==n&&(n=setTimeout(function(){n=null;kw(dk)},100))}),r(window,"blur",function(){return kw(te)}),wl=!0)}function dk(n){var t=n.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,n.setSize())}function gk(n){var u,f,e,o,i=n.split(/-(?!$)/),r,t;for(n=i[i.length-1],r=0;r<i.length-1;r++)if(t=i[r],/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))u=!0;else if(/^(c|ctrl|control)$/i.test(t))f=!0;else{if(!/^s(hift)?$/i.test(t))throw new Error("Unrecognized modifier name: "+t);e=!0}return u&&(n="Alt-"+n),f&&(n="Ctrl-"+n),o&&(n="Cmd-"+n),e&&(n="Shift-"+n),n}function nd(n){var f={},t,e,i,r,s;for(t in n)if(n.hasOwnProperty(t)){if(e=n[t],/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==e){delete n[t];continue}for(i=ge(t.split(" "),gk),r=0;r<i.length;r++){var o=void 0,u=void 0,o=r==i.length-1?(u=i.join(" "),e):(u=i.slice(0,r+1).join(" "),"..."),h=f[u];if(h){if(h!=o)throw new Error("Inconsistent bindings for "+u);}else f[u]=o}delete n[t]}for(s in f)n[s]=f[s];return n}function nf(n,t,i,r){var u=(t=ns(t)).call?t.call(n,r):t[n],f,e;if(!1===u)return"nothing";if("..."===u)return"multi";if(null!=u&&i(u))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return nf(n,t.fallthrough,i,r);for(f=0;f<t.fallthrough.length;f++)if(e=nf(n,t.fallthrough[f],i,r),e)return e}}function dw(n){var t="string"==typeof n?n:yi[n.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function gw(n,t){if(wt&&34==n.keyCode&&n.char)return!1;var r=yi[n.keyCode],i=r;return null!=i&&!n.altGraphKey&&(n.altKey&&"Alt"!=r&&(i="Alt-"+i),(ls?n.metaKey:n.ctrlKey)&&"Ctrl"!=r&&(i="Ctrl-"+i),(ls?n.ctrlKey:n.metaKey)&&"Cmd"!=r&&(i="Cmd-"+i),!t&&n.shiftKey&&"Shift"!=r&&(i="Shift-"+i),i)}function ns(n){return"string"==typeof n?fi[n]:n}function tf(n,t){for(var r,e,o=n.doc.sel.ranges,i=[],u=0;u<o.length;u++){for(r=t(o[u]);i.length&&f(r.from,h(i).to)<=0;)if(e=i.pop(),f(e.from,r.from)<0){r.from=e.from;break}i.push(r)}ct(n,function(){for(var t=i.length-1;0<=t;t--)wu(n.doc,"",i[t].from,i[t].to,"+delete");cu(n)})}function nb(n,t){var u=i(n.doc,t),r=ii(u);return r!=u&&(t=c(r)),yh(!0,n,r,t,1)}function tb(t,r){var u=nb(t,r.line),e=i(t.doc,u.line),o=di(e,t.doc.direction),f,s;return o&&0!=o[0].level?u:(f=Math.max(0,e.text.search(/\S/)),s=r.line==u.line&&r.ch<=f&&r.ch,n(u.line,s?0:f,u.sticky))}function ts(n,t,i){if("string"==typeof t&&!(t=ye[t]))return!1;n.display.input.ensurePolled();var u=n.display.shift,r=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0);i&&(n.display.shift=!1);r=t(n)!=ys}finally{n.display.shift=u;n.state.suppressEdits=!1}return r}function is(n,t,i,r){var f=n.state.keySeq,u;if(f){if(dw(t))return"handled";ib.set(50,function(){n.state.keySeq==f&&(n.state.keySeq=null,n.display.input.reset())});t=f+" "+t}return u=function(n,t,i){for(var u,r=0;r<n.state.keyMaps.length;r++)if(u=nf(t,n.state.keyMaps[r],i,n),u)return u;return n.options.extraKeys&&nf(t,n.options.extraKeys,i,n)||nf(t,n.options.keyMap,i,n)}(n,t,r),"multi"==u&&(n.state.keySeq=t),"handled"==u&&it(n,"keyHandled",n,t,i),"handled"!=u&&"multi"!=u||(rt(i),kc(n)),f&&!u&&/\'$/.test(t)?(rt(i),!0):!!u}function rb(n,t){var i=gw(t,!0);return!!i&&(t.shiftKey&&!n.state.keySeq?is(n,"Shift-"+i,t,function(t){return ts(n,t,!0)})||is(n,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(n,t)}):is(n,i,t,function(t){return ts(n,t)}))}function ub(n){function u(n){18!=n.keyCode&&n.altKey||(wi(e,"CodeMirror-crosshair"),kt(document,"keyup",u),kt(document,"mouseover",u))}var i,f,e,t=this;t.curOp.focus=ei();k(t,n)||(s&&v<11&&27==n.keyCode&&(n.returnValue=!1),i=n.keyCode,t.display.shift=16==i||n.shiftKey,f=rb(t,n),wt&&(fs=f?i:null,!f&&88==i&&!hv&&(bt?n.metaKey:n.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||(rr(e=t.display.lineDiv,"CodeMirror-crosshair"),r(document,"keyup",u),r(document,"mouseover",u)))}function fb(n){16==n.keyCode&&(this.doc.sel.shift=!1);k(this,n)}function eb(n){var t=this,u,f,i,r;if(!(li(t.display,n)||k(t,n)||n.ctrlKey&&!n.altKey||bt&&n.metaKey)){if(i=n.keyCode,r=n.charCode,wt&&i==fs)return fs=null,void rt(n);wt&&(!n.which||n.which<10)&&rb(t,n)||"\b"!=(u=String.fromCharCode(null==r?i:r))&&(is(f=t,"'"+u+"'",n,function(n){return ts(f,n,!0)})||t.display.input.onKeyPress(n))}}function td(t){var u=this,o=u.display,c,h;if(!(k(u,t)||o.activeTouch&&o.input.supportsTouch()))if(o.input.ensurePolled(),o.shift=t.shiftKey,li(o,t))nt||(o.scroller.draggable=!1,setTimeout(function(){return o.scroller.draggable=!0},100));else if(!sb(u,t)){h=wr(u,t);switch(window.focus(),sv(t)){case 1:u.state.selectingText?u.state.selectingText(t):h?function(t,u,o){var h,c,a,y,p;s?setTimeout(vs(tp,t),0):t.curOp.focus=ei();c=+new Date;us&&us.time>c-400&&0==f(us.pos,o)?h="triple":rs&&rs.time>c-400&&0==f(rs.pos,o)?(h="double",us={time:c,pos:o}):(h="single",rs={time:c,pos:o});y=t.doc.sel;p=bt?u.metaKey:u.ctrlKey;t.options.dragDrop&&ek&&!t.isReadOnly()&&"single"==h&&-1<(a=y.contains(o))&&(f((a=y.ranges[a]).from(),o)<0||0<o.xRel)&&(0<f(a.to(),o)||o.xRel<0)?function(n,t,i,u){var f=n.display,o=+new Date,e=d(n,function(r){nt&&(f.scroller.draggable=!1);n.state.draggingText=!1;kt(document,"mouseup",e);kt(f.scroller,"drop",e);Math.abs(t.clientX-r.clientX)+Math.abs(t.clientY-r.clientY)<10&&(rt(r),!u&&new Date-200<o&&bo(n.doc,i),nt||s&&9==v?setTimeout(function(){document.body.focus();f.input.focus()},20):f.input.focus())});nt&&(f.scroller.draggable=!0);(n.state.draggingText=e).copy=bt?t.altKey:t.ctrlKey;f.scroller.dragDrop&&f.scroller.dragDrop();r(document,"mouseup",e);r(f.scroller,"drop",e)}(t,u,o,p):function(t,u,o,s,h){function it(r){var h,y,b=++g,u=wr(t,r,!0,"rect"==s);u&&(0!=f(u,tt)?(t.curOp.focus=ei(),function(r){var k,y,it;if(0!=f(tt,r))if(tt=r,"rect"==s){for(var h=[],b=t.options.tabSize,rt=yt(i(c,o.line).text,o.ch,b),ft=yt(i(c,r.line).text,r.ch,b),et=Math.min(rt,ft),ot=Math.max(rt,ft),u=Math.min(o.line,r.line),st=Math.min(t.lastLine(),Math.max(o.line,r.line));u<=st;u++)k=i(c,u).text,y=ws(k,et,b),et==ot?h.push(new l(n(u,y),n(u,y))):k.length>y&&h.push(new l(n(u,y),n(u,ws(k,ot,b))));h.length||h.push(new l(o,o));ut(c,gt(p.ranges.slice(0,a).concat(h),a),{origin:"*mouse",scroll:!1});t.scrollIntoView(r)}else{var w,d=v,g=d.anchor,nt=r;"single"!=s&&(g=0<f((w="double"==s?t.findWordAt(r):new l(n(r.line,0),e(c,n(r.line+1,0)))).anchor,g)?(nt=w.head,ro(d.from(),w.anchor)):(nt=w.anchor,io(d.to(),w.head)));it=p.ranges.slice(0);it[a]=new l(e(c,g),nt);ut(c,gt(it,a),ps)}}(u),h=nl(w,c),(u.line>=h.to||u.line<h.from)&&setTimeout(d(t,function(){g==b&&it(r)}),150)):(y=r.clientY<et.top?-20:r.clientY>et.bottom?20:0)&&setTimeout(d(t,function(){g==b&&(w.scroller.scrollTop+=y,it(r))}),50))}function ot(n){t.state.selectingText=!1;g=1/0;rt(n);w.input.focus();kt(document,"mousemove",ft);kt(document,"mouseup",nt);c.history.lastSelOrigin=null}var w=t.display,c=t.doc,v,a,p,y,b,k,ft,nt;rt(u);p=c.sel;y=p.ranges;h&&!u.shiftKey?(a=c.sel.contains(o),v=-1<a?y[a]:new l(o,o)):(v=c.sel.primary(),a=c.sel.primIndex);(rk?u.shiftKey&&u.metaKey:u.altKey)?(s="rect",h||(v=new l(o,o)),o=wr(t,u,!0,!0),a=-1):v="double"==s?(b=t.findWordAt(o),t.display.shift||c.extend?he(c,v,b.anchor,b.head):b):"triple"==s?(k=new l(n(o.line,0),e(c,n(o.line+1,0))),t.display.shift||c.extend?he(c,v,k.anchor,k.head):k):he(c,v,o);h?-1==a?(a=y.length,ut(c,gt(y.concat([v]),a),{scroll:!1,origin:"*mouse"})):1<y.length&&y[a].empty()&&"single"==s&&!u.shiftKey?(ut(c,gt(y.slice(0,a).concat(y.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),p=c.sel):al(c,a,v,ps):(ut(c,new lt([v],a=0),ps),p=c.sel);var tt=o,et=w.wrapper.getBoundingClientRect(),g=0;ft=d(t,function(n){(sv(n)?it:ot)(n)});nt=d(t,ot);t.state.selectingText=nt;r(document,"mousemove",ft);r(document,"mouseup",nt)}(t,u,o,h,p)}(u,t,h):kh(t)==o.scroller&&rt(t);break;case 2:nt&&(u.state.lastMiddleDown=+new Date);h&&bo(u.doc,h);setTimeout(function(){return o.input.focus()},20);rt(t);break;case 3:ke?hb(u,t):((c=u).state.delayingBlurEvent=!0,setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,te(c))},100))}}}function ob(n,t,i,r){var o,f,e,s,u,h;try{o=t.clientX;f=t.clientY}catch(t){return!1}if(o>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;if(r&&rt(t),e=n.display,s=e.lineDiv.getBoundingClientRect(),f>s.bottom||!pt(n,i))return bh(t);for(f-=s.top-e.viewOffset,u=0;u<n.options.gutters.length;++u)if(h=e.gutters.childNodes[u],h&&h.getBoundingClientRect().right>=o)return p(n,i,n,or(n.doc,f),n.options.gutters[u],t),bh(t)}function sb(n,t){return ob(n,t,"gutterClick",!0)}function hb(n,t){var i,r;li(n.display,t)||(r=t,pt(i=n,"gutterContextMenu")&&ob(i,r,"gutterContextMenu",!1))||k(n,t,"contextmenu")||n.display.input.onContextMenu(t)}function cb(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-");df(n)}function pe(n){lp(n);st(n);gc(n)}function id(n,t,i){var u,f;!t!=!(i&&i!=rf)&&(u=n.display.dragFunctions,(f=t?r:kt)(n.display.scroller,"dragstart",u.start),f(n.display.scroller,"dragenter",u.enter),f(n.display.scroller,"dragover",u.over),f(n.display.scroller,"dragleave",u.leave),f(n.display.scroller,"drop",u.drop))}function rd(n){n.options.lineWrapping?(rr(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(wi(n.display.wrapper,"CodeMirror-wrap"),eh(n));bc(n);st(n);df(n);setTimeout(function(){return hu(n)},100)}function y(i,u){var a=this,f,w,o,h,c;if(!(this instanceof y))return new y(i,u);this.options=u=u?fr(u):{};fr(lb,u,!1);ol(u);f=u.value;"string"==typeof f&&(f=new et(f,u.mode,null,u.lineSeparator,u.direction));this.doc=f;w=new y.inputStyles[u.inputStyle](this);o=this.display=new fk(i,f,w);for(h in lp(o.wrapper.CodeMirror=this),cb(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),op(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ki,keySeq:null,specialChars:null},u.autofocus&&!of&&o.input.focus(),s&&v<11&&setTimeout(function(){return a.display.input.reset(!0)},20),function(i){function c(){u.activeTouch&&(h=setTimeout(function(){return u.activeTouch=null},1e3),(o=u.activeTouch).end=+new Date)}function a(n,t){if(null==t.left)return 1;var i=t.left-n.left,r=t.top-n.top;return 400<i*i+r*r}var u=i.display,h,o,f;r(u.scroller,"mousedown",d(i,td));r(u.scroller,"dblclick",s&&v<11?d(i,function(n){var r,t;k(i,n)||!(r=wr(i,n))||sb(i,n)||li(i.display,n)||(rt(n),t=i.findWordAt(r),bo(i.doc,t.anchor,t.head))}):function(n){return k(i,n)||rt(n)});ke||r(u.scroller,"contextmenu",function(n){return hb(i,n)});o={end:0};r(u.scroller,"touchstart",function(n){var t;k(i,n)||function(n){if(1==n.touches.length){var t=n.touches[0];return t.radiusX<=1&&t.radiusY<=1}}(n)||(u.input.ensurePolled(),clearTimeout(h),t=+new Date,u.activeTouch={start:t,moved:!1,prev:t-o.end<=300?o:null},1==n.touches.length&&(u.activeTouch.left=n.touches[0].pageX,u.activeTouch.top=n.touches[0].pageY))});r(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)});r(u.scroller,"touchend",function(t){var f,o,r=u.activeTouch;r&&!li(u,t)&&null!=r.left&&!r.moved&&new Date-r.start<300&&(f=i.coordsChar(u.activeTouch,"page"),o=!r.prev||a(r,r.prev)?new l(f,f):!r.prev.prev||a(r,r.prev.prev)?i.findWordAt(f):new l(n(f.line,0),e(i.doc,n(f.line+1,0))),i.setSelection(o.anchor,o.head),i.focus(),rt(t));c()});r(u.scroller,"touchcancel",c);r(u.scroller,"scroll",function(){u.scroller.clientHeight&&(ie(i,u.scroller.scrollTop),su(i,u.scroller.scrollLeft,!0),p(i,"scroll",i))});r(u.scroller,"mousewheel",function(n){return fp(i,n)});r(u.scroller,"DOMMouseScroll",function(n){return fp(i,n)});r(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0});u.dragFunctions={enter:function(n){k(i,n)||yf(n)},over:function(n){var r,u,f;k(i,n)||((f=wr(r=i,n))&&(np(r,f,u=document.createDocumentFragment()),r.display.dragCursor||(r.display.dragCursor=t("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),at(r.display.dragCursor,u)),yf(n))},start:function(n){return f=i,u=n,void(s&&(!f.state.draggingText||new Date-pl<100)?yf(u):k(f,u)||li(f.display,u)||(u.dataTransfer.setData("Text",f.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!ra&&((r=t("img",null,null,"position: fixed; left: 0; top: 0;")).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",wt&&(r.width=r.height=1,f.display.wrapper.appendChild(r),r._top=r.offsetTop),u.dataTransfer.setDragImage(r,0,0),wt&&r.parentNode.removeChild(r))));var f,u,r},drop:d(i,bk),leave:function(n){k(i,n)||bw(i)}};f=u.input.getField();r(f,"keyup",function(n){return fb.call(i,n)});r(f,"keydown",d(i,ub));r(f,"keypress",d(i,eb));r(f,"focus",function(n){return dc(i,n)});r(f,"blur",function(n){return te(i,n)})}(this),kk(),lu(this),this.curOp.forceUpdate=!0,pp(this,f),u.autofocus&&!of||this.hasFocus()?setTimeout(vs(dc,this),20):te(this),es)es.hasOwnProperty(h)&&es[h](a,u[h],rf);for(ip(this),u.finishInit&&u.finishInit(this),c=0;c<os.length;++c)os[c](a);au(this);nt&&u.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function we(t,r,u,f){var d,o=t.doc,e,h,c,y,w,a,b,k;null==u&&(u="add");"smart"==u&&(o.mode.indent?d=pf(t,r):u="prev");var v=t.options.tabSize,s=i(o,r),p=yt(s.text,null,v);if(s.stateAfter&&(s.stateAfter=null),h=s.text.match(/^\s*/)[0],f||/\S/.test(s.text)){if("smart"==u&&((e=o.mode.indent(d,s.text.slice(h.length),s.text))==ys||150<e)){if(!f)return;u="prev"}}else e=0,u="not";if("prev"==u?e=r>o.first?yt(i(o,r-1).text,null,v):0:"add"==u?e=p+t.options.indentUnit:"subtract"==u?e=p-t.options.indentUnit:"number"==typeof u&&(e=p+u),e=Math.max(0,e),c="",y=0,t.options.indentWithTabs)for(w=Math.floor(e/v);w;--w)y+=v,c+="\t";if(y<e&&(c+=bs(e-y)),c!=h)return wu(o,c,n(r,0),n(r,h.length),"+input"),!(s.stateAfter=null);for(a=0;a<o.sel.ranges.length;a++)if(b=o.sel.ranges[a],b.head.line==r&&b.head.ch<h.length){k=n(r,h.length);al(o,a,new l(k,k));break}}function ss(n){vt=n}function bl(t,r,u,f,e){var p=t.doc,y,l,b;t.display.shift=!1;f=f||p.sel;var k,a=t.state.pasteIncoming||"paste"==e,v=tc(r),o=null;if(a&&1<f.ranges.length)if(vt&&vt.text.join("\n")==r){if(f.ranges.length%vt.text.length==0)for(o=[],y=0;y<vt.text.length;y++)o.push(p.splitLines(vt.text[y]))}else v.length==f.ranges.length&&(o=ge(v,function(n){return[n]}));for(l=f.ranges.length-1;0<=l;l--){var w=f.ranges[l],s=w.from(),c=w.to();w.empty()&&(u&&0<u?s=n(s.line,s.ch-u):t.state.overwrite&&!a?c=n(c.line,Math.min(i(p,c.line).text.length,c.ch+h(v).length)):vt&&vt.lineWise&&vt.text.join("\n")==r&&(s=c=n(s.line,0)));k=t.curOp.updateInput;b={from:s,to:c,text:o?o[l%o.length]:v,origin:e||(a?"paste":t.state.cutIncoming?"cut":"+input")};pu(t.doc,b);it(t,"inputRead",t,b)}r&&!a&&vb(t,r);cu(t);t.curOp.updateInput=k;t.curOp.typing=!0;t.state.pasteIncoming=t.state.cutIncoming=!1}function ab(n,t){var i=n.clipboardData&&n.clipboardData.getData("Text");return i&&(n.preventDefault(),t.isReadOnly()||t.options.disableInput||ct(t,function(){return bl(t,i,0,null,"paste")}),1)}function vb(n,t){var e,u,r,f,o,s;if(n.options.electricChars&&n.options.smartIndent)for(e=n.doc.sel,u=e.ranges.length-1;0<=u;u--)if(r=e.ranges[u],!(100<r.head.ch||u&&e.ranges[u-1].head.line==r.head.line)){if(f=n.getModeAt(r.head),o=!1,f.electricChars){for(s=0;s<f.electricChars.length;s++)if(-1<t.indexOf(f.electricChars.charAt(s))){o=we(n,r.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(i(n.doc,r.head.line).text.slice(0,r.head.ch))&&(o=we(n,r.head.line,"smart"));o&&it(n,"electricInput",n,r.head.line)}}function yb(t){for(var u,i,f=[],e=[],r=0;r<t.doc.sel.ranges.length;r++)u=t.doc.sel.ranges[r].head.line,i={anchor:n(u,0),head:n(u+1,0)},e.push(i),f.push(t.getRange(i.anchor,i.head));return{text:f,ranges:e}}function pb(n,t){n.setAttribute("autocorrect","off");n.setAttribute("autocapitalize","off");n.setAttribute("spellcheck",!!t)}function wb(){var n=t("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),i=t("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return nt?n.style.width="1000px":n.setAttribute("wrap","off"),ef&&(n.style.border="1px solid black"),pb(n),i}function kl(t,r,u,f,e){function h(f){var o,h=e?fv(t.cm,s,r,u):vh(s,r,u);if(null==h){if(f||(o=r.line+u)<t.first||o>=t.first+t.size||(r=new n(o,r.ch,r.sticky),!(s=i(t,o))))return;r=yh(e,t.cm,s,r.line,u)}else r=h;return 1}var p=r,w=u,s=i(t,r.line),l,o,a;if("char"==f)h();else if("column"==f)h(!0);else if("word"==f||"group"==f)for(var v=null,y="group"==f,b=t.cm&&t.cm.getHelper(r,"wordChars"),c=!0;!(u<0)||h(!c);c=!1){if(l=s.text.charAt(r.ch)||"\n",o=no(l,b)?"w":y&&"\n"==l?"n":!y||/\s/.test(l)?null:"p",!y||c||o||(o="s"),v&&v!=o){u<0&&(u=1,h(),r.sticky="after");break}if(o&&(v=o),0<u&&!h(!c))break}return a=vl(t,r,p,w,!0),th(p,a)&&(a.hitSide=!0),a}function bb(n,t,i,r){var e,o,u,f,s=n.doc,h=t.left;for("page"==r?(e=Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),o=Math.max(e-.5*pr(n.display),3),u=(0<i?t.bottom:t.top)+i*o):"line"==r&&(u=0<i?t.bottom+3:t.top-3);(f=yc(n,h,u)).outside;){if(i<0?u<=0:u>=s.height){f.hitSide=!0;break}u+=5*i}return f}function a(n){this.cm=n;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new ki;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null}function kb(n,t){var u=lc(n,t.line),r;if(!u||u.hidden)return null;var f=i(n.doc,t.line),s=sy(u,f,t.line),e=di(f,n.doc.direction),o="left";return e&&(o=oh(e,t.ch)%2?"right":"left"),r=cy(s.map,t.ch,o),r.offset="right"==r.collapse?r.end:r.start,r}function uf(n,t){return t&&(n.bad=!0),n}function hs(t,i,r){var u,f,e;if(i==t.display.lineDiv){if(!(u=t.display.lineDiv.childNodes[r]))return uf(t.clipPos(n(t.display.viewTo-1)),!0);i=null;r=0}else for(u=i;;u=u.parentNode){if(!u||u==t.display.lineDiv)return null;if(u.parentNode&&u.parentNode==t.display.lineDiv)break}for(f=0;f<t.display.view.length;f++)if(e=t.display.view[f],e.node==u)return function(t,i,r){function w(i,r,u){for(var o,e,s,l,h,f=-1;f<(v?v.length:0);f++)for(o=f<0?p.map:v[f],e=0;e<o.length;e+=3)if(s=o[e+2],s==i||s==r)return l=c(f<0?t.line:t.rest[f]),h=o[e]+u,(u<0||s!=i)&&(h=o[e+(u?1:0)]),n(l,h)}var a=t.text.firstChild,l=!1,y,f,e,p,v,u,o,b,s,k;if(!i||!de(a,i))return uf(n(c(t.line),0),!0);if(i==a&&(l=!0,i=a.childNodes[r],r=0,!i))return y=t.rest?h(t.rest):t.line,uf(n(c(y),y.text.length),l);for(f=3==i.nodeType?i:null,e=i,f||1!=i.childNodes.length||3!=i.firstChild.nodeType||(f=i.firstChild,r=r&&f.nodeValue.length);e.parentNode!=a;)e=e.parentNode;if(p=t.measure,v=p.maps,u=w(f,e,r),u)return uf(u,l);for(o=e.nextSibling,b=f?f.nodeValue.length-r:0;o;o=o.nextSibling){if(u=w(o,o.firstChild,0))return uf(n(u.line,u.ch-b),l);b+=o.textContent.length}for(s=e.previousSibling,k=r;s;s=s.previousSibling){if(u=w(s,s.firstChild,-1))return uf(n(u.line,u.ch+k),l);k+=s.textContent.length}}(e,i,r)}function b(n){this.cm=n;this.prevInput="";this.pollingFast=!1;this.polling=new ki;this.inaccurateSelection=!1;this.hasSelection=!1;this.composing=null}function u(n,t,i,r){cs.defaults[n]=t;i&&(db[n]=r?function(n,t,r){r!=rf&&i(n,t,r)}:i)}var ft=navigator.userAgent,gl=navigator.platform,pi=/gecko\/\d/i.test(ft),na=/MSIE \d/.test(ft),ta=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ft),ff=/Edge\/(\d+)/.exec(ft),s=na||ta||ff,v=s&&(na?document.documentMode||6:+(ff||ta)[1]),nt=!ff&&/WebKit\//.test(ft),nk=nt&&/Qt\/\d+\.\d+/.test(ft),ia=!ff&&/Chrome\//.test(ft),wt=/Opera\//.test(ft),ra=/Apple Computer/.test(navigator.vendor),tk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ft),ik=/PhantomJS/.test(ft),ef=!ff&&/AppleWebKit/.test(ft)&&/Mobile\/\w+/.test(ft),ua=/Android/.test(ft),of=ef||ua||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ft),bt=ef||/Mac/.test(gl),rk=/\bCrOS\b/.test(ft),uk=/win/i.test(gl),nu=wt&&ft.match(/Version\/(\d*\.\d*)/),ls,ke,tu,wi,ur,ki,cf,sa,ca,rh,si,iu,tv,iv,rv,sh,hh,ch,lh,uv,ph,r,hr,w,cr,bv,kv,lr,eu,yr,ac,re,ht,tl,sp,oe,lt,l,yl,vi,ku,ww,et,pl,wl,yi,du,ve,gu,fi,ye,ib,rs,us,fs,os,vt,cs,db,ni,dl,gr,o,gb,be;(nu=nu&&Number(nu[1]))&&15<=nu&&(nt=!(wt=!1));ls=bt&&(nk||wt&&(null==nu||nu<12.11));ke=pi||s&&9<=v;wi=function(n,t){var r,u=n.className,i=sf(t).exec(u);i&&(r=u.slice(i.index+i[0].length),n.className=u.slice(0,i.index)+(r?i[1]+r:""))};tu=document.createRange?function(n,t,i,r){var u=document.createRange();return u.setEnd(r||n,i),u.setStart(n,t),u}:function(n,t,i){var r=document.body.createTextRange();try{r.moveToElementText(n.parentNode)}catch(n){return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r};ur=function(n){n.select()};ef?ur=function(n){n.selectionStart=0;n.selectionEnd=n.value.length}:s&&(ur=function(n){try{n.select()}catch(n){}});ki=function(){this.id=null};ki.prototype.set=function(n,t){clearTimeout(this.id);this.id=setTimeout(t,n)};var fa=30,ys={toString:function(){return"CodeMirror.Pass"}},oi={scroll:!1},ps={origin:"*mouse"},hf={origin:"+move"};cf=[""];sa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;ca=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;rh=!1;si=!1;iu=null;uv=(tv="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",iv="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",rv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,sh=/[stwN]/,hh=/[LRr]/,ch=/[Lb1n]/,lh=/[1n]/,function(n,t){var w="ltr"==t?"L":"R",d,et,ot,b,st,nt,v,y,tt,s,ht,c,at,it,g,ct,rt,a,l,k,f,r,yt,p,ut,e,pt;if(0==n.length||"ltr"==t&&!rv.test(n))return!1;for(var o,u=n.length,i=[],ft=0;ft<u;++ft)i.push((o=n.charCodeAt(ft))<=247?tv.charAt(o):1424<=o&&o<=1524?"R":1536<=o&&o<=1785?iv.charAt(o-1536):1774<=o&&o<=2220?"r":8192<=o&&o<=8203?"w":8204==o?"b":"L");for(d=0,et=w;d<u;++d)ot=i[d],"m"==ot?i[d]=et:et=ot;for(b=0,st=w;b<u;++b)nt=i[b],"1"==nt&&"r"==st?i[b]="n":hh.test(nt)&&"r"==(st=nt)&&(i[b]="R");for(v=1,y=i[0];v<u-1;++v)tt=i[v],"+"==tt&&"1"==y&&"1"==i[v+1]?i[v]="1":","!=tt||y!=i[v+1]||"1"!=y&&"n"!=y||(i[v]=y),y=tt;for(s=0;s<u;++s)if(ht=i[s],","==ht)i[s]="N";else if("%"==ht){for(c=void 0,c=s+1;c<u&&"%"==i[c];++c);for(at=s&&"!"==i[s-1]||c<u&&"1"==i[c]?"1":"N",it=s;it<c;++it)i[it]=at;s=c-1}for(g=0,ct=w;g<u;++g)rt=i[g],"L"==ct&&"1"==rt?i[g]="L":hh.test(rt)&&(ct=rt);for(a=0;a<u;++a)if(sh.test(i[a])){for(l=void 0,l=a+1;l<u&&sh.test(i[l]);++l);for(var vt="L"==(a?i[a-1]:w),wt=vt==("L"==(l<u?i[l]:w))?vt?"L":"R":w,lt=a;lt<l;++lt)i[lt]=wt;a=l-1}for(f=[],r=0;r<u;)if(ch.test(i[r])){for(yt=r,++r;r<u&&ch.test(i[r]);++r);f.push(new ru(0,yt,r))}else{for(p=r,ut=f.length,++r;r<u&&"L"!=i[r];++r);for(e=p;e<r;)if(lh.test(i[e])){for(p<e&&f.splice(ut,0,new ru(1,p,e)),pt=e,++e;e<r&&lh.test(i[e]);++e);f.splice(ut,0,new ru(2,pt,e));p=e}else++e;p<r&&f.splice(ut,0,new ru(1,p,r))}return 1==f[0].level&&(k=n.match(/^\s+/))&&(f[0].from=k[0].length,f.unshift(new ru(0,0,k[0].length))),1==h(f).level&&(k=n.match(/\s+$/))&&(h(f).to-=k[0].length,f.push(new ru(0,u-k[0].length,u))),"rtl"==t?f.reverse():f});ph=[];r=function(n,t,i){var r;n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):(r=n._handlers||(n._handlers={}))[t]=(r[t]||ph).concat(i)};var dh,gh,ek=function(){if(s&&v<9)return!1;var n=t("div");return"draggable"in n||"dragDrop"in n}(),nc,tc=3!="\n\nb".split(/\n/).length?function(n){for(var t,r,u,i=0,f=[],e=n.length;i<=e;)t=n.indexOf("\n",i),-1==t&&(t=n.length),r=n.slice(i,"\r"==n.charAt(t-1)?t-1:t),u=r.indexOf("\r"),-1!=u?(f.push(r.slice(0,u)),i+=u+1):(f.push(r),i=t+1);return f}:function(n){return n.split(/\r\n?|\n/)},ok=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch(n){return!1}}:function(n){var t;try{t=n.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=n)&&0!=t.compareEndPoints("StartToEnd",t)},hv="oncopy"in(nc=t("div"))||(nc.setAttribute("oncopy","return;"),"function"==typeof nc.oncopy),ic=null,rc={},fu={};for(hr={},w=function(n,t){this.pos=this.start=0;this.string=n;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0},w.prototype.eol=function(){return this.pos>=this.string.length},w.prototype.sol=function(){return this.pos==this.lineStart},w.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},w.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},w.prototype.eat=function(n){var t=this.string.charAt(this.pos),i="string"==typeof n?t==n:t&&(n.test?n.test(t):n(t));if(i)return++this.pos,t},w.prototype.eatWhile=function(n){for(var t=this.pos;this.eat(n););return this.pos>t},w.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},w.prototype.skipToEnd=function(){this.pos=this.string.length},w.prototype.skipTo=function(n){var t=this.string.indexOf(n,this.pos);if(-1<t)return this.pos=t,!0},w.prototype.backUp=function(n){this.pos-=n},w.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=yt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?yt(this.string,this.lineStart,this.tabSize):0)},w.prototype.indentation=function(){return yt(this.string,null,this.tabSize)-(this.lineStart?yt(this.string,this.lineStart,this.tabSize):0)},w.prototype.match=function(n,t,i){function u(n){return i?n.toLowerCase():n}if("string"!=typeof n){var r=this.string.slice(this.pos).match(n);return r&&0<r.index?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}if(u(this.string.substr(this.pos,n.length))==u(n))return!1!==t&&(this.pos+=n.length),!0},w.prototype.current=function(){return this.string.slice(this.start,this.pos)},w.prototype.hideFirstChars=function(n,t){this.lineStart+=n;try{return t()}finally{this.lineStart-=n}},cr=function(n,t,i){this.text=n;wa(this,t);this.height=i?i(this):1},cr.prototype.lineNo=function(){return c(this)},uu(cr),bv={},kv={},lr=null,eu=null,ac={left:0,right:0,top:0,bottom:0},re=0,ht=null,s?ht=-.53:pi?ht=15:ia?ht=-.7:ra&&(ht=-1/3),kr.prototype.update=function(n){var u,f,i=n.scrollWidth>n.clientWidth+1,r=n.scrollHeight>n.clientHeight+1,t=n.nativeBarWidth;return r?(this.vert.style.display="block",this.vert.style.bottom=i?t+"px":"0",u=n.viewHeight-(i?t:0),this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+u)+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),i?(this.horiz.style.display="block",this.horiz.style.right=r?t+"px":"0",this.horiz.style.left=n.barLeft+"px",f=n.viewWidth-n.barLeft-(r?t:0),this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+f)+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&0<n.clientHeight&&(0==t&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?t:0,bottom:i?t:0}},kr.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},kr.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},kr.prototype.zeroWidthHack=function(){var n=bt&&!tk?"12px":"18px";this.horiz.style.height=this.vert.style.width=n;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new ki;this.disableVert=new ki},kr.prototype.enableZeroWidthBar=function(n,t){n.style.pointerEvents="auto";t.set(1e3,function i(){var r=n.getBoundingClientRect();document.elementFromPoint(r.left+1,r.bottom-1)!=n?n.style.pointerEvents="none":t.set(1e3,i)})},kr.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz);n.removeChild(this.vert)},fe.prototype.update=function(){return{bottom:0,right:0}},fe.prototype.setScrollLeft=function(){},fe.prototype.setScrollTop=function(){},fe.prototype.clear=function(){},tl={"native":kr,"null":fe},sp=0,oe=function(n,t,i){var r=n.display;this.viewport=t;this.visible=nl(r,n.doc,t);this.editorIsHidden=!r.wrapper.offsetWidth;this.wrapperHeight=r.wrapper.clientHeight;this.wrapperWidth=r.wrapper.clientWidth;this.oldDisplayWidth=ar(n);this.force=i;this.dims=pc(n);this.events=[]},oe.prototype.signal=function(n,t){pt(n,t)&&this.events.push(arguments)},oe.prototype.finish=function(){for(var n=0;n<this.events.length;n++)p.apply(null,this.events[n])},lt=function(n,t){this.ranges=n;this.primIndex=t},lt.prototype.primary=function(){return this.ranges[this.primIndex]},lt.prototype.equals=function(n){var t,i,r;if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(t=0;t<this.ranges.length;t++)if(i=this.ranges[t],r=n.ranges[t],!th(i.anchor,r.anchor)||!th(i.head,r.head))return!1;return!0},lt.prototype.deepCopy=function(){for(var t=[],n=0;n<this.ranges.length;n++)t[n]=new l(ih(this.ranges[n].anchor),ih(this.ranges[n].head));return new lt(t,this.primIndex)},lt.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},lt.prototype.contains=function(n,t){var i,r;for(t=t||n,i=0;i<this.ranges.length;i++)if(r=this.ranges[i],0<=f(t,r.from())&&f(n,r.to())<=0)return i;return-1},l=function(n,t){this.anchor=n;this.head=t},l.prototype.from=function(){return ro(this.anchor,this.head)},l.prototype.to=function(){return io(this.anchor,this.head)},l.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ai.prototype.chunkSize=function(){return this.lines.length},ai.prototype.removeInner=function(n,t){for(var u,r,i=n,f=n+t;i<f;++i)r=this.lines[i],this.height-=r.height,(u=r).parent=null,pa(u),it(r,"delete");this.lines.splice(n,t)},ai.prototype.collapse=function(n){n.push.apply(n,this.lines)},ai.prototype.insertInner=function(n,t,i){this.height+=i;this.lines=this.lines.slice(0,n).concat(t).concat(this.lines.slice(n));for(var r=0;r<t.length;++r)t[r].parent=this},ai.prototype.iterN=function(n,t,i){for(var r=n+t;n<r;++n)if(i(this.lines[n]))return!0},ui.prototype.chunkSize=function(){return this.size},ui.prototype.removeInner=function(n,t){var e,r,i,u,f,o;for(this.size-=t,r=0;r<this.children.length;++r)if(i=this.children[r],u=i.chunkSize(),n<u){if(f=Math.min(t,u-n),o=i.height,i.removeInner(n,f),this.height-=o-i.height,u==f&&(this.children.splice(r--,1),i.parent=null),0==(t-=f))break;n=0}else n-=u;this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof ai))&&(e=[],this.collapse(e),this.children=[new ai(e)],this.children[0].parent=this)},ui.prototype.collapse=function(n){for(var t=0;t<this.children.length;++t)this.children[t].collapse(n)},ui.prototype.insertInner=function(n,t,i){var u,r,o,s,f,e;for(this.size+=t.length,this.height+=i,u=0;u<this.children.length;++u){if(r=this.children[u],o=r.chunkSize(),n<=o){if(r.insertInner(n,t,i),r.lines&&50<r.lines.length){for(s=r.lines.length%25+25,f=s;f<r.lines.length;)e=new ai(r.lines.slice(f,f+=25)),r.height-=e.height,this.children.splice(++u,0,e),e.parent=this;r.lines=r.lines.slice(0,s);this.maybeSpill()}break}n-=o}},ui.prototype.maybeSpill=function(){var n,r,i,u,t;if(!(this.children.length<=10)){n=this;do u=n.children.splice(n.children.length-5,5),t=new ui(u),n.parent?(n.size-=t.size,n.height-=t.height,r=tt(n.parent.children,n),n.parent.children.splice(r+1,0,t)):(((i=new ui(n.children)).parent=n).children=[i,t],n=i),t.parent=n.parent;while(10<n.children.length);n.parent.maybeSpill()}},ui.prototype.iterN=function(n,t,i){for(var f,u,e,r=0;r<this.children.length;++r)if(f=this.children[r],u=f.chunkSize(),n<u){if(e=Math.min(t,u-n),f.iterN(n,e,i))return!0;if(0==(t-=e))break;n=0}else n-=u},ae.prototype.clear=function(){var n=this.doc.cm,t=this.line.widgets,i=this.line,u=c(i),r,f;if(null!=u&&t){for(r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);f=bf(this);ti(i,Math.max(0,i.height-f));n&&(ct(n,function(){yw(n,i,-f);gi(n,u,"widget")}),it(n,"lineWidgetCleared",n,this,u))}},ae.prototype.changed=function(){var r=this,u=this.height,n=this.doc.cm,t=this.line,i;this.height=null;i=bf(this)-u;i&&(ti(t,t.height+i),n&&ct(n,function(){n.curOp.forceUpdate=!0;yw(n,t,i);it(n,"lineWidgetChanged",n,r,c(t))}))},uu(ae),yl=0,vi=function(n,t){this.lines=[];this.type=t;this.doc=n;this.id=++yl},vi.prototype.clear=function(){var i=this,e,n,o,t,r,f,l,a;if(!this.explicitlyCleared){n=this.doc.cm;o=n&&!n.curOp;o&&lu(n);pt(this,"clear")&&(e=this.find())&&it(this,"clear",e.from,e.to);for(var u=null,s=null,h=0;h<this.lines.length;++h)t=i.lines[h],r=af(t.markedSpans,i),n&&!i.collapsed?gi(n,c(t),"text"):n&&(null!=r.to&&(s=c(t)),null!=r.from&&(u=c(t))),t.markedSpans=function(n,t){for(var r,i=0;i<n.length;++i)n[i]!=t&&(r=r||[]).push(n[i]);return r}(t.markedSpans,r),null==r.from&&i.collapsed&&!sr(i.doc,t)&&n&&ti(t,pr(n.display));if(n&&this.collapsed&&!n.options.lineWrapping)for(f=0;f<this.lines.length;++f)l=ii(i.lines[f]),a=oo(l),a>n.display.maxLineLength&&(n.display.maxLine=l,n.display.maxLineLength=a,n.display.maxLineChanged=!0);null!=u&&n&&this.collapsed&&st(n,u,s+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&uw(n.doc));n&&it(n,"markerCleared",n,this,u,s);o&&au(n);this.parent&&this.parent.clear()}},vi.prototype.find=function(t,i){var f,o,e,r,u;for(null==t&&"bookmark"==this.type&&(t=1),e=0;e<this.lines.length;++e){if(r=this.lines[e],u=af(r.markedSpans,this),null!=u.from&&(f=n(i?r:c(r),u.from),-1==t))return f;if(null!=u.to&&(o=n(i?r:c(r),u.to),1==t))return o}return f&&{from:f,to:o}},vi.prototype.changed=function(){var r=this,i=this.find(-1,!0),t=this,n=this.doc.cm;i&&n&&ct(n,function(){var f,e,u=i.line,s=c(i.line),o=lc(n,s);o&&(ly(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0);n.curOp.updateMaxLine=!0;sr(t.doc,u)||null==t.height||(f=t.height,t.height=null,(e=bf(t)-f)&&ti(u,u.height+e));it(n,"markerChanged",n,r)})},vi.prototype.attachLine=function(n){var t;!this.lines.length&&this.doc.cm&&((t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=tt(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this));this.lines.push(n)},vi.prototype.detachLine=function(n){var t;this.lines.splice(tt(this.lines,n),1);!this.lines.length&&this.doc.cm&&((t=this.doc.cm.curOp).maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)},uu(vi),ku=function(n,t){this.markers=n;this.primary=t;for(var i=0;i<n.length;++i)n[i].parent=this},ku.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();it(this,"clear")}},ku.prototype.find=function(n,t){return this.primary.find(n,t)},uu(ku),ww=0,et=function(t,i,r,u,f){if(!(this instanceof et))return new et(t,i,r,u,f);null==r&&(r=0);ui.call(this,[new ai([new cr("",null)])]);this.first=r;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;var e=n(this.frontier=r,0);this.sel=tr(e);this.history=new po(null);this.id=++ww;this.modeOption=i;this.lineSep=u;this.direction="rtl"==f?"rtl":"ltr";this.extend=!1;"string"==typeof t&&(t=this.splitLines(t));cl(this,{from:e,to:e,text:t});ut(this,tr(e),oi)},et.prototype=oa(ui.prototype,{constructor:et,iter:function(n,t,i){i?this.iterN(n-this.first,t-n,i):this.iterN(this.first,this.first+this.size,n)},insert:function(n,t){for(var r=0,i=0;i<t.length;++i)r+=t[i].height;this.insertInner(n-this.first,t,r)},remove:function(n,t){this.removeInner(n-this.first,t)},getValue:function(n){var t=gs(this,this.first,this.first+this.size);return!1===n?t:t.join(n||this.lineSeparator())},setValue:g(function(t){var r=n(this.first,0),u=this.first+this.size-1;pu(this,{from:r,to:n(u,i(this,u).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0);ut(this,tr(r))}),replaceRange:function(n,t,i,r){wu(this,n,t=e(this,t),i=i?e(this,i):t,r)},getRange:function(n,t,i){var r=er(this,e(this,n),e(this,t));return!1===i?r:r.join(i||this.lineSeparator())},getLine:function(n){var t=this.getLineHandle(n);return t&&t.text},getLineHandle:function(n){if(lf(this,n))return i(this,n)},getLineNumber:c,getLineHandleVisualStart:function(n){return"number"==typeof n&&(n=i(this,n)),ii(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return e(this,n)},getCursor:function(n){var t=this.sel.primary();return null==n||"head"==n?t.head:"anchor"==n?t.anchor:"end"==n||"to"==n||!1===n?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:g(function(t,i,r){tw(this,e(this,"number"==typeof t?n(t,i||0):t),null,r)}),setSelection:g(function(n,t,i){tw(this,e(this,n),e(this,t||n),i)}),extendSelection:g(function(n,t,i){bo(this,e(this,n),t&&e(this,t),i)}),extendSelections:g(function(n,t){nw(this,va(this,n),t)}),extendSelectionsBy:g(function(n,t){nw(this,va(this,ge(this.sel.ranges,n)),t)}),setSelections:g(function(n,t,i){if(n.length){for(var u=[],r=0;r<n.length;r++)u[r]=new l(e(this,n[r].anchor),e(this,n[r].head));null==t&&(t=Math.min(n.length-1,this.sel.primIndex));ut(this,gt(u,t),i)}}),addSelection:g(function(n,t,i){var r=this.sel.ranges.slice(0);r.push(new l(e(this,n),e(this,t||n)));ut(this,gt(r,r.length-1),i)}),getSelection:function(n){for(var u,i,r=this.sel.ranges,t=0;t<r.length;t++)u=er(this,r[t].from(),r[t].to()),i=i?i.concat(u):u;return!1===n?i:i.join(n||this.lineSeparator())},getSelections:function(n){for(var i,u=[],r=this.sel.ranges,t=0;t<r.length;t++)i=er(this,r[t].from(),r[t].to()),!1!==n&&(i=i.join(n||this.lineSeparator())),u[t]=i;return u},replaceSelection:function(n,t,i){for(var u=[],r=0;r<this.sel.ranges.length;r++)u[r]=n;this.replaceSelections(u,t,i||"+input")},replaceSelections:g(function(t,i,r){for(var s,h,o,e=[],c=this.sel,u=0;u<c.ranges.length;u++)s=c.ranges[u],e[u]={from:s.from(),to:s.to(),text:this.splitLines(t[u]),origin:r};for(h=i&&"end"!=i&&function(t,i,r){for(var o=[],s=v=n(t.first,0),u=0;u<i.length;u++){var y,h,c=i[u],e=vp(c.from,v,s),a=vp(ir(c),v,s),v=c.to,s=a;"around"==r?(h=f((y=t.sel.ranges[u]).head,y.anchor)<0,o[u]=new l(h?a:e,h?e:a)):o[u]=new l(e,e)}return new lt(o,t.sel.primIndex)}(this,e,i),o=e.length-1;0<=o;o--)pu(this,e[o]);h?iw(this,h):this.cm&&cu(this.cm)}),undo:g(function(){go(this,"undo")}),redo:g(function(){go(this,"redo")}),undoSelection:g(function(){go(this,"undo",!0)}),redoSelection:g(function(){go(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var t,n=this.history,r=0,u=0,i=0;i<n.done.length;i++)n.done[i].ranges||++r;for(t=0;t<n.undone.length;t++)n.undone[t].ranges||++u;return{undo:r,redo:u}},clearHistory:function(){this.history=new po(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:vu(this.history.done),undone:vu(this.history.undone)}},setHistory:function(n){var t=this.history=new po(this.history.maxGeneration);t.done=vu(n.done.slice(0),null,!0);t.undone=vu(n.undone.slice(0),null,!0)},setGutterMarker:g(function(n,t,i){return le(this,n,"gutter",function(n){var r=n.gutterMarkers||(n.gutterMarkers={});return!(r[t]=i)&&ha(r)&&(n.gutterMarkers=null),1})}),clearGutter:g(function(n){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[n]&&le(t,i,"gutter",function(){return i.gutterMarkers[n]=null,ha(i.gutterMarkers)&&(i.gutterMarkers=null),1})})}),lineInfo:function(n){var t;if("number"==typeof n){if(!lf(this,n)||!(n=i(this,t=n)))return null}else if(null==(t=c(n)))return null;return{line:t,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:g(function(n,t,i){return le(this,n,"gutter"==t?"gutter":"class",function(n){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(n[r]){if(sf(i).test(n[r]))return;n[r]+=" "+i}else n[r]=i;return 1})}),removeLineClass:g(function(n,t,i){return le(this,n,"gutter"==t?"gutter":"class",function(n){var f="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",u=n[f],r,e;if(u){if(null==i)n[f]=null;else{if(r=u.match(sf(i)),!r)return;e=r.index+r[0].length;n[f]=u.slice(0,r.index)+(r.index&&e!=u.length?" ":"")+u.slice(e)||null}return 1}})}),addLineWidget:g(function(n,t,i){return e=n,r=new ae(f=this,t,i),(u=f.cm)&&r.noHScroll&&(u.display.alignWidgets=!0),le(f,e,"widget",function(n){var i,t=n.widgets||(n.widgets=[]);return null==r.insertAt?t.push(r):t.splice(Math.min(t.length-1,Math.max(0,r.insertAt)),0,r),r.line=n,u&&!sr(f,n)&&(i=hi(n)<f.scrollTop,ti(n,n.height+bf(r)),i&&il(u,null,r.height),u.curOp.forceUpdate=!0),1}),it(u,"lineWidgetAdded",u,r,"number"==typeof e?e:c(e)),r;var f,e,r,u}),removeLineWidget:function(n){n.clear()},markText:function(n,t,i){return bu(this,e(this,n),e(this,t),i,i&&i.type||"range")},setBookmark:function(n,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return bu(this,n=e(this,n),n,i,"bookmark")},findMarksAt:function(n){var f=[],u=i(this,(n=e(this,n)).line).markedSpans,r,t;if(u)for(r=0;r<u.length;++r)t=u[r],(null==t.from||t.from<=n.ch)&&(null==t.to||t.to>=n.ch)&&f.push(t.marker.parent||t.marker);return f},findMarks:function(n,t,i){n=e(this,n);t=e(this,t);var u=[],r=n.line;return this.iter(n.line,t.line+1,function(f){var s=f.markedSpans,o,e;if(s)for(o=0;o<s.length;o++)e=s[o],null!=e.to&&r==n.line&&n.ch>=e.to||null==e.from&&r!=n.line||null!=e.from&&r==t.line&&e.from>=t.ch||i&&!i(e.marker)||u.push(e.marker.parent||e.marker);++r}),u},getAllMarks:function(){var n=[];return this.iter(function(t){var r=t.markedSpans,i;if(r)for(i=0;i<r.length;++i)null!=r[i].from&&n.push(r[i].marker)}),n},posFromIndex:function(t){var i,r=this.first,u=this.lineSeparator().length;return this.iter(function(n){var f=n.text.length+u;if(t<f)return i=t,!0;t-=f;++r}),e(this,n(r,i))},indexFromPos:function(n){var t=(n=e(this,n)).ch,i;return n.line<this.first||n.ch<0?0:(i=this.lineSeparator().length,this.iter(this.first,n.line,function(n){t+=n.text.length+i}),t)},copy:function(n){var t=new et(gs(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,n&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(n){var i,r,t;return n=n||{},i=this.first,r=this.first+this.size,null!=n.from&&n.from>i&&(i=n.from),null!=n.to&&n.to<r&&(r=n.to),t=new et(gs(this,i,r),n.mode||this.modeOption,i,this.lineSep,this.direction),n.sharedHist&&(t.history=this.history),(this.linked||(this.linked=[])).push({doc:t,sharedHist:n.sharedHist}),t.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],function(n,t){for(var r=0;r<t.length;r++){var u,i=t[r],e=i.find(),o=n.clipPos(e.from),s=n.clipPos(e.to);f(o,s)&&(u=bu(n,o,s,i.primary,i.primary.type),i.markers.push(u),u.parent=i)}}(t,pw(this)),t},unlinkDoc:function(n){var i,t;if(n instanceof y&&(n=n.doc),this.linked)for(t=0;t<this.linked.length;++t)if(this.linked[t].doc==n){this.linked.splice(t,1);n.unlinkDoc(this),function(n){for(var t=0;t<n.length;t++)!function(t){var i=n[t],f=[i.primary.doc],r,u;for(dr(i.primary.doc,function(n){return f.push(n)}),r=0;r<i.markers.length;r++)u=i.markers[r],-1==tt(f,u.doc)&&(u.parent=null,i.markers.splice(r--,1))}(t)}(pw(this));break}n.history==this.history&&(i=[n.id],dr(n,function(n){return i.push(n.id)},!0),n.history=new po(null),n.history.done=vu(this.history.done,i),n.history.undone=vu(this.history.undone,i))},iterLinkedDocs:function(n){dr(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):tc(n)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:g(function(n){var t;"rtl"!=n&&(n="ltr");n!=this.direction&&(this.direction=n,this.iter(function(n){return n.order=null}),this.cm&&ct(t=this.cm,function(){wp(t);st(t)}))})}),et.prototype.eachLine=et.prototype.iter,pl=0,wl=!1,yi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},du=0;du<10;du++)yi[du+48]=yi[du+96]=String(du);for(ve=65;ve<=90;ve++)yi[ve]=String.fromCharCode(ve);for(gu=1;gu<=12;gu++)yi[gu+111]=yi[gu+63235]="F"+gu;fi={};fi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};fi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};fi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};fi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};fi.default=bt?fi.macDefault:fi.pcDefault;ye={selectAll:ow,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),oi)},killLine:function(t){return tf(t,function(r){if(r.empty()){var u=i(t.doc,r.head.line).text.length;return r.head.ch==u&&r.head.line<t.lastLine()?{from:r.head,to:n(r.head.line+1,0)}:{from:r.head,to:n(r.head.line,u)}}return{from:r.from(),to:r.to()}})},deleteLine:function(t){return tf(t,function(i){return{from:n(i.from().line,0),to:e(t.doc,n(i.to().line+1,0))}})},delLineLeft:function(t){return tf(t,function(t){return{from:n(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(n){return tf(n,function(t){var i=n.charCoords(t.head,"div").top+5;return{from:n.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(n){return tf(n,function(t){var i=n.charCoords(t.head,"div").top+5,r=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:r}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(t){return t.extendSelection(n(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(n(t.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(t){return nb(n,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(t){return tb(n,t.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(t){return function(n,t){var r=i(n.doc,t),u=function(n){for(var t;t=vf(n);)n=t.find(1,!0).line;return n}(r);return u!=r&&(t=c(u)),yh(!0,n,r,t,-1)}(n,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(t){var i=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:i},"div")},hf)},goLineLeft:function(n){return n.extendSelectionsBy(function(t){var i=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:0,top:i},"div")},hf)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(t){var r=n.charCoords(t.head,"div").top+5,i=n.coordsChar({left:0,top:r},"div");return i.ch<n.getLine(i.line).search(/\S/)?tb(n,t.head):i},hf)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"char")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("\t")},insertSoftTab:function(n){for(var r,e,u=[],f=n.listSelections(),t=n.options.tabSize,i=0;i<f.length;i++)r=f[i].from(),e=yt(n.getLine(r.line),r.ch,t),u.push(bs(t-e%t));n.replaceSelections(u)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(t){return ct(t,function(){for(var r,u,f,o=t.listSelections(),s=[],e=0;e<o.length;e++)o[e].empty()&&(r=o[e].head,(u=i(t.doc,r.line).text)&&(r.ch==u.length&&(r=new n(r.line,r.ch-1)),0<r.ch?(r=new n(r.line,r.ch+1),t.replaceRange(u.charAt(r.ch-1)+u.charAt(r.ch-2),n(r.line,r.ch-2),r,"+transpose")):r.line>t.doc.first&&(f=i(t.doc,r.line-1).text)&&(r=new n(r.line,1),t.replaceRange(u.charAt(0)+t.doc.lineSeparator()+f.charAt(f.length-1),n(r.line-1,f.length-1),r,"+transpose"))),s.push(new l(r,r)));t.setSelections(s)})},newlineAndIndent:function(n){return ct(n,function(){for(var r,t=n.listSelections(),i=t.length-1;0<=i;i--)n.replaceRange(n.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");for(t=n.listSelections(),r=0;r<t.length;r++)n.indentLine(t[r].from().line,null,!0);cu(n)})},openLine:function(n){return n.replaceSelection("\n","start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};ib=new ki;fs=null;var rf={toString:function(){return"CodeMirror.Init"}},lb={},es={};y.defaults=lb;y.optionHandlers=es;os=[];y.defineInitHook=function(n){return os.push(n)};vt=null;a.prototype.init=function(n){function e(n){var r,e,i,o,s;if(!k(t,n)){if(t.somethingSelected())ss({lineWise:!1,text:t.getSelections()}),"cut"==n.type&&t.replaceSelection("",null,"cut");else{if(!t.options.lineWiseCopyCut)return;r=yb(t);ss({lineWise:!0,text:r.text});"cut"==n.type&&t.operation(function(){t.setSelections(r.ranges,0,oi);t.replaceSelection("",null,"cut")})}if(n.clipboardData&&(n.clipboardData.clearData(),e=vt.text.join("\n"),n.clipboardData.setData("Text",e),n.clipboardData.getData("Text")==e))return void n.preventDefault();i=wb();o=i.firstChild;t.display.lineSpace.insertBefore(i,t.display.lineSpace.firstChild);o.value=vt.text.join("\n");s=document.activeElement;ur(o);setTimeout(function(){t.display.lineSpace.removeChild(i);s.focus();s==u&&f.showPrimarySelection()},50)}}var i=this,f=this,t=f.cm,u=f.div=n.lineDiv;pb(u,t.options.spellcheck);r(u,"paste",function(n){k(t,n)||ab(n,t)||v<=11&&setTimeout(d(t,function(){return i.updateFromDOM()}),20)});r(u,"compositionstart",function(n){i.composing={data:n.data,done:!1}});r(u,"compositionupdate",function(n){i.composing||(i.composing={data:n.data,done:!1})});r(u,"compositionend",function(n){i.composing&&(n.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)});r(u,"touchstart",function(){return f.forceCompositionEnd()});r(u,"input",function(){i.composing||i.readFromDOMSoon()});r(u,"copy",e);r(u,"cut",e)};a.prototype.prepareSelection=function(){var n=gy(this.cm,!1);return n.focus=this.cm.state.focused,n};a.prototype.showSelection=function(n,t){n&&this.cm.display.view.length&&((n.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(n))};a.prototype.showPrimarySelection=function(){var n=window.getSelection(),e=this.cm.doc.sel.primary(),o=hs(this.cm,n.anchorNode,n.anchorOffset),s=hs(this.cm,n.focusNode,n.focusOffset),t,i,h,r,u,c,l;if(!o||o.bad||!s||s.bad||0!=f(ro(o,s),e.from())||0!=f(io(o,s),e.to()))if(t=kb(this.cm,e.from()),i=kb(this.cm,e.to()),t||i){c=this.cm.display.view;l=n.rangeCount&&n.getRangeAt(0);t?i||(i={node:(r=(h=c[c.length-1].measure).maps?h.maps[h.maps.length-1]:h.map)[r.length-1],offset:r[r.length-2]-r[r.length-3]}):t={node:c[0].measure.map[2],offset:0};try{u=tu(t.node,t.offset,i.offset,i.node)}catch(n){}u&&(!pi&&this.cm.state.focused?(n.collapse(t.node,t.offset),u.collapsed||(n.removeAllRanges(),n.addRange(u))):(n.removeAllRanges(),n.addRange(u)),l&&null==n.anchorNode?n.addRange(l):pi&&this.startGracePeriod());this.rememberSelection()}else n.removeAllRanges()};a.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){n.gracePeriod=!1;n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)};a.prototype.showMultipleSelections=function(n){at(this.cm.display.cursorDiv,n.cursors);at(this.cm.display.selectionDiv,n.selection)};a.prototype.rememberSelection=function(){var n=window.getSelection();this.lastAnchorNode=n.anchorNode;this.lastAnchorOffset=n.anchorOffset;this.lastFocusNode=n.focusNode;this.lastFocusOffset=n.focusOffset};a.prototype.selectionInEditor=function(){var n=window.getSelection(),t;return n.rangeCount?(t=n.getRangeAt(0).commonAncestorContainer,de(this.div,t)):!1};a.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())};a.prototype.blur=function(){this.div.blur()};a.prototype.getField=function(){return this.div};a.prototype.supportsTouch=function(){return!0};a.prototype.receivedFocus=function(){var n=this;this.selectionInEditor()?this.pollSelection():ct(this.cm,function(){return n.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,function t(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,t))})};a.prototype.selectionChanged=function(){var n=window.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset};a.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var i,r,n=window.getSelection(),t=this.cm;if(ua&&ia&&this.cm.options.gutters.length&&function(n){for(var t=n;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(n.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();this.composing||(this.rememberSelection(),i=hs(t,n.anchorNode,n.anchorOffset),r=hs(t,n.focusNode,n.focusOffset),i&&r&&ct(t,function(){ut(t.doc,tr(i,r),oi);(i.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}};a.prototype.pollContent=function(){var y,b,it,t,e,g,nt;null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var k,a,d,r=this.cm,u=r.display,tt=r.doc.sel.primary(),s=tt.from(),v=tt.to();if((0==s.ch&&s.line>r.firstLine()&&(s=n(s.line-1,i(r.doc,s.line-1).length)),v.ch==i(r.doc,v.line).text.length&&v.line<r.lastLine()&&(v=n(v.line+1,0)),s.line<u.viewFrom||v.line>u.viewTo-1)||(d=s.line==u.viewFrom||0==(k=br(r,s.line))?(a=c(u.view[0].line),u.view[0].node):(a=c(u.view[k].line),u.view[k-1].node.nextSibling),b=br(r,v.line),it=b==u.view.length-1?(y=u.viewTo-1,u.lineDiv.lastChild):(y=c(u.view[b+1].line)-1,u.view[b+1].node.previousSibling),!d))return!1;for(t=r.doc.splitLines(function(t,i,r,u,f){function c(){o&&(e+=h,o=!1)}function s(n){n&&(c(),e+=n)}for(var e="",o=!1,h=t.doc.lineSeparator();!function i(r){var l,a,v,y,p,e,w;if(1==r.nodeType){if(l=r.getAttribute("cm-text"),null!=l)return void s(l||r.textContent.replace(/\u200b/g,""));if(v=r.getAttribute("cm-marker"),v)return y=t.findMarks(n(u,0),n(f+1,0),(w=+v,function(n){return n.id==w})),void(y.length&&(a=y[0].find())&&s(er(t.doc,a.from,a.to).join(h)));if("false"==r.getAttribute("contenteditable"))return;for(p=/^(pre|div|p)$/i.test(r.nodeName),p&&c(),e=0;e<r.childNodes.length;e++)i(r.childNodes[e]);p&&(o=!0)}else 3==r.nodeType&&s(r.nodeValue)}(i),i!=r;)i=i.nextSibling;return e}(r,d,it,a,y)),e=er(r.doc,n(a,0),n(y,i(r.doc,y).text.length));1<t.length&&1<e.length;)if(h(t)==h(e))t.pop(),e.pop(),y--;else{if(t[0]!=e[0])break;t.shift();e.shift();a++}for(var o=0,l=0,rt=t[0],ut=e[0],ft=Math.min(rt.length,ut.length);o<ft&&rt.charCodeAt(o)==ut.charCodeAt(o);)++o;for(var p=h(t),w=h(e),et=Math.min(p.length-(1==t.length?o:0),w.length-(1==e.length?o:0));l<et&&p.charCodeAt(p.length-l-1)==w.charCodeAt(w.length-l-1);)++l;if(1==t.length&&1==e.length&&a==s.line)for(;o&&o>s.ch&&p.charCodeAt(p.length-l-1)==w.charCodeAt(w.length-l-1);)o--,l++;return t[t.length-1]=p.slice(0,p.length-l).replace(/^\u200b+/,""),t[0]=t[0].slice(o).replace(/\u200b+$/,""),g=n(a,o),nt=n(y,e.length?h(e).length-l:0),1<t.length||t[0]||f(g,nt)?(wu(r.doc,t,g,nt,"+input"),!0):void 0};a.prototype.ensurePolled=function(){this.forceCompositionEnd()};a.prototype.reset=function(){this.forceCompositionEnd()};a.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};a.prototype.readFromDOMSoon=function(){var n=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing){if(!n.composing.done)return;n.composing=null}n.updateFromDOM()},80))};a.prototype.updateFromDOM=function(){var n=this;!this.cm.isReadOnly()&&this.pollContent()||ct(this.cm,function(){return st(n.cm)})};a.prototype.setUneditable=function(n){n.contentEditable="false"};a.prototype.onKeyPress=function(n){0!=n.charCode&&(n.preventDefault(),this.cm.isReadOnly()||d(this.cm,bl)(this.cm,String.fromCharCode(null==n.charCode?n.keyCode:n.charCode),0))};a.prototype.readOnlyChanged=function(n){this.div.contentEditable=String("nocursor"!=n)};a.prototype.onContextMenu=function(){};a.prototype.resetPosition=function(){};a.prototype.needsContentAttribute=!0;b.prototype.init=function(n){function o(n){if(!k(t,n)){if(t.somethingSelected())ss({lineWise:!1,text:t.getSelections()}),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,u.value=vt.text.join("\n"),ur(u));else{if(!t.options.lineWiseCopyCut)return;var r=yb(t);ss({lineWise:!0,text:r.text});"cut"==n.type?t.setSelections(r.ranges,null,oi):(i.prevInput="",u.value=r.text.join("\n"),ur(u))}"cut"==n.type&&(t.state.cutIncoming=!0)}}var f=this,i=this,t=this.cm,e=this.wrapper=wb(),u=this.textarea=e.firstChild;n.wrapper.insertBefore(e,n.wrapper.firstChild);ef&&(u.style.width="0px");r(u,"input",function(){s&&9<=v&&f.hasSelection&&(f.hasSelection=null);i.poll()});r(u,"paste",function(n){k(t,n)||ab(n,t)||(t.state.pasteIncoming=!0,i.fastPoll())});r(u,"cut",o);r(u,"copy",o);r(n.scroller,"paste",function(r){li(n,r)||k(t,r)||(t.state.pasteIncoming=!0,i.focus())});r(n.lineSpace,"selectstart",function(t){li(n,t)||rt(t)});r(u,"compositionstart",function(){var n=t.getCursor("from");i.composing&&i.composing.range.clear();i.composing={start:n,range:t.markText(n,t.getCursor("to"),{className:"CodeMirror-composing"})}});r(u,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})};b.prototype.prepareSelection=function(){var i,r,u,n=this.cm,t=n.display,e=n.doc,f=gy(n);return n.options.moveInputWithCursor&&(i=dt(n,e.sel.primary().head,"div"),r=t.wrapper.getBoundingClientRect(),u=t.lineDiv.getBoundingClientRect(),f.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+u.top-r.top)),f.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+u.left-r.left))),f};b.prototype.showSelection=function(n){var t=this.cm.display;at(t.cursorDiv,n.cursors);at(t.selectionDiv,n.selection);null!=n.teTop&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")};b.prototype.reset=function(n){var u,t,f,i,e,r;this.contextMenuPending||(f=(t=this.cm).doc,t.somethingSelected()?(this.prevInput="",i=f.sel.primary(),r=(e=hv&&(100<i.to().line-i.from().line||1e3<(u=t.getSelection()).length))?"-":u||t.getSelection(),this.textarea.value=r,t.state.focused&&ur(this.textarea),s&&9<=v&&(this.hasSelection=r)):n||(this.prevInput=this.textarea.value="",s&&9<=v&&(this.hasSelection=null)),this.inaccurateSelection=e)};b.prototype.getField=function(){return this.textarea};b.prototype.supportsTouch=function(){return!1};b.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!of||ei()!=this.textarea))try{this.textarea.focus()}catch(n){}};b.prototype.blur=function(){this.textarea.blur()};b.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};b.prototype.receivedFocus=function(){this.slowPoll()};b.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll();n.cm.state.focused&&n.slowPoll()})};b.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0;n.polling.set(20,function i(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,i))})};b.prototype.poll=function(){var i=this,n=this.cm,f=this.textarea,r=this.prevInput,t,e,u,o;if(this.contextMenuPending||!n.state.focused||ok(f)&&!r&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq||(t=f.value,t==r&&!n.somethingSelected()))return!1;if(s&&9<=v&&this.hasSelection===t||bt&&/[\uf700-\uf7ff]/.test(t))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu&&(e=t.charCodeAt(0),8203!=e||r||(r="​"),8666==e))return this.reset(),this.cm.execCommand("undo");for(u=0,o=Math.min(r.length,t.length);u<o&&r.charCodeAt(u)==t.charCodeAt(u);)++u;return ct(n,function(){bl(n,t.slice(u),r.length-u,null,i.composing?"*compose":null);1e3<t.length||-1<t.indexOf("\n")?f.value=i.prevInput="":i.prevInput=t;i.composing&&(i.composing.range.clear(),i.composing.range=n.markText(i.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0};b.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};b.prototype.onKeyPress=function(){s&&9<=v&&(this.hasSelection=null);this.fastPoll()};b.prototype.onContextMenu=function(n){function y(){var r,n;null!=u.selectionStart&&(n="​"+((r=t.somethingSelected())?u.value:""),u.value="⇚",u.value=n,f.prevInput=r?"":"​",u.selectionStart=1,u.selectionEnd=n.length,i.selForContextMenu=t.doc.sel)}function p(){var r,n;f.contextMenuPending=!1;f.wrapper.style.cssText=l;u.style.cssText=c;s&&v<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=w);null!=u.selectionStart&&((!s||s&&v<9)&&y(),r=0,n=function(){i.selForContextMenu==t.doc.sel&&0==u.selectionStart&&0<u.selectionEnd&&"​"==f.prevInput?d(t,ow)(t):r++<10?i.detectingSelectAll=setTimeout(n,500):(i.selForContextMenu=null,i.input.reset())},i.detectingSelectAll=setTimeout(n,200))}var c,l,e,a,o,f=this,t=f.cm,i=t.display,u=f.textarea,h=wr(t,n),w=i.scroller.scrollTop;h&&!wt&&(t.options.resetSelectionOnContextMenu&&-1==t.doc.sel.contains(h)&&d(t,ut)(t.doc,tr(h),oi),c=u.style.cssText,l=f.wrapper.style.cssText,f.wrapper.style.cssText="position: absolute",e=f.wrapper.getBoundingClientRect(),u.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(n.clientY-e.top-5)+"px; left: "+(n.clientX-e.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",nt&&(a=window.scrollY),i.input.focus(),nt&&window.scrollTo(null,a),i.input.reset(),t.somethingSelected()||(u.value=f.prevInput=" "),f.contextMenuPending=!0,i.selForContextMenu=t.doc.sel,clearTimeout(i.detectingSelectAll),s&&9<=v&&y(),ke?(yf(n),o=function(){kt(window,"mouseup",o);setTimeout(p,20)},r(window,"mouseup",o)):setTimeout(p,50))};b.prototype.readOnlyChanged=function(n){n||this.reset()};b.prototype.setUneditable=function(){};b.prototype.needsContentAttribute=!1;db=(cs=y).optionHandlers;cs.defineOption=u;cs.Init=rf;u("value","",function(n,t){return n.setValue(t)},!0);u("mode",null,function(n,t){n.doc.modeOption=t;hl(n)},!0);u("indentUnit",2,hl,!0);u("indentWithTabs",!1);u("smartIndent",!0);u("tabSize",4,function(n){se(n);df(n);st(n)},!0);u("lineSeparator",null,function(t,i){var r,f,u;if(t.doc.lineSep=i)for(r=[],f=t.doc.first,t.doc.iter(function(t){for(var u,e=0;;){if(u=t.text.indexOf(i,e),-1==u)break;e=u+i.length;r.push(n(f,u))}f++}),u=r.length-1;0<=u;u--)wu(t.doc,i,r[u],n(r[u].line,r[u].ch+i.length))});u("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(n,t,i){n.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g");i!=rf&&n.refresh()});u("specialCharPlaceholder",hk,function(n){return n.refresh()},!0);u("electricChars",!0);u("inputStyle",of?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");},!0);u("spellcheck",!1,function(n,t){return n.getInputField().spellcheck=t},!0);u("rtlMoveVisually",!uk);u("wholeLineUpdateBefore",!0);u("theme","default",function(n){cb(n);pe(n)},!0);u("keyMap","default",function(n,t,i){var u=ns(t),r=i!=rf&&ns(i);r&&r.detach&&r.detach(n,u);u.attach&&u.attach(n,r||null)});u("extraKeys",null);u("lineWrapping",!1,rd,!0);u("gutters",[],function(n){ol(n.options);pe(n)},!0);u("fixedGutter",!0,function(n,t){n.display.gutters.style.left=t?wc(n.display)+"px":"0";n.refresh()},!0);u("coverGutterNextToScrollbar",!1,function(n){return hu(n)},!0);u("scrollbarStyle","native",function(n){op(n);hu(n);n.display.scrollbars.setScrollTop(n.doc.scrollTop);n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0);u("lineNumbers",!1,function(n){ol(n.options);pe(n)},!0);u("firstLineNumber",1,pe,!0);u("lineNumberFormatter",function(n){return n},pe,!0);u("showCursorWhenSelecting",!1,ne,!0);u("resetSelectionOnContextMenu",!0);u("lineWiseCopyCut",!0);u("readOnly",!1,function(n,t){"nocursor"==t?(te(n),n.display.input.blur(),n.display.disabled=!0):n.display.disabled=!1;n.display.input.readOnlyChanged(t)});u("disableInput",!1,function(n,t){t||n.display.input.reset()},!0);u("dragDrop",!0,id);u("allowDropFileTypes",null);u("cursorBlinkRate",530);u("cursorScrollMargin",0);u("cursorHeight",1,ne,!0);u("singleCursorHeightPerLine",!0,ne,!0);u("workTime",100);u("workDelay",100);u("flattenSpans",!0,se,!0);u("addModeClass",!1,se,!0);u("pollInterval",100);u("undoDepth",200,function(n,t){return n.doc.history.undoDepth=t});u("historyEventDelay",1250);u("viewportMargin",10,function(n){return n.refresh()},!0);u("maxHighlightLength",1e4,se,!0);u("moveInputWithCursor",!0,function(n,t){t||n.display.input.resetPosition()});u("tabindex",null,function(n,t){return n.display.input.getField().tabIndex=t||""});u("autofocus",null);u("direction","ltr",function(n,t){return n.doc.setDirection(t)},!0);dl=(ni=y).optionHandlers;gr=ni.helpers={};ni.prototype={constructor:ni,focus:function(){window.focus();this.display.input.focus()},setOption:function(n,t){var i=this.options,r=i[n];i[n]==t&&"mode"!=n||(i[n]=t,dl.hasOwnProperty(n)&&d(this,dl[n])(this,t,r),p(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,t){this.state.keyMaps[t?"push":"unshift"](ns(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,t=0;t<i.length;++t)if(i[t]==n||i[t].name==n)return i.splice(t,1),!0},addOverlay:ot(function(n,t){var i=n.token?n:ni.getMode(this.options,n);if(i.startState)throw new Error("Overlays may not be stateful.");!function(n,t,i){for(var r=0,u=i(t);r<n.length&&i(n[r])<=u;)r++;n.splice(r,0,t)}(this.state.overlays,{mode:i,modeSpec:n,opaque:t&&t.opaque,priority:t&&t.priority||0},function(n){return n.priority});this.state.modeGen++;st(this)}),removeOverlay:ot(function(n){for(var r,i=this.state.overlays,t=0;t<i.length;++t)if(r=i[t].modeSpec,r==n||"string"==typeof n&&r.name==n)return i.splice(t,1),this.state.modeGen++,void st(this)}),indentLine:ot(function(n,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract");lf(this.doc,n)&&we(this,n,t,i)}),indentSelection:ot(function(n){for(var r,f,t=this,e=this.doc.sel.ranges,u=-1,i=0;i<e.length;i++)if(r=e[i],r.empty())r.head.line>u&&(we(t,r.head.line,n,!0),u=r.head.line,i==t.doc.sel.primIndex&&cu(t));else{for(var o=r.from(),h=r.to(),c=Math.max(u,o.line),u=Math.min(t.lastLine(),h.line-(h.ch?0:1))+1,s=c;s<u;++s)we(t,s,n);f=t.doc.sel.ranges;0==o.ch&&e.length==f.length&&0<f[i].from().ch&&al(t.doc,i,new l(o,f[i].to()),oi)}}),getTokenAt:function(n,t){return yv(this,n,t)},getLineTokens:function(t,i){return yv(this,n(t),i,!0)},getTokenTypeAt:function(n){var t,f;n=e(this.doc,n);var r,u=av(this,i(this.doc,n.line)),s=0,h=(u.length-1)/2,o=n.ch;if(0==o)r=u[2];else for(;;)if(t=s+h>>1,(t?u[2*t-1]:0)>=o)h=t;else{if(!(u[2*t+1]<o)){r=u[2*t+2];break}s=1+t}return f=r?r.indexOf("overlay "):-1,f<0?r:0==f?null:r.slice(0,f-1)},getModeAt:function(n){var t=this.doc.mode;return t.innerMode?ni.innerMode(t,this.getTokenAt(n).state).mode:t},getHelper:function(n,t){return this.getHelpers(n,t)[0]},getHelpers:function(n,t){var u=[],r,i,f,s,e,o;if(!gr.hasOwnProperty(t))return u;if(r=gr[t],i=this.getModeAt(n),"string"==typeof i[t])r[i[t]]&&u.push(r[i[t]]);else if(i[t])for(f=0;f<i[t].length;f++)s=r[i[t][f]],s&&u.push(s);else i.helperType&&r[i.helperType]?u.push(r[i.helperType]):r[i.name]&&u.push(r[i.name]);for(e=0;e<r._global.length;e++)o=r._global[e],o.pred(i,this)&&-1==tt(u,o.val)&&u.push(o.val);return u},getStateAfter:function(n,t){var i=this.doc;return pf(this,(n=aa(i,null==n?i.first+i.size-1:n))+1,t)},cursorCoords:function(n,t){var i=this.doc.sel.primary(),r=null==n?i.head:"object"==typeof n?e(this.doc,n):n?i.from():i.to();return dt(this,r,t||"page")},charCoords:function(n,t){return vc(this,e(this.doc,n),t||"page")},coordsChar:function(n,t){return yc(this,(n=py(this,n,t||"page")).left,n.top)},lineAtHeight:function(n,t){return n=py(this,{top:n,left:0},t||"page").top,or(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,t,r){var u,f=!1,e="number"==typeof n?(u=this.doc.first+this.doc.size-1,n<this.doc.first?n=this.doc.first:u<n&&(n=u,f=!0),i(this.doc,n)):n;return ou(this,e,{top:0,left:0},t||"page",r||f).top+(f?this.doc.height-hi(e):0)},defaultTextHeight:function(){return pr(this.display)},defaultCharWidth:function(){return gf(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,t,i,r,u){var l,a,h,v,c,o=this.display,s=(n=dt(this,e(this.doc,n))).bottom,f=n.left;t.style.position="absolute";t.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(t);o.sizer.appendChild(t);"over"==r?s=n.top:"above"!=r&&"near"!=r||(l=Math.max(o.wrapper.clientHeight,this.doc.height),a=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth),("above"==r||n.bottom+t.offsetHeight>l)&&n.top>t.offsetHeight?s=n.top-t.offsetHeight:n.bottom+t.offsetHeight<=l&&(s=n.bottom),f+t.offsetWidth>a&&(f=a-t.offsetWidth));t.style.top=s+"px";t.style.left=t.style.right="";"right"==u?(f=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==u?f=0:"middle"==u&&(f=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=f+"px");i&&(h=this,v={left:f,top:s,right:f+t.offsetWidth,bottom:s+t.offsetHeight},null!=(c=ao(h,v)).scrollTop&&ie(h,c.scrollTop),null!=c.scrollLeft&&su(h,c.scrollLeft))},triggerOnKeyDown:ot(ub),triggerOnKeyPress:ot(eb),triggerOnKeyUp:fb,execCommand:function(n){if(ye.hasOwnProperty(n))return ye[n].call(null,this)},triggerElectric:ot(function(n){vb(this,n)}),findPosH:function(n,t,i,r){var o=1,u,f;for(t<0&&(o=-1,t=-t),u=e(this.doc,n),f=0;f<t&&!(u=kl(this.doc,u,o,i,r)).hitSide;++f);return u},moveH:ot(function(n,t){var i=this;this.extendSelectionsBy(function(r){return i.display.shift||i.doc.extend||r.empty()?kl(i.doc,r.head,n,t,i.options.rtlMoveVisually):n<0?r.from():r.to()},hf)}),deleteH:ot(function(n,t){var r=this.doc.sel,i=this.doc;r.somethingSelected()?i.replaceSelection("",null,"+delete"):tf(this,function(r){var u=kl(i,r.head,n,t,!1);return n<0?{from:u,to:r.head}:{from:r.head,to:u}})}),findPosV:function(n,t,i,r){var h=1,o=r,u,s,f;for(t<0&&(h=-1,t=-t),u=e(this.doc,n),s=0;s<t;++s)if(f=dt(this,u,"div"),null==o?o=f.left:f.left=o,(u=bb(this,f,h,i)).hitSide)break;return u},moveV:ot(function(n,t){var u=this,i=this.doc,f=[],e=!this.display.shift&&!i.extend&&i.sel.somethingSelected(),r;if(i.extendSelectionsBy(function(r){var o,s;return e?n<0?r.from():r.to():(o=dt(u,r.head,"div"),null!=r.goalColumn&&(o.left=r.goalColumn),f.push(o.left),s=bb(u,o,n,t),"page"==t&&r==i.sel.primary()&&il(u,null,vc(u,s,"div").top-o.top),s)},hf),f.length)for(r=0;r<i.sel.ranges.length;r++)i.sel.ranges[r].goalColumn=f[r]}),findWordAt:function(t){var u=i(this.doc,t.line).text,r=t.ch,f=t.ch,e,o,s;if(u){for(e=this.getHelper(t,"wordChars"),"before"!=t.sticky&&f!=u.length||!r?++f:--r,o=u.charAt(r),s=no(o,e)?function(n){return no(n,e)}:/\s/.test(o)?function(n){return/\s/.test(n)}:function(n){return!/\s/.test(n)&&!no(n)};0<r&&s(u.charAt(r-1));)--r;for(;f<u.length&&s(u.charAt(f));)++f}return new l(n(t.line,r),n(t.line,f))},toggleOverwrite:function(n){null!=n&&n==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?rr:wi)(this.display.cursorDiv,"CodeMirror-overwrite"),p(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ei()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ot(function(n,t){null==n&&null==t||vo(this);null!=n&&(this.curOp.scrollLeft=n);null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-ri(this)-this.display.barHeight,width:n.scrollWidth-ri(this)-this.display.barWidth,clientHeight:cc(this),clientWidth:ar(this)}},scrollIntoView:ot(function(t,i){var r;null==t?(t={from:this.doc.sel.primary().head,to:null},null==i&&(i=this.options.cursorScrollMargin)):"number"==typeof t?t={from:n(t,0),to:null}:null==t.from&&(t={from:t,to:null});t.to||(t.to=t.from);t.margin=i||0;null!=t.from.line?(vo(this),this.curOp.scrollToPos=t):(r=ao(this,{left:Math.min(t.from.left,t.to.left),top:Math.min(t.from.top,t.to.top)-t.margin,right:Math.max(t.from.right,t.to.right),bottom:Math.max(t.from.bottom,t.to.bottom)+t.margin}),this.scrollTo(r.scrollLeft,r.scrollTop))}),setSize:ot(function(n,t){function r(n){return"number"==typeof n||/^\d+$/.test(String(n))?n+"px":n}var u=this,i;null!=n&&(this.display.wrapper.style.width=r(n));null!=t&&(this.display.wrapper.style.height=r(t));this.options.lineWrapping&&ay(this);i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(n){if(n.widgets)for(var t=0;t<n.widgets.length;t++)if(n.widgets[t].noHScroll){gi(u,i,"widget");break}++i});this.curOp.forceUpdate=!0;p(this,"refresh",this)}),operation:function(n){return ct(this,n)},refresh:ot(function(){var n=this.display.cachedTextHeight;st(this);this.curOp.forceUpdate=!0;df(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);fl(this);(null==n||.5<Math.abs(n-pr(this.display)))&&bc(this);p(this,"refresh",this)}),swapDoc:ot(function(n){var t=this.doc;return t.cm=null,pp(this,n),df(this),this.display.input.reset(),this.scrollTo(n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,it(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};uu(ni);ni.registerHelper=function(n,t,i){gr.hasOwnProperty(n)||(gr[n]=ni[n]={_global:[]});gr[n][t]=i};ni.registerGlobalHelper=function(n,t,i,r){ni.registerHelper(n,t,r);gr[n]._global.push({pred:i,val:r})};gb="iter insert remove copy getEditor constructor".split(" ");for(be in et.prototype)et.prototype.hasOwnProperty(be)&&tt(gb,be)<0&&(y.prototype[be]=function(n){return function(){return n.apply(this.doc,arguments)}}(et.prototype[be]));return uu(et),y.inputStyles={textarea:b,contenteditable:a},y.defineMode=function(n){y.defaults.mode||"null"==n||(y.defaults.mode=n),function(n,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2));rc[n]=t}.apply(this,arguments)},y.defineMIME=function(n,t){fu[n]=t},y.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),y.defineMIME("text/plain","null"),y.defineExtension=function(n,t){y.prototype[n]=t},y.defineDocExtension=function(n,t){et.prototype[n]=t},y.fromTextArea=function(n,t){function u(){n.value=s.getValue()}var f,i,e,o,s;if((t=t?fr(t):{}).value=n.value,!t.tabindex&&n.tabIndex&&(t.tabindex=n.tabIndex),!t.placeholder&&n.placeholder&&(t.placeholder=n.placeholder),null==t.autofocus&&(f=ei(),t.autofocus=f==n||null!=n.getAttribute("autofocus")&&f==document.body),n.form&&(r(n.form,"submit",u),!t.leaveSubmitMethodAlone)){i=n.form;e=i.submit;try{o=i.submit=function(){u();i.submit=e;i.submit();i.submit=o}}catch(t){}}return t.finishInit=function(t){t.save=u;t.getTextArea=function(){return n};t.toTextArea=function(){t.toTextArea=isNaN;u();n.parentNode.removeChild(t.getWrapperElement());n.style.display="";n.form&&(kt(n.form,"submit",u),"function"==typeof n.form.submit&&(n.form.submit=e))}},n.style.display="none",s=y(function(t){return n.parentNode.insertBefore(t,n.nextSibling)},t)},(o=y).off=kt,o.on=r,o.wheelEventPixels=vk,o.Doc=et,o.splitLines=tc,o.countColumn=yt,o.findColumn=ws,o.isWordChar=ks,o.Pass=ys,o.signal=p,o.Line=cr,o.changeEnd=ir,o.scrollbarModel=tl,o.Pos=n,o.cmpPos=f,o.modes=rc,o.mimeModes=fu,o.resolveMode=so,o.getMode=uc,o.modeExtensions=hr,o.extendMode=sk,o.copyState=ci,o.startState=cv,o.innerMode=fc,o.commands=ye,o.keyMap=fi,o.keyName=gw,o.isModifierKey=dw,o.lookupKey=nf,o.normalizeKeyMap=nd,o.StringStream=w,o.SharedTextMarker=ku,o.TextMarker=vi,o.LineWidget=ae,o.e_preventDefault=rt,o.e_stopPropagation=ov,o.e_stop=yf,o.addClass=rr,o.contains=de,o.rmClass=wi,o.keyNames=yi,y.version="5.24.3",y};"object"==typeof i&&void 0!==t?t.exports=r():u.CodeMirror=r()},{}],9:[function(n,t,i){var r;r=function(n){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;n.defineMode("gfm",function(i,r){var e=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(n){return{code:n.code,codeBlock:n.codeBlock,ateSpace:n.ateSpace}},token:function(n,i){var f,u;return(i.combineTokens=null,i.codeBlock)?(n.match(/^```+/)?i.codeBlock=!1:n.skipToEnd(),null):(n.sol()&&(i.code=!1),n.sol()&&n.match(/^```+/))?(n.skipToEnd(),i.codeBlock=!0,null):"`"===n.peek()?(n.next(),f=n.pos,n.eatWhile("`"),u=1+n.pos-f,i.code?u===e&&(i.code=!1):(e=u,i.code=!0),null):i.code?(n.next(),null):n.eatSpace()?(i.ateSpace=!0,null):(n.sol()||i.ateSpace)&&(i.ateSpace=!1)!==r.gitHubSpice&&(n.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)||n.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))?(i.combineTokens=!0,"link"):n.match(t)&&"]("!=n.string.slice(n.start-2,n.start)&&(0==n.start||/\W/.test(n.string.charAt(n.start-1)))?(i.combineTokens=!0,"link"):(n.next(),null)},blankLine:function(n){return n.code=!1,null}},u={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0},f;for(f in r)u[f]=r[f];return u.name="markdown",n.overlayMode(n.getMode(i,u),o)},"markdown");n.defineMIME("text/x-gfm","gfm")};"object"==typeof i&&"object"==typeof t?r(n("../../lib/codemirror"),n("../markdown/markdown"),n("../../addon/mode/overlay")):r(CodeMirror)},{"../../addon/mode/overlay":6,"../../lib/codemirror":8,"../markdown/markdown":10}],10:[function(n,t,i){var r;r=function(n){"use strict";n.defineMode("markdown",function(t,i){function h(n,t,i){return(t.f=t.inline=i)(n,t)}function a(n){return!n||!/\S/.test(n.string)}function v(n){return n.linkTitle=!1,n.em=!1,n.strong=!1,n.strikethrough=!1,n.quote=0,n.indentedCode=!1,n.f==c&&(n.f=f,n.block=s),n.trailingSpace=0,n.trailingSpaceNewLine=!1,n.prevLine=n.thisLine,n.thisLine=null}function s(f,e){var y=f.sol(),s=!1!==e.list,c=e.indentedCode,o,v;if(e.indentedCode=!1,s&&(0<=e.indentationDiff?(e.indentationDiff<4&&(e.indentation-=e.indentationDiff),e.list=null):e.list=0<e.indentation?null:!1),o=null,4<=e.indentationDiff)return f.skipToEnd(),c||a(e.prevLine)?(e.indentation-=4,e.indentedCode=!0,u.code):null;if(f.eatSpace())return null;if((o=f.match(nt))&&o[1].length<=6)return e.header=o[1].length,i.highlightFormatting&&(e.formatting="header"),e.f=e.inline,r(e);if(!(a(e.prevLine)||e.quote||s||c)&&(o=f.match(tt)))return e.header="="==o[0].charAt(0)?1:2,i.highlightFormatting&&(e.formatting="header"),e.f=e.inline,r(e);if(f.eat(">"))return e.quote=y?1:e.quote+1,i.highlightFormatting&&(e.formatting="quote"),f.eatSpace(),r(e);if("["===f.peek())return h(f,e,et);if(f.match(d,!0))return e.hr=!0,u.hr;if(o=f.match(g)){for(v=o[1]?"ol":"ul",e.indentation=f.column()+f.current().length,e.list=!0;e.listStack&&f.column()<e.listStack[e.listStack.length-1];)e.listStack.pop();return e.listStack.push(e.indentation),i.taskLists&&f.match(l,!1)&&(e.taskList=!0),e.f=e.inline,i.highlightFormatting&&(e.formatting=["list","list-"+v]),r(e)}return i.fencedCodeBlocks&&(o=f.match(rt,!0))?(e.fencedChars=o[1],e.localMode=function(i){var r,u;return n.findModeByName&&(r=n.findModeByName(i))&&(i=r.mime||r.mimes[0]),u=n.getMode(t,i),"null"==u.name?null:u}(o[2]),e.localMode&&(e.localState=n.startState(e.localMode)),e.f=e.block=ut,i.highlightFormatting&&(e.formatting="code-block"),e.code=-1,r(e)):h(f,e,e.inline)}function c(t,i){var r,u=e.token(t,i.htmlState);return k||("xml"==(r=n.innerMode(e,i.htmlState)).mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||i.md_inside&&-1<t.current().indexOf(">"))&&(i.f=f,i.block=s,i.htmlState=null),u}function ut(n,t){if(t.fencedChars&&n.match(t.fencedChars)){i.highlightFormatting&&(t.formatting="code-block");var e=r(t);return t.localMode=t.localState=null,t.block=s,t.f=f,t.fencedChars=null,t.code=0,e}return t.fencedChars&&n.skipTo(t.fencedChars)?"comment":t.localMode?t.localMode.token(n,t.localState):(n.skipToEnd(),u.code)}function r(n){var f,t=[],r;if(n.formatting)for(t.push(u.formatting),"string"==typeof n.formatting&&(n.formatting=[n.formatting]),r=0;r<n.formatting.length;r++)t.push(u.formatting+"-"+n.formatting[r]),"header"===n.formatting[r]&&t.push(u.formatting+"-"+n.formatting[r]+"-"+n.header),"quote"===n.formatting[r]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=n.quote?t.push(u.formatting+"-"+n.formatting[r]+"-"+n.quote):t.push("error"));return n.taskOpen?t.push("meta"):n.taskClosed?t.push("property"):(n.linkHref?t.push(u.linkHref,"url"):(n.strong&&t.push(u.strong),n.em&&t.push(u.em),n.strikethrough&&t.push(u.strikethrough),n.linkText&&t.push(u.linkText),n.code&&t.push(u.code),n.image&&t.push(u.image),n.imageAltText&&t.push(u.imageAltText,"link"),n.imageMarker&&t.push(u.imageMarker)),n.header&&t.push(u.header,u.header+"-"+n.header),n.quote&&(t.push(u.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=n.quote?t.push(u.quote+"-"+n.quote):t.push(u.quote+"-"+i.maxBlockquoteDepth)),!1!==n.list&&((f=(n.listStack.length-1)%3)?1==f?t.push(u.list2):t.push(u.list3):t.push(u.list1)),n.trailingSpaceNewLine?t.push("trailing-space-new-line"):n.trailingSpace&&t.push("trailing-space-"+(n.trailingSpace%2?"a":"b"))),t.length?t.join(" "):null}function ft(n,t){if(n.match(it,!0))return r(t)}function f(t,f){var rt=f.text(t,f),ut,k,ft,et,o,v,ot,st,d,h,g,s,ht,nt,ct,lt,a,w,tt,b,it;if(void 0!==rt)return rt;if(f.list)return f.list=null,r(f);if(f.taskList)return"x"!==t.match(l,!0)[1]?f.taskOpen=!0:f.taskClosed=!0,i.highlightFormatting&&(f.formatting="task"),f.taskList=!1,r(f);if(f.taskOpen=!1,f.taskClosed=!1,f.header&&t.match(/^#+$/,!0))return i.highlightFormatting&&(f.formatting="header"),r(f);if(et=t.sol(),o=t.next(),f.linkTitle&&(f.linkTitle=!1,v="("===o?")":o,ot="^\\s*(?:[^"+(v=(v+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+v,t.match(new RegExp(ot),!0)))return u.linkHref;if("`"===o)return(st=f.formatting,i.highlightFormatting&&(f.formatting="code"),t.eatWhile("`"),d=t.current().length,0==f.code)?(f.code=d,r(f)):d!=f.code?(f.formatting=st,r(f)):(h=r(f),f.code=0,h);if(f.code)return r(f);if("\\"===o&&(t.next(),i.highlightFormatting))return s=r(f),g=u.formatting+"-escape",s?s+" "+g:g;if("!"===o&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return f.imageMarker=!0,f.image=!0,i.highlightFormatting&&(f.formatting="image"),r(f);if("["===o&&f.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return f.imageMarker=!1,f.imageAltText=!0,i.highlightFormatting&&(f.formatting="image"),r(f);if("]"===o&&f.imageAltText)return i.highlightFormatting&&(f.formatting="image"),s=r(f),f.imageAltText=!1,f.image=!1,f.inline=f.f=p,s;if("["===o&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1)&&!f.image)return f.linkText=!0,i.highlightFormatting&&(f.formatting="link"),r(f);if("]"===o&&f.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1))return i.highlightFormatting&&(f.formatting="link"),s=r(f),f.linkText=!1,f.inline=f.f=p,s;if("<"===o&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return f.f=f.inline=y,i.highlightFormatting&&(f.formatting="link"),(s=r(f))?s+=" ":s="",s+u.linkInline;if("<"===o&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return f.f=f.inline=y,i.highlightFormatting&&(f.formatting="link"),(s=r(f))?s+=" ":s="",s+u.linkEmail;if("<"===o&&t.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1))return nt=t.string.indexOf(">",t.pos),-1!=nt&&(ht=t.string.substring(t.start,nt),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ht)&&(f.md_inside=!0)),t.backUp(1),f.htmlState=n.startState(e),ut=t,ft=c,((k=f).f=k.block=ft)(ut,k);if("<"===o&&t.match(/^\/\w*?>/))return f.md_inside=!1,"tag";if(a=!1,i.underscoresBreakWords||"_"!==o||"_"===t.peek()||!t.match(/(\w)/,!1)||0<=(ct=t.pos-2)&&"_"!==(lt=t.string.charAt(ct))&&lt.match(/(\w)/,!1)&&(a=!0),"*"!==o&&("_"!==o||a)){if(" "===o&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return r(f);t.backUp(1)}}else if(!et||" "!==t.peek()){if(f.strong===o&&t.eat(o))return" "===t.string.substring(t.start-1,t.start)?(f.strong=!1,h=r(f)):(i.highlightFormatting&&(f.formatting="strong"),h=r(f),f.strong=!1),h;if(!f.strong&&t.eat(o))return w=function(n,t){var r,u="",f=0,e=!1,i;do i=n[f],i!==(r=(u+=i).length<n.length?n[f+=1]:null)||"*"!==i&&("_"!==i||t)||(e=!0);while(r&&(!e||" "!==r));return u}(t.string.substring(t.pos),a),tt=w.replace(/[\*|\_]/g,"")[0],!tt||" "===tt||-1!==w.indexOf(" **")||-1!==w.indexOf(" __")&&!a?f.strong=!1:(f.strong=o,i.highlightFormatting&&(f.formatting="strong")),r(f);if(f.em===o)return i.highlightFormatting&&(f.formatting="em"),h=r(f),f.em=!1,h;if(!f.em)return b=function(n,t){var e="",o=0,u=!1,f=!1,r,i;do r=n[o],i=(e+=r).length<n.length?n[o+=1]:null,f&&("*"===i||"_"===i&&!t)?u=!0:"*"!==r&&("_"!==r||t)||("*"===i||"_"===i&&!t?f=!0:u|=!f);while(i&&(!u||" "!==i));return e}(t.string.substring(t.pos),a),it=b.replace(/[\*|\_]/g,"")[0],!it||" "===it||-1!==b.indexOf(" *")||-1!==b.indexOf(" _")&&!a?f.em=!1:(f.em=o,i.highlightFormatting&&(f.formatting="em")),r(f)}if(i.strikethrough)if("~"===o&&t.eatWhile(o)){if(f.strikethrough)return i.highlightFormatting&&(f.formatting="strikethrough"),h=r(f),f.strikethrough=!1,h;if(t.match(/^[^\s]/,!1))return f.strikethrough=!0,i.highlightFormatting&&(f.formatting="strikethrough"),r(f)}else if(" "===o&&t.match(/^~~/,!0)){if(" "===t.peek())return r(f);t.backUp(2)}return" "===o&&(t.match(/ +$/,!1)?f.trailingSpace++:f.trailingSpace&&(f.trailingSpaceNewLine=!0)),r(f)}function y(n,t){if(">"!==n.next())return n.match(/^[^>]+/,!0),u.linkInline;t.f=t.inline=f;i.highlightFormatting&&(t.formatting="link");var e=r(t);return e?e+=" ":e="",e+u.linkInline}function p(n,t){if(n.eatSpace())return null;var u,e=n.next();return"("===e||"["===e?(t.f=t.inline=(u="("===e?")":"]",function(n,t){if(n.next()!==u)return n.match(w[u]),t.linkHref=!0,r(t);t.f=t.inline=f;i.highlightFormatting&&(t.formatting="link-string");var e=r(t);return t.linkHref=!1,e}),i.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,r(t)):"error"}function et(n,t){return n.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=ot,n.next(),i.highlightFormatting&&(t.formatting="link"),t.linkText=!0,r(t)):h(n,t,f)}function ot(n,t){if(n.match(/^\]:/,!0)){t.f=t.inline=st;i.highlightFormatting&&(t.formatting="link");var f=r(t);return t.linkText=!1,f}return n.match(/^([^\]\\]|\\.)+/,!0),u.linkText}function st(n,t){return n.eatSpace()?null:(n.match(/^[^\s]+/,!0),void 0===n.peek()?t.linkTitle=!0:n.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=f,u.linkHref+" url")}var e=n.getMode(t,"text/html"),k="null"==e.name,u,o,w,b;void 0===i.highlightFormatting&&(i.highlightFormatting=!1);void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0);void 0===i.underscoresBreakWords&&(i.underscoresBreakWords=!0);void 0===i.taskLists&&(i.taskLists=!1);void 0===i.strikethrough&&(i.strikethrough=!1);void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});u={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(o in u)u.hasOwnProperty(o)&&i.tokenTypeOverrides[o]&&(u[o]=i.tokenTypeOverrides[o]);var d=/^([*\-_])(?:\s*\1){2,}\s*$/,g=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,l=/^\[(x| )\](?=\s)/,nt=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,tt=/^ *(?:\={1,}|-{1,})\s*$/,it=/^[^#!\[\]*_\\<>` "'(~]+/,rt=new RegExp("^("+(!0===i.fencedCodeBlocks?"~~~+|```+":i.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)");return w={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},b={startState:function(){return{f:s,prevLine:null,thisLine:null,block:s,htmlState:null,indentation:0,inline:f,text:ft,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&n.copyState(e,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?n.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(n,t){var i,r;if(t.formatting=!1,n!=t.thisLine){if(i=t.header||t.hr,t.header=0,t.hr=!1,n.match(/^\s*$/,!0)||i){if(v(t),!i)return null;t.prevLine=null}if(t.prevLine=t.thisLine,t.thisLine=n,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block,r=n.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,t.indentationDiff=Math.min(r-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,0<r)return null}return t.f(n,t)},innerMode:function(n){return n.block==c?{state:n.htmlState,mode:e}:n.localState?{state:n.localState,mode:n.localMode}:{state:n,mode:b}},blankLine:v,getType:r,closeBrackets:"()[]{}''\"\"``",fold:"markdown"}},"xml");n.defineMIME("text/x-markdown","markdown")};"object"==typeof i&&"object"==typeof t?r(n("../../lib/codemirror"),n("../xml/xml"),n("../meta")):r(CodeMirror)},{"../../lib/codemirror":8,"../meta":11,"../xml/xml":12}],11:[function(n,t,i){(function(n){"use strict";var t,i;for(n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}],t=0;t<n.modeInfo.length;t++)i=n.modeInfo[t],i.mimes&&(i.mime=i.mimes[0]);n.findModeByMIME=function(t){var r,i,u;for(t=t.toLowerCase(),r=0;r<n.modeInfo.length;r++){if(i=n.modeInfo[r],i.mime==t)return i;if(i.mimes)for(u=0;u<i.mimes.length;u++)if(i.mimes[u]==t)return i}return/\+xml$/.test(t)?n.findModeByMIME("application/xml"):/\+json$/.test(t)?n.findModeByMIME("application/json"):void 0};n.findModeByExtension=function(t){for(var i,u,r=0;r<n.modeInfo.length;r++)if(i=n.modeInfo[r],i.ext)for(u=0;u<i.ext.length;u++)if(i.ext[u]==t)return i};n.findModeByFileName=function(t){for(var r,u,f,i=0;i<n.modeInfo.length;i++)if(r=n.modeInfo[i],r.file&&r.file.test(t))return r;return u=t.lastIndexOf("."),f=-1<u&&t.substring(u+1,t.length),f?n.findModeByExtension(f):void 0};n.findModeByName=function(t){var r,i,u;for(t=t.toLowerCase(),r=0;r<n.modeInfo.length;r++){if(i=n.modeInfo[r],i.name.toLowerCase()==t)return i;if(i.alias)for(u=0;u<i.alias.length;u++)if(i.alias[u].toLowerCase()==t)return i}}})("object"==typeof i&&"object"==typeof t?n("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":8}],12:[function(n,t,i){(function(n){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};n.defineMode("xml",function(r,u){function o(n,t){function r(i){return(t.tokenize=i)(n,t)}var i=n.next(),u;return"<"==i?n.eat("!")?n.eat("[")?n.match("CDATA[")?r(y("atom","]\]>")):null:n.match("--")?r(y("comment","-->")):n.match("DOCTYPE",!0,!0)?(n.eatWhile(/[\w\._\-]/),r(function i(n){return function(t,r){for(var u;null!=(u=t.next());){if("<"==u)return r.tokenize=i(n+1),r.tokenize(t,r);if(">"==u){if(1!=n)return r.tokenize=i(n-1),r.tokenize(t,r);r.tokenize=o;break}}return"meta"}}(1))):null:n.eat("?")?(n.eatWhile(/[\w\._\-]/),t.tokenize=y("meta","?>"),"meta"):(h=n.eat("/")?"closeTag":"openTag",t.tokenize=v,"tag bracket"):"&"!=i?(n.eatWhile(/[^&<]/),null):(u=n.eat("#")?n.eat("x")?n.eatWhile(/[a-fA-F\d]/)&&n.eat(";"):n.eatWhile(/[\d]/)&&n.eat(";"):n.eatWhile(/[\w\.\-:]/)&&n.eat(";"),u?"atom":"error")}function v(n,t){function f(n,t){for(;!n.eol();)if(n.next()==u){t.tokenize=v;break}return"string"}var i=n.next(),u,r;return">"==i||"/"==i&&n.eat(">")?(t.tokenize=o,h=">"==i?"endTag":"selfcloseTag","tag bracket"):"="==i?(h="equals",null):"<"!=i?/[\'\"]/.test(i)?(t.tokenize=(u=i,f.isInAttribute=!0,f),t.stringStartCol=n.column(),t.tokenize(n,t)):(n.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word"):(t.tokenize=o,t.state=l,t.tagName=t.tagStart=null,r=t.tokenize(n,t),r?r+" tag error":"tag error")}function y(n,t){return function(i,r){for(;!i.eol();){if(i.match(t)){r.tokenize=o;break}i.next()}return n}}function it(n,t,i){this.prev=n.context;this.tagName=t;this.indent=n.indented;this.startOfLine=i;(f.doNotIndent.hasOwnProperty(t)||n.context&&n.context.noIndent)&&(this.noIndent=!0)}function p(n){n.context&&(n.context=n.context.prev)}function k(n,t){for(var i;;){if(!n.context)return;if(i=n.context.tagName,!f.contextGrabbers.hasOwnProperty(i)||!f.contextGrabbers[i].hasOwnProperty(t))return;p(n)}}function l(n,t,i){return"openTag"==n?(i.tagStart=t.column(),d):"closeTag"==n?rt:l}function d(n,t,i){return"word"==n?(i.tagName=t.current(),e="tag",s):(e="error",d)}function rt(n,t,i){if("word"!=n)return e="error",g;var r=t.current();return i.context&&i.context.tagName!=r&&f.implicitlyClosed.hasOwnProperty(i.context.tagName)&&p(i),i.context&&i.context.tagName==r||!1===f.matchClosing?(e="tag",w):(e="tag error",g)}function w(n,t,i){return"endTag"!=n?(e="error",w):(p(i),l)}function g(n,t,i){return e="error",w(n,0,i)}function s(n,t,i){if("word"==n)return e="attribute",ut;if("endTag"!=n&&"selfcloseTag"!=n)return e="error",s;var r=i.tagName,u=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==n||f.autoSelfClosers.hasOwnProperty(r)?k(i,r):(k(i,r),i.context=new it(i,r,u==i.indented)),l}function ut(n,t,i){return"equals"==n?nt:(f.allowMissing||(e="error"),s(n,0,i))}function nt(n,t,i){return"string"==n?tt:"word"==n&&f.allowUnquoted?(e="string",s):(e="error",s(n,0,i))}function tt(n,t,i){return"string"==n?tt:s(n,0,i)}var h,e,a=r.indentUnit,f={},b=u.htmlMode?t:i,c;for(c in b)f[c]=b[c];for(c in u)f[c]=u[c];return o.isInText=!0,{startState:function(n){var t={tokenize:o,state:l,indented:n||0,tagName:null,tagStart:null,context:null};return null!=n&&(t.baseIndent=n),t},token:function(n,t){if(!t.tagName&&n.sol()&&(t.indented=n.indentation()),n.eatSpace())return null;h=null;var i=t.tokenize(n,t);return(i||h)&&"comment"!=i&&(e=null,t.state=t.state(h||i,n,t),e&&(i="error"==e?i+" error":e)),i},indent:function(t,i,r){var u=t.context,e,s;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(u&&u.noIndent)return n.Pass;if(t.tokenize!=v&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==f.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;if(e=i&&/^<(\/)?([\w_:\.-]*)/.exec(i),e&&e[1])for(;u;){if(u.tagName==e[2]){u=u.prev;break}if(!f.implicitlyClosed.hasOwnProperty(u.tagName))break;u=u.prev}else if(e)for(;u;){if(s=f.contextGrabbers[u.tagName],!s||!s.hasOwnProperty(e[2]))break;u=u.prev}for(;u&&u.prev&&!u.startOfLine;)u=u.prev;return u?u.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(n){n.state==nt&&(n.state=s)}}});n.defineMIME("text/xml","xml");n.defineMIME("application/xml","xml");n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})("object"==typeof i&&"object"==typeof t?n("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":8}],13:[function(n,t,i){(function(n){(function(){function l(t){this.tokens=[];this.tokens.links={};this.options=t||f.defaults;this.rules=n.normal;this.options.gfm&&(this.rules=this.options.tables?n.tables:n.gfm)}function h(n,t){if(this.options=t||f.defaults,this.links=n,this.rules=r.normal,this.renderer=this.options.renderer||new u,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?r.breaks:r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function u(n){this.options=n||{}}function s(n){this.tokens=[];this.token=null;this.options=n||f.defaults;this.options.renderer=this.options.renderer||new u;this.renderer=this.options.renderer;this.renderer.options=this.options}function e(n,t){return n.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(n,t){return n=n.source,t=t||"",function i(r,u){return r?(u=(u=u.source||u).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(r,u),i):new RegExp(n,t)}}function a(){}function c(n){for(var i,t,r=1;r<arguments.length;r++)for(t in i=arguments[r])Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t]);return n}function f(n,t,i){if(i||"function"==typeof t){i||(i=t,t=null);var u,o,h=(t=c({},f.defaults,t||{})).highlight,a=0;try{u=l.lex(n,t)}catch(n){return i(n)}o=u.length;function r(n){if(n)return t.highlight=h,i(n);var r;try{r=s.parse(u,t)}catch(r){n=r}return t.highlight=h,n?i(n):i(null,r)}if(!h||h.length<3||(delete t.highlight,!o))return r();for(;a<u.length;a++)!function(n){"code"!==n.type?--o||r():h(n.text,n.lang,function(t,i){return t?r(t):null==i||i===n.text?--o||r():(n.text=i,n.escaped=!0,void(--o||r()))})}(u[a])}else try{return t=t&&c({},f.defaults,t),s.parse(l.lex(n,t),t)}catch(n){if(n.message+="\nPlease report this to https://github.com/chjj/marked.",(t||f.defaults).silent)return"<p>An error occured:<\/p><pre>"+e(n.message+"",!0)+"<\/pre>";throw n;}}var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/},r;n.bullet=/(?:[*+-]|\d+\.)/;n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;n.item=o(n.item,"gm")(/bull/g,n.bullet)();n.list=o(n.list)(/bull/g,n.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+n.def.source+")")();n.blockquote=o(n.blockquote)("def",n.def)();n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";n.html=o(n.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,n._tag)();n.paragraph=o(n.paragraph)("hr",n.hr)("heading",n.heading)("lheading",n.lheading)("blockquote",n.blockquote)("tag","<"+n._tag)("def",n.def)();n.normal=c({},n);n.gfm=c({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});n.gfm.paragraph=o(n.paragraph)("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|")();n.tables=c({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});l.rules=n;l.lex=function(n,t){return new l(t).lex(n)};l.prototype.lex=function(n){return n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(n,!0)};l.prototype.token=function(t,i,r){for(var s,h,u,c,a,e,l,f,o,t=t.replace(/^ +$/gm,"");t;)if((u=this.rules.newline.exec(t))&&(t=t.substring(u[0].length),1<u[0].length&&this.tokens.push({type:"space"})),u=this.rules.code.exec(t))t=t.substring(u[0].length),u=u[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?u:u.replace(/\n+$/,"")});else if(u=this.rules.fences.exec(t))t=t.substring(u[0].length),this.tokens.push({type:"code",lang:u[2],text:u[3]||""});else if(u=this.rules.heading.exec(t))t=t.substring(u[0].length),this.tokens.push({type:"heading",depth:u[1].length,text:u[2]});else if(i&&(u=this.rules.nptable.exec(t))){for(t=t.substring(u[0].length),e={type:"table",header:u[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3].replace(/\n$/,"").split("\n")},f=0;f<e.align.length;f++)e.align[f]=/^ *-+: *$/.test(e.align[f])?"right":/^ *:-+: *$/.test(e.align[f])?"center":/^ *:-+ *$/.test(e.align[f])?"left":null;for(f=0;f<e.cells.length;f++)e.cells[f]=e.cells[f].split(/ *\| */);this.tokens.push(e)}else if(u=this.rules.lheading.exec(t))t=t.substring(u[0].length),this.tokens.push({type:"heading",depth:"="===u[2]?1:2,text:u[1]});else if(u=this.rules.hr.exec(t))t=t.substring(u[0].length),this.tokens.push({type:"hr"});else if(u=this.rules.blockquote.exec(t))t=t.substring(u[0].length),this.tokens.push({type:"blockquote_start"}),u=u[0].replace(/^ *> ?/gm,""),this.token(u,i,!0),this.tokens.push({type:"blockquote_end"});else if(u=this.rules.list.exec(t)){for(t=t.substring(u[0].length),c=u[2],this.tokens.push({type:"list_start",ordered:1<c.length}),s=!1,o=(u=u[0].match(this.rules.item)).length,f=0;f<o;f++)l=(e=u[f]).length,~(e=e.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=e.length,e=this.options.pedantic?e.replace(/^ {1,4}/gm,""):e.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&f!==o-1&&(c===(a=n.bullet.exec(u[f+1])[0])||1<c.length&&1<a.length||(t=u.slice(f+1).join("\n")+t,f=o-1)),h=s||/\n\n(?!\s*$)/.test(e),f!==o-1&&(s="\n"===e.charAt(e.length-1),h=h||s),this.tokens.push({type:h?"loose_item_start":"list_item_start"}),this.token(e,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(u=this.rules.html.exec(t))t=t.substring(u[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===u[1]||"script"===u[1]||"style"===u[1]),text:u[0]});else if(!r&&i&&(u=this.rules.def.exec(t)))t=t.substring(u[0].length),this.tokens.links[u[1].toLowerCase()]={href:u[2],title:u[3]};else if(i&&(u=this.rules.table.exec(t))){for(t=t.substring(u[0].length),e={type:"table",header:u[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3].replace(/(?: *\| *)?\n$/,"").split("\n")},f=0;f<e.align.length;f++)e.align[f]=/^ *-+: *$/.test(e.align[f])?"right":/^ *:-+: *$/.test(e.align[f])?"center":/^ *:-+ *$/.test(e.align[f])?"left":null;for(f=0;f<e.cells.length;f++)e.cells[f]=e.cells[f].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(e)}else if(i&&(u=this.rules.paragraph.exec(t)))t=t.substring(u[0].length),this.tokens.push({type:"paragraph",text:"\n"===u[1].charAt(u[1].length-1)?u[1].slice(0,-1):u[1]});else if(u=this.rules.text.exec(t))t=t.substring(u[0].length),this.tokens.push({type:"text",text:u[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};r._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;r.link=o(r.link)("inside",r._inside)("href",r._href)();r.reflink=o(r.reflink)("inside",r._inside)();r.normal=c({},r);r.pedantic=c({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});r.gfm=c({},r.normal,{escape:o(r.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(r.text)("]|","~]|")("|","|https?://|")()});r.breaks=c({},r.gfm,{br:o(r.br)("{2,}","*")(),text:o(r.gfm.text)("{2,}","*")()});h.rules=r;h.output=function(n,t,i){return new h(t,i).output(n)};h.prototype.output=function(n){for(var u,r,f,t,i="";n;)if(t=this.rules.escape.exec(n))n=n.substring(t[0].length),i+=t[1];else if(t=this.rules.autolink.exec(n))n=n.substring(t[0].length),f="@"===t[2]?(r=":"===t[1].charAt(6)?this.mangle(t[1].substring(7)):this.mangle(t[1]),this.mangle("mailto:")+r):r=e(t[1]),i+=this.renderer.link(f,null,r);else if(!this.inLink&&(t=this.rules.url.exec(n)))n=n.substring(t[0].length),f=r=e(t[1]),i+=this.renderer.link(f,null,r);else if(t=this.rules.tag.exec(n))!this.inLink&&/^<a /i.test(t[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(t[0])&&(this.inLink=!1),n=n.substring(t[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):e(t[0]):t[0];else if(t=this.rules.link.exec(n))n=n.substring(t[0].length),this.inLink=!0,i+=this.outputLink(t,{href:t[2],title:t[3]}),this.inLink=!1;else if((t=this.rules.reflink.exec(n))||(t=this.rules.nolink.exec(n))){if(n=n.substring(t[0].length),u=(t[2]||t[1]).replace(/\s+/g," "),!(u=this.links[u.toLowerCase()])||!u.href){i+=t[0].charAt(0);n=t[0].substring(1)+n;continue}this.inLink=!0;i+=this.outputLink(t,u);this.inLink=!1}else if(t=this.rules.strong.exec(n))n=n.substring(t[0].length),i+=this.renderer.strong(this.output(t[2]||t[1]));else if(t=this.rules.em.exec(n))n=n.substring(t[0].length),i+=this.renderer.em(this.output(t[2]||t[1]));else if(t=this.rules.code.exec(n))n=n.substring(t[0].length),i+=this.renderer.codespan(e(t[2],!0));else if(t=this.rules.br.exec(n))n=n.substring(t[0].length),i+=this.renderer.br();else if(t=this.rules.del.exec(n))n=n.substring(t[0].length),i+=this.renderer.del(this.output(t[1]));else if(t=this.rules.text.exec(n))n=n.substring(t[0].length),i+=this.renderer.text(e(this.smartypants(t[0])));else if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0));return i};h.prototype.outputLink=function(n,t){var i=e(t.href),r=t.title?e(t.title):null;return"!"!==n[0].charAt(0)?this.renderer.link(i,r,this.output(n[1])):this.renderer.image(i,r,e(n[1]))};h.prototype.smartypants=function(n){return this.options.smartypants?n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):n};h.prototype.mangle=function(n){if(!this.options.mangle)return n;for(var t,r="",u=n.length,i=0;i<u;i++)t=n.charCodeAt(i),.5<Math.random()&&(t="x"+t.toString(16)),r+="&#"+t+";";return r};u.prototype.code=function(n,t,i){var r;return!this.options.highlight||null!=(r=this.options.highlight(n,t))&&r!==n&&(i=!0,n=r),t?'<pre><code class="'+this.options.langPrefix+e(t,!0)+'">'+(i?n:e(n,!0))+"\n<\/code><\/pre>\n":"<pre><code>"+(i?n:e(n,!0))+"\n<\/code><\/pre>"};u.prototype.blockquote=function(n){return"<blockquote>\n"+n+"<\/blockquote>\n"};u.prototype.html=function(n){return n};u.prototype.heading=function(n,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"<\/h"+t+">\n"};u.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};u.prototype.list=function(n,t){var i=t?"ol":"ul";return"<"+i+">\n"+n+"<\/"+i+">\n"};u.prototype.listitem=function(n){return"<li>"+n+"<\/li>\n"};u.prototype.paragraph=function(n){return"<p>"+n+"<\/p>\n"};u.prototype.table=function(n,t){return"<table>\n<thead>\n"+n+"<\/thead>\n<tbody>\n"+t+"<\/tbody>\n<\/table>\n"};u.prototype.tablerow=function(n){return"<tr>\n"+n+"<\/tr>\n"};u.prototype.tablecell=function(n,t){var i=t.header?"th":"td";return(t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">")+n+"<\/"+i+">\n"};u.prototype.strong=function(n){return"<strong>"+n+"<\/strong>"};u.prototype.em=function(n){return"<em>"+n+"<\/em>"};u.prototype.codespan=function(n){return"<code>"+n+"<\/code>"};u.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};u.prototype.del=function(n){return"<del>"+n+"<\/del>"};u.prototype.link=function(n,t,i){var r,u;if(this.options.sanitize){try{r=decodeURIComponent(n.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(n,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})).replace(/[^\w:]/g,"").toLowerCase()}catch(n){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}return u='<a href="'+n+'"',t&&(u+=' title="'+t+'"'),u+(">"+i+"<\/a>")};u.prototype.image=function(n,t,i){var r='<img src="'+n+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")};u.prototype.text=function(n){return n};s.parse=function(n,t){return new s(t).parse(n)};s.prototype.parse=function(n){this.inline=new h(n.links,this.options,this.renderer);this.tokens=n.reverse();for(var t="";this.next();)t+=this.tok();return t};s.prototype.next=function(){return this.token=this.tokens.pop()};s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};s.prototype.parseText=function(){for(var n=this.token.text;"text"===this.peek().type;)n+="\n"+this.next().text;return this.inline.output(n)};s.prototype.tok=function(){var n,e,o;switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(var u,i,f="",n="",r="",t=0;t<this.token.header.length;t++)this.token.align[t],r+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(f+=this.renderer.tablerow(r),t=0;t<this.token.cells.length;t++){for(u=this.token.cells[t],r="",i=0;i<u.length;i++)r+=this.renderer.tablecell(this.inline.output(u[i]),{header:!1,align:this.token.align[i]});n+=this.renderer.tablerow(r)}return this.renderer.table(f,n);case"blockquote_start":for(n="";"blockquote_end"!==this.next().type;)n+=this.tok();return this.renderer.blockquote(n);case"list_start":for(n="",e=this.token.ordered;"list_end"!==this.next().type;)n+=this.tok();return this.renderer.list(n,e);case"list_item_start":for(n="";"list_item_end"!==this.next().type;)n+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(n);case"loose_item_start":for(n="";"list_item_end"!==this.next().type;)n+=this.tok();return this.renderer.listitem(n);case"html":return o=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text),this.renderer.html(o);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};a.exec=a;f.options=f.setOptions=function(n){return c(f.defaults,n),f};f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new u,xhtml:!1};f.Parser=s;f.parser=s.parse;f.Renderer=u;f.Lexer=l;f.lexer=l.lex;f.InlineLexer=h;f.inlineLexer=h.output;f.parse=f;void 0!==t&&"object"==typeof i?t.exports=f:this.marked=f}).call(function(){return this||("undefined"!=typeof window?window:n)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(n,t){(function(i){var r;!function(){"use strict";(r=function(n,t,r,u){function l(n,t){var i=f._readFile(n,null,u.asyncLoad);u.asyncLoad?i.then(function(n){t(n)}):t(i)}function v(n){t=n;r&&a()}function y(n){r=n;t&&a()}function a(){var i,s,l,n;for(f.rules=f._parseAFF(t),f.compoundRuleCodes={},e=0,h=f.compoundRules.length;e<h;e++)for(i=f.compoundRules[e],o=0,c=i.length;o<c;o++)f.compoundRuleCodes[i[o]]=[];for(e in"ONLYINCOMPOUND"in f.flags&&(f.compoundRuleCodes[f.flags.ONLYINCOMPOUND]=[]),f.dictionaryTable=f._parseDIC(r),f.compoundRuleCodes)0===f.compoundRuleCodes[e].length&&delete f.compoundRuleCodes[e];for(e=0,h=f.compoundRules.length;e<h;e++){for(s=f.compoundRules[e],l="",o=0,c=s.length;o<c;o++)n=s[o],l+=n in f.compoundRuleCodes?"("+f.compoundRuleCodes[n].join("|")+")":n;f.compoundRules[e]=new RegExp(l,"i")}f.loaded=!0;u.asyncLoad&&u.loadedCallback&&u.loadedCallback(f)}u=u||{};this.dictionary=null;this.rules={};this.dictionaryTable={};this.compoundRules=[];this.compoundRuleCodes={};this.replacementTable=[];this.flags=u.flags||{};this.memoized={};this.loaded=!1;var s,e,o,h,c,f=this;return n&&(f.dictionary=n,t&&r?a():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(s=u.dictionaryPath?u.dictionaryPath:"typo/dictionaries",t||l(chrome.extension.getURL(s+"/"+n+"/"+n+".aff"),v),r||l(chrome.extension.getURL(s+"/"+n+"/"+n+".dic"),y)):(s=u.dictionaryPath?u.dictionaryPath:void 0!==i?i+"/dictionaries":"./dictionaries",t||l(s+"/"+n+"/"+n+".aff",v),r||l(s+"/"+n+"/"+n+".dic",y))),this}).prototype={load:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);return this},_readFile:function(t,i,r){var e,u,f;if(i=i||"utf8","undefined"!=typeof XMLHttpRequest)return u=new XMLHttpRequest,u.open("GET",t,r),r&&(e=new Promise(function(n,t){u.onload=function(){200===u.status?n(u.responseText):t(u.statusText)};u.onerror=function(){t(u.statusText)}})),u.overrideMimeType&&u.overrideMimeType("text/plain; charset="+i),u.send(null),r?e:u.responseText;if(void 0!==n){f=n("fs");try{if(f.existsSync(t))return f.readFileSync(t,i);console.log("Path "+t+" does not exist.")}catch(t){return console.log(t),""}}},_parseAFF:function(n){for(var u,t,h,i,y={},o=(n=this._removeAffixComments(n)).split(/\r?\n/),r=0,k=o.length;r<k;r++)if(u=(h=o[r]).split(/\s+/),t=u[0],"PFX"==t||"SFX"==t){for(var s,d=u[1],g=u[2],p=[],f=r+1,c=r+1+(s=parseInt(u[3],10));f<c;f++){var l=(i=o[f].split(/\s+/))[2],w=i[3].split("/"),a=w[0];"0"===a&&(a="");var b=this.parseRuleCodes(w[1]),v=i[4],e={};e.add=a;0<b.length&&(e.continuationClasses=b);"."!==v&&(e.match="SFX"===t?new RegExp(v+"$"):new RegExp("^"+v));"0"!=l&&(e.remove="SFX"===t?new RegExp(l+"$"):l);p.push(e)}y[d]={type:t,combineable:"Y"==g,entries:p};r+=s}else if("COMPOUNDRULE"===t){for(c=(f=r+1)+(s=parseInt(u[1],10));f<c;f++)i=(h=o[f]).split(/\s+/),this.compoundRules.push(i[1]);r+=s}else"REP"===t?3===(i=h.split(/\s+/)).length&&this.replacementTable.push([i[1],i[2]]):this.flags[t]=u[1];return y},_removeAffixComments:function(n){return(n=(n=(n=n.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(n){function o(n,i){t.hasOwnProperty(n)||(t[n]=null);0<i.length&&(null===t[n]&&(t[n]=[]),t[n].push(i))}for(var b=(n=this._removeDicComments(n)).split(/\r?\n/),t={},a,h,r,i,u,v,c,f,p,l,g,e,s=1,k=b.length;s<k;s++)if(a=b[s],a)if(h=a.split("/",2),r=h[0],1<h.length)for(i=this.parseRuleCodes(h[1]),("NEEDAFFIX"in this.flags)&&-1!=i.indexOf(this.flags.NEEDAFFIX)||o(r,i),u=0,v=i.length;u<v;u++){if(c=i[u],f=this.rules[c],f)for(var d=this._applyRule(r,f),y=0,tt=d.length;y<tt;y++)if(p=d[y],o(p,[]),f.combineable)for(l=u+1;l<v;l++)if(g=i[l],e=this.rules[g],e&&e.combineable&&f.type!=e.type)for(var nt=this._applyRule(p,e),w=0,it=nt.length;w<it;w++)o(nt[w],[]);c in this.compoundRuleCodes&&this.compoundRuleCodes[c].push(r)}else o(r.trim(),[]);return t},_removeDicComments:function(n){return n.replace(/^\t.*$/gm,"")},parseRuleCodes:function(n){if(!n)return[];if(!("FLAG"in this.flags))return n.split("");if("long"!==this.flags.FLAG)return"num"===this.flags.FLAG?n.split(","):void 0;for(var i=[],t=0,r=n.length;t<r;t+=2)i.push(n.substr(t,2));return i},_applyRule:function(n,t){for(var i,r,f,h,o,s=t.entries,u=[],e=0,c=s.length;e<c;e++)if(i=s[e],(!i.match||n.match(i.match))&&(r=n,i.remove&&(r=r.replace(i.remove,"")),"SFX"===t.type?r+=i.add:r=i.add+r,u.push(r),"continuationClasses"in i))for(f=0,h=i.continuationClasses.length;f<h;f++)o=this.rules[i.continuationClasses[f]],o&&(u=u.concat(this._applyRule(r,o)));return u},check:function(n){var t,r,i;if(!this.loaded)throw"Dictionary not loaded.";if(t=n.replace(/^\s\s*/,"").replace(/\s\s*$/,""),this.checkExact(t))return!0;if(t.toUpperCase()===t){if(r=t[0]+t.substring(1).toLowerCase(),this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}if(i=t.toLowerCase(),i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var t,r,i=this.dictionaryTable[n];if(void 0===i){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN)for(t=0,r=this.compoundRules.length;t<r;t++)if(n.match(this.compoundRules[t]))return!0}else{if(null===i)return!0;if("object"==typeof i)for(t=0,r=i.length;t<r;t++)if(!this.hasFlag(n,"ONLYINCOMPOUND",i[t]))return!0}return!1},hasFlag:function(n,t,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(t in this.flags&&(void 0===i&&(i=Array.prototype.concat.apply([],this.dictionaryTable[n])),i&&-1!==i.indexOf(this.flags[t])))},alphabet:"",suggest:function(n,t){function s(n,t){var s,e,c,h,r,f={},o,u;for(o in"string"==typeof n&&(o=n,(n={})[o]=!0),n)for(s=0,c=o.length+1;s<c;s++){if(u=[o.substring(0,s),o.substring(s)],u[1]&&(r=u[0]+u[1].substring(1),t&&!i.check(r)||(r in f?f[r]+=1:f[r]=1)),1<u[1].length&&u[1][1]!==u[1][0]&&(r=u[0]+u[1][1]+u[1][0]+u[1].substring(2),t&&!i.check(r)||(r in f?f[r]+=1:f[r]=1)),u[1])for(e=0,h=i.alphabet.length;e<h;e++)i.alphabet[e]!=u[1].substring(0,1)&&(r=u[0]+i.alphabet[e]+u[1].substring(1),t&&!i.check(r)||(r in f?f[r]+=1:f[r]=1));if(u[1])for(e=0,h=i.alphabet.length;e<h;e++)r=u[0]+i.alphabet[e]+u[1],t&&!i.check(r)||(r in f?f[r]+=1:f[r]=1)}return f}var f,r,o,u,e,i;if(!this.loaded)throw"Dictionary not loaded.";if((t=t||5,this.memoized.hasOwnProperty(n))&&(f=this.memoized[n].limit,t<=f||this.memoized[n].suggestions.length<f))return this.memoized[n].suggestions.slice(0,t);if(this.check(n))return[];for(r=0,o=this.replacementTable.length;r<o;r++)if(u=this.replacementTable[r],-1!==n.indexOf(u[0])&&(e=n.replace(u[0],u[1]),this.check(e)))return[e];return i=this,i.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[n]={suggestions:function(n){var h=s(n),e=s(h,!0),f,u,c,o,l,r;for(f in h)i.check(f)&&(f in e?e[f]+=h[f]:e[f]=h[f]);u=[];for(r in e)e.hasOwnProperty(r)&&u.push([r,e[r]]);for(u.sort(function(n,t){var i=n[1],r=t[1];return i<r?-1:r<i?1:t[0].localeCompare(n[0])}).reverse(),c=[],o="lowercase",n.toUpperCase()===n?o="uppercase":n.substr(0,1).toUpperCase()+n.substr(1).toLowerCase()===n&&(o="capitalized"),l=t,r=0;r<Math.min(l,u.length);r++)"uppercase"===o?u[r][0]=u[r][0].toUpperCase():"capitalized"===o&&(u[r][0]=u[r][0].substr(0,1).toUpperCase()+u[r][0].substr(1)),i.hasFlag(u[r][0],"NOSUGGEST")||-1!=c.indexOf(u[r][0])?l++:c.push(u[r][0]);return c}(n),limit:t},this.memoized[n].suggestions}}}();void 0!==t&&(t.exports=r)}).call(this,"/node_modules/typo-js")},{fs:1}],15:[function(n){var t=n("codemirror");t.commands.tabAndIndentMarkdownList=function(n){var t,i=n.listSelections()[0].head;!1!==n.getStateAfter(i.line).list?n.execCommand("indentMore"):n.options.indentWithTabs?n.execCommand("insertTab"):(t=Array(n.options.tabSize+1).join(" "),n.replaceSelection(t))};t.commands.shiftTabAndUnindentMarkdownList=function(n){var t,i=n.listSelections()[0].head;!1!==n.getStateAfter(i.line).list?n.execCommand("indentLess"):n.options.indentWithTabs?n.execCommand("insertTab"):(t=Array(n.options.tabSize+1).join(" "),n.replaceSelection(t))}},{codemirror:8}],16:[function(n,t){"use strict";function wt(n){return pt?n.replace("Ctrl","Cmd"):n.replace("Cmd","Ctrl")}function ii(n,t,i){n=n||{};var r=document.createElement("a");return t=null==t||t,n.title&&t&&(r.title=function(n,t,i){var r,u=n;return t&&(r=ti(t),i[r]&&(u+=" ("+wt(i[r])+")")),u}(n.title,n.action,i),pt&&(r.title=r.title.replace("Ctrl","⌘"),r.title=r.title.replace("Alt","⌥"))),r.tabIndex=-1,r.className=n.className,r}function r(n,t){var u,i,r,o,e,f;if(t=t||n.getCursor("start"),u=n.getTokenAt(t),i={},!u.type)return u.state&&u.state.overlay&&!0===u.state.overlay.codeBlock&&(i.code=!0),i;for(e=u.type.split(" "),f=0;f<e.length;f++)"strong"===(r=e[f])?i.bold=!0:"variable-2"===r?(o=n.getLine(t.line),/^\s*\d+\.\s/.test(o)?i["ordered-list"]=!0:i["unordered-list"]=!0):"atom"===r?i.quote=!0:"em"===r?i.italic=!0:"quote"===r?i.quote=!0:"strikethrough"===r?i.strikethrough=!0:"comment"===r?i.code=!0:"link"===r?i.link=!0:"tag"===r?i.image=!0:r.match(/^header(\-[1-6])?$/)&&(i[r.replace("header","heading")]=!0);return i}function u(n){var t=n.codemirror,i,r,u;t.setOption("fullScreen",!t.getOption("fullScreen"));t.getOption("fullScreen")?(lt=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=lt;i=t.getWrapperElement();/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen";r=n.toolbarElements.fullscreen;/active/.test(r.className)?r.className=r.className.replace(/\s*active\s*/g,""):r.className+=" active";u=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(u.className)&&f(n)}function l(n){vt(n,"bold",n.options.blockStyles.bold)}function a(n){vt(n,"italic",n.options.blockStyles.italic)}function v(n){vt(n,"strikethrough","~~")}function y(n){function s(n){if("object"!=typeof n)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof n+": "+n;return n.styles&&n.styles[2]&&-1!==n.styles[2].indexOf("formatting-code-block")}function l(n){return n.state.base.base||n.state.base}function a(n,t,i,r,u){i=i||n.getLineHandle(t);r=r||n.getTokenAt({line:t,ch:1});u=u||!!i.text&&n.getTokenAt({line:t,ch:i.text.length-1});var f=r.type?r.type.split(" "):[];return u&&l(u).indentedCode?"indented":!!(r.state.overlay&&r.state.overlay.codeBlock||-1!==f.indexOf("comment"))&&(l(r).fencedChars||l(u).fencedChars||s(i)?"fenced":"single")}var yt=n.options.blockStyles.code,r,u,v,nt,ot,y,p,st,w,tt,ht,it,t=n.codemirror,i=t.getCursor("start"),f=t.getCursor("end"),pt=t.getTokenAt({line:i.line,ch:i.ch||1}),o=t.getLineHandle(i.line),rt=a(t,i.line,o,pt),ct,lt,h,b,c,ut,k,d,ft,et,g,at,vt;if("single"===rt)ct=o.text.slice(0,i.ch).replace("`",""),lt=o.text.slice(i.ch).replace("`",""),t.replaceRange(ct+lt,{line:i.line,ch:0},{line:i.line,ch:99999999999999}),i.ch--,i!==f&&f.ch--,t.setSelection(i,f),t.focus();else if("fenced"===rt)if(i.line!==f.line||i.ch!==f.ch){for(r=i.line;0<=r&&!s(o=t.getLineHandle(r));r--);ut=l(t.getTokenAt({line:r,ch:1})).fencedChars;k=s(t.getLineHandle(i.line))?(h="",i.line):s(t.getLineHandle(i.line-1))?(h="",i.line-1):(h=ut+"\n",i.line);s(t.getLineHandle(f.line))?(b="",c=f.line,0===f.ch&&(c+=1)):c=(b=0!==f.ch&&s(t.getLineHandle(f.line+1))?"":ut+"\n",f.line+1);0===f.ch&&--c;t.operation(function(){t.replaceRange(b,{line:c,ch:0},{line:c+(b?0:1),ch:0});t.replaceRange(h,{line:k,ch:0},{line:k+(h?0:1),ch:0})});t.setSelection({line:k+(h?1:0),ch:0},{line:c+(h?1:-1),ch:0});t.focus()}else{if(d=i.line,s(t.getLineHandle(i.line))&&(d="fenced"===a(t,i.line+1)?(r=i.line,i.line+1):(u=i.line,i.line-1)),void 0===r)for(r=d;0<=r&&!s(o=t.getLineHandle(r));r--);if(void 0===u)for(v=t.lineCount(),u=d;u<v&&!s(o=t.getLineHandle(u));u++);t.operation(function(){t.replaceRange("",{line:r,ch:0},{line:r+1,ch:0});t.replaceRange("",{line:u-1,ch:0},{line:u,ch:0})});t.focus()}else if("indented"===rt){if(i.line!==f.line||i.ch!==f.ch)r=i.line,u=f.line,0===f.ch&&u--;else{for(r=i.line;0<=r;r--)if(!(o=t.getLineHandle(r)).text.match(/^\s*$/)&&"indented"!==a(t,r,o)){r+=1;break}for(v=t.lineCount(),u=i.line;u<v;u++)if(!(o=t.getLineHandle(u)).text.match(/^\s*$/)&&"indented"!==a(t,u,o)){--u;break}}for(ft=t.getLineHandle(u+1),et=ft&&t.getTokenAt({line:u+1,ch:ft.text.length-1}),et&&l(et).indentedCode&&t.replaceRange("\n",{line:u+1,ch:0}),g=r;g<=u;g++)t.indentLine(g,"subtract");t.focus()}else at=i.line===f.line&&i.ch===f.ch&&0===i.ch,vt=i.line!==f.line,at||vt?(nt=t,y=f,p=yt,st=(ot=i).line+1,w=y.line+1,tt=ot.line!==y.line,ht=p+"\n",it="\n"+p,tt&&w++,tt&&0===y.ch&&(it=p+"\n",w--),e(nt,!1,[ht,it]),nt.setSelection({line:st,ch:0},{line:w,ch:0})):e(t,!1,["`","`"])}function p(n){at(n.codemirror,"quote")}function o(n){s(n.codemirror,"smaller")}function w(n){s(n.codemirror,"bigger")}function b(n){s(n.codemirror,void 0,1)}function k(n){s(n.codemirror,void 0,2)}function d(n){s(n.codemirror,void 0,3)}function g(n){at(n.codemirror,"unordered-list")}function nt(n){at(n.codemirror,"ordered-list")}function tt(n){!function(n){if(!/editor-preview-active/.test(n.getWrapperElement().lastChild.className))for(var i,r=n.getCursor("start"),u=n.getCursor("end"),t=r.line;t<=u.line;t++)i=(i=n.getLine(t)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),n.replaceRange(i,{line:t,ch:0},{line:t,ch:99999999999999})}(n.codemirror)}function it(n){var i=n.codemirror,f=r(i),t=n.options,u="http://";if(t.promptURLs&&!(u=prompt(t.promptTexts.link)))return!1;e(i,f.link,t.insertTexts.link,u)}function rt(n){var i=n.codemirror,f=r(i),t=n.options,u="http://";if(t.promptURLs&&!(u=prompt(t.promptTexts.image)))return!1;e(i,f.image,t.insertTexts.image,u)}function ut(n){var t=n.codemirror,i=r(t),u=n.options;e(t,i.table,u.insertTexts.table)}function ft(n){var t=n.codemirror,i=r(t),u=n.options;e(t,i.image,u.insertTexts.horizontalRule)}function et(n){var t=n.codemirror;t.undo();t.focus()}function ot(n){var t=n.codemirror;t.redo();t.focus()}function f(n){var t=n.codemirror,r=t.getWrapperElement(),i=r.nextSibling,e=n.toolbarElements["side-by-side"],h=!1,o,s,f;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),e.className=e.className.replace(/\s*active\s*/g,""),r.className=r.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||u(n);i.className+=" editor-preview-active-side"},1),e.className+=" active",r.className+=" CodeMirror-sided",h=!0);f=r.lastChild;/editor-preview-active/.test(f.className)&&(f.className=f.className.replace(/\s*editor-preview-active\s*/g,""),o=n.toolbarElements.preview,s=r.previousSibling,o.className=o.className.replace(/\s*active\s*/g,""),s.className=s.className.replace(/\s*disabled-for-preview*/g,""));t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){i.innerHTML=n.options.previewRender(n.value(),i)});h?(i.innerHTML=n.options.previewRender(n.value(),i),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction);t.refresh()}function st(n){var e=n.codemirror,r=e.getWrapperElement(),u=r.previousSibling,i=!!n.options.toolbar&&n.toolbarElements.preview,t=r.lastChild,o;t&&/editor-preview/.test(t.className)||((t=document.createElement("div")).className="editor-preview",r.appendChild(t));/editor-preview-active/.test(t.className)?(t.className=t.className.replace(/\s*editor-preview-active\s*/g,""),i&&(i.className=i.className.replace(/\s*active\s*/g,""),u.className=u.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){t.className+=" editor-preview-active"},1),i&&(i.className+=" active",u.className+=" disabled-for-preview"));t.innerHTML=n.options.previewRender(n.value(),t);o=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&f(n)}function e(n,t,i,r){var o,f,e,u,s;/editor-preview-active/.test(n.getWrapperElement().lastChild.className)||(f=i[0],e=i[1],u=n.getCursor("start"),s=n.getCursor("end"),r&&(e=e.replace("#url#",r)),t?(f=(o=n.getLine(u.line)).slice(0,u.ch),e=o.slice(u.ch),n.replaceRange(f+e,{line:u.line,ch:0})):(o=n.getSelection(),n.replaceSelection(f+o+e),u.ch+=f.length,u!==s&&(s.ch+=f.length)),n.setSelection(u,s),n.focus())}function s(n,t,i){if(!/editor-preview-active/.test(n.getWrapperElement().lastChild.className)){for(var f,u,r,o=n.getCursor("start"),s=n.getCursor("end"),e=o.line;e<=s.line;e++)f=e,r=u=void 0,u=(r=n.getLine(f)).search(/[^#]/),r=void 0!==t?u<=0?"bigger"==t?"###### "+r:"# "+r:6==u&&"smaller"==t?r.substr(7):1==u&&"bigger"==t?r.substr(2):"bigger"==t?r.substr(1):"#"+r:1==i?u<=0?"# "+r:u==i?r.substr(u+1):"# "+r.substr(u+1):2==i?u<=0?"## "+r:u==i?r.substr(u+1):"## "+r.substr(u+1):u<=0?"### "+r:u==i?r.substr(u+1):"### "+r.substr(u+1),n.replaceRange(r,{line:f,ch:0},{line:f,ch:99999999999999});n.focus()}}function at(n,t){if(!/editor-preview-active/.test(n.getWrapperElement().lastChild.className)){for(var u,i,e=r(n),o=n.getCursor("start"),s=n.getCursor("end"),h={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},c={quote:"> ","unordered-list":"* ","ordered-list":"1. "},f=o.line;f<=s.line;f++)u=f,i=i=void 0,i=n.getLine(u),i=e[t]?i.replace(h[t],"$1"):c[t]+i,n.replaceRange(i,{line:u,ch:0},{line:u,ch:99999999999999});n.focus()}}function bt(n,t,i,r){var u=i.slice(0,r.ch),f=i.slice(r.ch);"bold"==t?(u=u.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),f=f.replace(/(\*\*|__)/,"")):"italic"==t&&(u=u.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),f=f.replace(/(\*|_)/,""));n.replaceRange(u+f,{line:r.line,ch:0},{line:r.line,ch:99999999999999})}function vt(n,t,i,u){var a;if(!/editor-preview-active/.test(n.codemirror.getWrapperElement().lastChild.className)){u=void 0===u?i:u;var h,v,y,f=n.codemirror,b=r(f),p=i,w=u,e=f.getCursor("start"),s=f.getCursor("end"),o=f.getSelection();if(o&&("bold"===t||"italic"===t)){var c=/^(\*{2}|_{2})(.|\s)*\1$/.test(o),k=/^(\*|_)(.|\s)*\1$/.test(o),l=/^(\*{3}|_{3})(.|\s)*\1$/.test(o);if(c||k||l)return a=!1,"bold"===t?o=c||l?(a=!0,o.substr(2,o.length-4)):p+o+w:"italic"===t&&(l||k&&!c?(a=!0,o=o.substr(1,o.length-2)):c&&!l&&(o=p+o+w)),f.replaceSelection(o),f.setSelection({line:e.line,ch:e.ch},{line:s.line,ch:s.ch+u.length*(a?-1:1)*(e.line===s.line?2:1)}),void f.focus()}b[t]?(v=f.getLine(e.line),bt(f,t,v,e),y=f.getLine(s.line),f.getSelection()&&v!=y?(bt(f,t,y,s),e.ch-=i.length):"bold"==t?(e.ch-=2,e!==s&&(s.ch-=2)):"italic"==t&&(--e.ch,e!==s&&--s.ch)):(h=f.getSelection(),"bold"==t?h=(h=h.split("**").join("")).split("__").join(""):"italic"==t&&(h=(h=h.split("*").join("")).split("_").join("")),f.replaceSelection(p+h+w),e.line===s.line&&(s.ch=e.ch+h.length+u.length));f.setSelection({line:e.line,ch:e.ch},{line:s.line,ch:s.ch+(b[t]?0:u.length)});f.focus()}}function ht(n){for(var t=1;t<arguments.length;t++)n=function n(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]instanceof Array?i[r].concat(t[r]instanceof Array?t[r]:[]):null!==i[r]&&"object"==typeof i[r]&&i[r].constructor===Object?n(t[r]||{},i[r]):i[r]);return t}(n,arguments[t]);return n}function kt(n){var i=n.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),r=0,t;if(null===i)return r;for(t=0;t<i.length;t++)r+=19968<=i[t].charCodeAt(0)?i[t].length:1;return r}function i(n){var f,r,u,i,t;if((n=n||{}).parent=this,r=!0,!1===n.autoDownloadFontAwesome&&(r=!1),!0!==n.autoDownloadFontAwesome)for(u=document.styleSheets,i=0;i<u.length;i++)u[i].href&&-1<u[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")&&(r=!1);if(r&&((f=document.createElement("link")).rel="stylesheet",f.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(f)),n.element)this.element=n.element;else if(null===n.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===n.toolbar)for(t in n.toolbar=[],h)h.hasOwnProperty(t)&&(-1!=t.indexOf("separator-")&&n.toolbar.push("|"),(!0===h[t].default||n.showIcons&&n.showIcons.constructor===Array&&-1!=n.showIcons.indexOf(t))&&n.toolbar.push(t));n.hasOwnProperty("status")||(n.status=["autosave","lines","words","cursor"]);n.previewRender||(n.previewRender=function(n){return this.parent.markdown(n)});n.parsingConfig=ht({highlightFormatting:!0},n.parsingConfig||{});n.insertTexts=ht({},ri,n.insertTexts||{});n.promptTexts=ui;n.blockStyles=ht({},fi,n.blockStyles||{});n.shortcuts=ht({},ni,n.shortcuts||{});null!=n.autosave&&null!=n.autosave.unique_id&&""!=n.autosave.unique_id&&(n.autosave.uniqueId=n.autosave.unique_id);this.options=n;this.render();!n.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(n.initialValue)}function dt(){if("object"==typeof localStorage){try{localStorage.setItem("smde_localStorage",1);localStorage.removeItem("smde_localStorage")}catch(n){return}return 1}}var yt=n("codemirror"),lt;n("codemirror/addon/edit/continuelist.js");n("./codemirror/tablist");n("codemirror/addon/display/fullscreen.js");n("codemirror/mode/markdown/markdown.js");n("codemirror/addon/mode/overlay.js");n("codemirror/addon/display/placeholder.js");n("codemirror/addon/selection/mark-selection.js");n("codemirror/mode/gfm/gfm.js");n("codemirror/mode/xml/xml.js");var gt=n("codemirror-spell-checker"),ct=n("marked"),pt=/Mac/.test(navigator.platform),c={toggleBold:l,toggleItalic:a,drawLink:it,toggleHeadingSmaller:o,toggleHeadingBigger:w,drawImage:rt,toggleBlockquote:p,toggleOrderedList:nt,toggleUnorderedList:g,toggleCodeBlock:y,togglePreview:st,toggleStrikethrough:v,toggleHeading1:b,toggleHeading2:k,toggleHeading3:d,cleanBlock:tt,drawTable:ut,drawHorizontalRule:ft,undo:et,redo:ot,toggleSideBySide:f,toggleFullScreen:u},ni={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},ti=function(n){for(var t in c)if(c[t]===n)return t;return null};lt="";var h={bold:{name:"bold",action:l,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:a,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:v,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:o,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:o,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:w,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:b,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:k,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:d,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:y,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:p,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:g,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:nt,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:tt,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:it,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:rt,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:ut,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:ft,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:st,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:f,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:u,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:et,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:ot,className:"fa fa-repeat no-disable",title:"Redo"}},ri={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},ui={link:"URL for the link:",image:"URL of the image:"},fi={bold:"**",code:"```",italic:"*"};i.prototype.markdown=function(n){if(ct){var t={};return t.breaks=this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?!1:!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(t.highlight=function(n){return window.hljs.highlightAuto(n).value}),ct.setOptions(t),ct(n)}};i.prototype.render=function(n){var e,s;if(n=n||this.element||document.getElementsByTagName("textarea")[0],!this._rendered||this._rendered!==n){this.element=n;var r,o,h,t=this.options,f=this,i={};for(e in t.shortcuts)null!==t.shortcuts[e]&&null!==c[e]&&function(n){i[wt(t.shortcuts[n])]=function(){c[n](f)}}(e);i.Enter="newlineAndIndentContinueMarkdownList";i.Tab="tabAndIndentMarkdownList";i["Shift-Tab"]="shiftTabAndUnindentMarkdownList";i.Esc=function(n){n.getOption("fullScreen")&&u(f)};document.addEventListener("keydown",function(n){27==(n=n||window.event).keyCode&&f.codemirror.getOption("fullScreen")&&u(f)},!1);!1!==t.spellChecker?(r="spell-checker",(o=t.parsingConfig).name="gfm",o.gitHubSpice=!1,gt({codeMirrorInstance:yt})):((r=t.parsingConfig).name="gfm",r.gitHubSpice=!1);this.codemirror=yt.fromTextArea(n,{mode:r,backdrop:o,theme:"paper",tabSize:null!=t.tabSize?t.tabSize:2,indentUnit:null!=t.tabSize?t.tabSize:2,indentWithTabs:!1!==t.indentWithTabs,lineNumbers:!1,autofocus:!0===t.autofocus,extraKeys:i,lineWrapping:!1!==t.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:t.placeholder||n.getAttribute("placeholder")||"",styleSelectedText:null==t.styleSelectedText||t.styleSelectedText});!0===t.forceSync&&(h=this.codemirror).on("change",function(){h.save()});!(this.gui={})!==t.toolbar&&(this.gui.toolbar=this.createToolbar());!1!==t.status&&(this.gui.statusbar=this.createStatusbar());null!=t.autosave&&!0===t.autosave.enabled&&this.autosave();this.gui.sideBySide=this.createSideBySide();this._rendered=this.element;s=this.codemirror;setTimeout(function(){s.refresh()}.bind(s),0)}};i.prototype.autosave=function(){var n,f,e,t,u,i,r;if(dt()){if(n=this,null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=n.element.form&&null!=n.element.form&&n.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+n.options.autosave.uniqueId)});!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);localStorage.setItem("smde_"+this.options.autosave.uniqueId,n.value());r=document.getElementById("autosaved");null!=r&&null!=r&&""!=r&&(u="am",12<=(i=e=(f=new Date).getHours())&&(i=e-12,u="pm"),0==i&&(i=12),t=(t=f.getMinutes())<10?"0"+t:t,r.innerHTML="Autosaved: "+i+":"+t+" "+u);this.autosaveTimeoutId=setTimeout(function(){n.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")};i.prototype.clearAutosavedValue=function(){if(dt()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")};i.prototype.createSideBySide=function(){var t=this.codemirror,u=t.getWrapperElement(),n=u.nextSibling,i,r;return n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",u.parentNode.insertBefore(n,u.nextSibling)),i=!1,r=!1,t.on("scroll",function(t){var u,f,e;i?i=!1:(r=!0,u=t.getScrollInfo().height-t.getScrollInfo().clientHeight,f=parseFloat(t.getScrollInfo().top)/u,e=(n.scrollHeight-n.clientHeight)*f,n.scrollTop=e)}),n.onscroll=function(){var u,f,e;r?r=!1:(i=!0,u=n.scrollHeight-n.clientHeight,f=parseFloat(n.scrollTop)/u,e=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*f,t.scrollTo(0,e))},n};i.prototype.createToolbar=function(n){var t,u,o,s,i,f,l,e,c,a;if((n=n||this.options.toolbar)&&0!==n.length){for(t=0;t<n.length;t++)null!=h[n[t]]&&(n[t]=h[n[t]]);for(u=document.createElement("div"),u.className="editor-toolbar",i=this,f={},i.toolbar=n,t=0;t<n.length;t++)if(("guide"!=n[t].name||!1!==i.options.toolbarGuideIcon)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(n[t].name)||("fullscreen"==n[t].name||"side-by-side"==n[t].name)&&(s=o=void 0,s=!1,o=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(s=!0),s))){if("|"===n[t]){for(l=!1,e=t+1;e<n.length;e++)"|"===n[e]||i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(n[e].name)||(l=!0);if(!l)continue}!function(n){var r,t="|"===n?((r=document.createElement("i")).className="separator",r.innerHTML="|",r):ii(n,i.options.toolbarTips,i.options.shortcuts);n.action&&("function"==typeof n.action?t.onclick=function(t){t.preventDefault();n.action(i)}:"string"==typeof n.action&&(t.href=n.action,t.target="_blank"));f[n.name||n]=t;u.appendChild(t)}(n[t])}i.toolbarElements=f;c=this.codemirror;c.on("cursorActivity",function(){var t,n,u=r(c),i;for(i in f)n=void 0,n=f[t=i],u[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))});return a=c.getWrapperElement(),a.parentNode.insertBefore(u,a),u}};i.prototype.createStatusbar=function(n){var c,i,f,t,e,o,r,s,u,h,l;if(n=n||this.options.status,c=this.options,i=this.codemirror,n&&0!==n.length){for(f=[],t=0;t<n.length;t++)o=void 0,r=void 0,"object"==typeof n[t]?f.push({className:n[t].className,defaultValue:n[t].defaultValue,onUpdate:n[t].onUpdate}):("words"===(e=n[t])?(r=function(n){n.innerHTML=kt(i.getValue())},o=function(n){n.innerHTML=kt(i.getValue())}):"lines"===e?(r=function(n){n.innerHTML=i.lineCount()},o=function(n){n.innerHTML=i.lineCount()}):"cursor"===e?(r=function(n){n.innerHTML="0:0"},o=function(n){var t=i.getCursor();n.innerHTML=t.line+":"+t.ch}):"autosave"===e&&(r=function(n){null!=c.autosave&&!0===c.autosave.enabled&&n.setAttribute("id","autosaved")}),f.push({className:e,defaultValue:r,onUpdate:o}));for(s=document.createElement("div"),s.className="editor-statusbar",t=0;t<f.length;t++)u=f[t],h=document.createElement("span"),h.className=u.className,"function"==typeof u.defaultValue&&u.defaultValue(h),"function"==typeof u.onUpdate&&this.codemirror.on("update",function(n,t){return function(){t.onUpdate(n)}}(h,u)),s.appendChild(h);return l=this.codemirror.getWrapperElement(),l.parentNode.insertBefore(s,l.nextSibling),s}};i.prototype.value=function(n){return void 0===n?this.codemirror.getValue():(this.codemirror.getDoc().setValue(n),this)};i.toggleBold=l;i.toggleItalic=a;i.toggleStrikethrough=v;i.toggleBlockquote=p;i.toggleHeadingSmaller=o;i.toggleHeadingBigger=w;i.toggleHeading1=b;i.toggleHeading2=k;i.toggleHeading3=d;i.toggleCodeBlock=y;i.toggleUnorderedList=g;i.toggleOrderedList=nt;i.cleanBlock=tt;i.drawLink=it;i.drawImage=rt;i.drawTable=ut;i.drawHorizontalRule=ft;i.undo=et;i.redo=ot;i.togglePreview=st;i.toggleSideBySide=f;i.toggleFullScreen=u;i.prototype.toggleBold=function(){l(this)};i.prototype.toggleItalic=function(){a(this)};i.prototype.toggleStrikethrough=function(){v(this)};i.prototype.toggleBlockquote=function(){p(this)};i.prototype.toggleHeadingSmaller=function(){o(this)};i.prototype.toggleHeadingBigger=function(){w(this)};i.prototype.toggleHeading1=function(){b(this)};i.prototype.toggleHeading2=function(){k(this)};i.prototype.toggleHeading3=function(){d(this)};i.prototype.toggleCodeBlock=function(){y(this)};i.prototype.toggleUnorderedList=function(){g(this)};i.prototype.toggleOrderedList=function(){nt(this)};i.prototype.cleanBlock=function(){tt(this)};i.prototype.drawLink=function(){it(this)};i.prototype.drawImage=function(){rt(this)};i.prototype.drawTable=function(){ut(this)};i.prototype.drawHorizontalRule=function(){ft(this)};i.prototype.undo=function(){et(this)};i.prototype.redo=function(){ot(this)};i.prototype.togglePreview=function(){st(this)};i.prototype.toggleSideBySide=function(){f(this)};i.prototype.toggleFullScreen=function(){u(this)};i.prototype.isPreviewActive=function(){var n=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(n.className)};i.prototype.isSideBySideActive=function(){var n=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(n.className)};i.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")};i.prototype.getState=function(){return r(this.codemirror)};i.prototype.toTextArea=function(){var t=this.codemirror,n=t.getWrapperElement();n.parentNode&&(this.gui.toolbar&&n.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&n.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&n.parentNode.removeChild(this.gui.sideBySide));t.toTextArea();this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};t.exports=i},{"./codemirror/tablist":15,codemirror:8,"codemirror-spell-checker":2,"codemirror/addon/display/fullscreen.js":3,"codemirror/addon/display/placeholder.js":4,"codemirror/addon/edit/continuelist.js":5,"codemirror/addon/mode/overlay.js":6,"codemirror/addon/selection/mark-selection.js":7,"codemirror/mode/gfm/gfm.js":9,"codemirror/mode/markdown/markdown.js":10,"codemirror/mode/xml/xml.js":12,marked:13}]},{},[16])(16)});!function(n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownit=n()}(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){"use strict";t.exports=n("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(n,t){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(n,t){"use strict";var i="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",u=new RegExp("^(?:"+i+"|"+r+"|<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),f=new RegExp("^(?:"+i+"|"+r+")");t.exports.HTML_TAG_RE=u;t.exports.HTML_OPEN_CLOSE_TAG_RE=f},{}],4:[function(n,t,i){"use strict";function s(n){return Object.prototype.toString.call(n)}function r(n,t){return l.call(n,t)}function u(n){return!(n>=55296&&n<=57343)&&!(n>=64976&&n<=65007)&&65535!=(65535&n)&&65534!=(65535&n)&&!(n>=0&&n<=8)&&11!==n&&!(n>=14&&n<=31)&&!(n>=127&&n<=159)&&!(n>1114111)}function f(n){if(n>65535){var t=55296+((n-=65536)>>10),i=56320+(1023&n);return String.fromCharCode(t,i)}return String.fromCharCode(n)}function h(n,t){var i=0;return r(o,t)?o[t]:35===t.charCodeAt(0)&&v.test(t)&&(i="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),u(i))?f(i):n}function c(n){return w[n]}var l=Object.prototype.hasOwnProperty,e=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,a=new RegExp(e.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),v=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,o=n("./entities"),y=/[&<>"]/,p=/[&<>"]/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},b=/[.?*+^$[\]\\(){}|-]/g,k=n("uc.micro/categories/P/regex");i.lib={};i.lib.mdurl=n("mdurl");i.lib.ucmicro=n("uc.micro");i.assign=function(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(i){n[i]=t[i]})}}),n};i.isString=function(n){return"[object String]"===s(n)};i.has=r;i.unescapeMd=function(n){return n.indexOf("\\")<0?n:n.replace(e,"$1")};i.unescapeAll=function(n){return n.indexOf("\\")<0&&n.indexOf("&")<0?n:n.replace(a,function(n,t,i){return t||h(n,i)})};i.isValidEntityCode=u;i.fromCodePoint=f;i.escapeHtml=function(n){return y.test(n)?n.replace(p,c):n};i.arrayReplaceAt=function(n,t,i){return[].concat(n.slice(0,t),i,n.slice(t+1))};i.isSpace=function(n){switch(n){case 9:case 32:return!0}return!1};i.isWhiteSpace=function(n){if(n>=8192&&n<=8202)return!0;switch(n){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1};i.isMdAsciiPunct=function(n){switch(n){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}};i.isPunctChar=function(n){return k.test(n)};i.escapeRE=function(n){return n.replace(b,"\\$&")};i.normalizeReference=function(n){return n.trim().replace(/\s+/g," ").toUpperCase()}},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(n,t,i){"use strict";i.parseLinkLabel=n("./parse_link_label");i.parseLinkDestination=n("./parse_link_destination");i.parseLinkTitle=n("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(n,t){"use strict";var r=n("../common/utils").isSpace,i=n("../common/utils").unescapeAll;t.exports=function(n,t,u){var e,o,s=t,f={ok:!1,pos:0,lines:0,str:""};if(60===n.charCodeAt(t)){for(t++;t<u;){if(10===(e=n.charCodeAt(t))||r(e))return f;if(62===e)return f.pos=t+1,f.str=i(n.slice(s+1,t)),f.ok=!0,f;92===e&&t+1<u?t+=2:t++}return f}for(o=0;t<u&&32!==(e=n.charCodeAt(t))&&!(e<32||127===e);)if(92===e&&t+1<u)t+=2;else{if(40===e&&o++,41===e){if(0===o)break;o--}t++}return s===t?f:0!==o?f:(f.str=i(n.slice(s,t)),f.lines=0,f.pos=t,f.ok=!0,f)}},{"../common/utils":4}],7:[function(n,t){"use strict";t.exports=function(n,t,i){var r,u,f,e,o=-1,h=n.posMax,s=n.pos;for(n.pos=t+1,r=1;n.pos<h;){if(93===(f=n.src.charCodeAt(n.pos))&&0==--r){u=!0;break}if(e=n.pos,n.md.inline.skipToken(n),91===f)if(e===n.pos-1)r++;else if(i)return n.pos=s,-1}return u&&(o=n.pos),n.pos=s,o}},{}],8:[function(n,t){"use strict";var i=n("../common/utils").unescapeAll;t.exports=function(n,t,r){var e,f,o=0,s=t,u={ok:!1,pos:0,lines:0,str:""};if(t>=r||34!==(f=n.charCodeAt(t))&&39!==f&&40!==f)return u;for(t++,40===f&&(f=41);t<r;){if((e=n.charCodeAt(t))===f)return u.pos=t+1,u.lines=o,u.str=i(n.slice(s+1,t)),u.ok=!0,u;10===e?o++:92===e&&t+1<r&&(t++,10===n.charCodeAt(t)&&o++);t++}return u}},{"../common/utils":4}],9:[function(n,t){"use strict";function o(n){var t=n.trim().toLowerCase();return!b.test(t)||!!k.test(t)}function s(n){var t=r.parse(n,!0);if(t.hostname&&(!t.protocol||e.indexOf(t.protocol)>=0))try{t.hostname=f.toASCII(t.hostname)}catch(n){}return r.encode(r.format(t))}function h(n){var t=r.parse(n,!0);if(t.hostname&&(!t.protocol||e.indexOf(t.protocol)>=0))try{t.hostname=f.toUnicode(t.hostname)}catch(n){}return r.decode(r.format(t))}function i(n,t){if(!(this instanceof i))return new i(n,t);t||u.isString(n)||(t=n||{},n="default");this.inline=new y;this.block=new v;this.core=new a;this.renderer=new l;this.linkify=new p;this.validateLink=o;this.normalizeLink=s;this.normalizeLinkText=h;this.utils=u;this.helpers=u.assign({},c);this.options={};this.configure(n);t&&this.set(t)}var u=n("./common/utils"),c=n("./helpers"),l=n("./renderer"),a=n("./parser_core"),v=n("./parser_block"),y=n("./parser_inline"),p=n("linkify-it"),r=n("mdurl"),f=n("punycode"),w={"default":n("./presets/default"),zero:n("./presets/zero"),commonmark:n("./presets/commonmark")},b=/^(vbscript|javascript|file|data):/,k=/^data:image\/(gif|png|jpeg|webp);/,e=["http:","https:","mailto:"];i.prototype.set=function(n){return u.assign(this.options,n),this};i.prototype.configure=function(n){var t,i=this;if(u.isString(n)&&(t=n,!(n=w[t])))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&i.set(n.options),n.components&&Object.keys(n.components).forEach(function(t){n.components[t].rules&&i[t].ruler.enableOnly(n.components[t].rules);n.components[t].rules2&&i[t].ruler2.enableOnly(n.components[t].rules2)}),this};i.prototype.enable=function(n,t){var i=[],r;if(Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(t){i=i.concat(this[t].ruler.enable(n,!0))},this),i=i.concat(this.inline.ruler2.enable(n,!0)),r=n.filter(function(n){return i.indexOf(n)<0}),r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};i.prototype.disable=function(n,t){var i=[],r;if(Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(t){i=i.concat(this[t].ruler.disable(n,!0))},this),i=i.concat(this.inline.ruler2.disable(n,!0)),r=n.filter(function(n){return i.indexOf(n)<0}),r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};i.prototype.use=function(n){var t=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,t),this};i.prototype.parse=function(n,t){if("string"!=typeof n)throw new Error("Input data should be a String");var i=new this.core.State(n,this,t);return this.core.process(i),i.tokens};i.prototype.render=function(n,t){return t=t||{},this.renderer.render(this.parse(n,t),this.options,t)};i.prototype.parseInline=function(n,t){var i=new this.core.State(n,this,t);return i.inlineMode=!0,this.core.process(i),i.tokens};i.prototype.renderInline=function(n,t){return t=t||{},this.renderer.render(this.parseInline(n,t),this.options,t)};t.exports=i},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(n,t){"use strict";function i(){this.ruler=new u;for(var n=0;n<r.length;n++)this.ruler.push(r[n][0],r[n][1],{alt:(r[n][2]||[]).slice()})}var u=n("./ruler"),r=[["table",n("./rules_block/table"),["paragraph","reference"]],["code",n("./rules_block/code")],["fence",n("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",n("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",n("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",n("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",n("./rules_block/reference")],["heading",n("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",n("./rules_block/lheading")],["html_block",n("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",n("./rules_block/paragraph")]];i.prototype.tokenize=function(n,t,i){for(var u,e=this.ruler.getRules(""),o=e.length,r=t,f=!1,s=n.md.options.maxNesting;r<i&&(n.line=r=n.skipEmptyLines(r),!(r>=i))&&!(n.sCount[r]<n.blkIndent);){if(n.level>=s){n.line=i;break}for(u=0;u<o&&!e[u](n,r,i,!1);u++);n.tight=!f;n.isEmpty(n.line-1)&&(f=!0);(r=n.line)<i&&n.isEmpty(r)&&(f=!0,r++,n.line=r)}};i.prototype.parse=function(n,t,i,r){var u;n&&(u=new this.State(n,t,i,r),this.tokenize(u,u.line,u.lineMax))};i.prototype.State=n("./rules_block/state_block");t.exports=i},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(n,t){"use strict";function i(){this.ruler=new u;for(var n=0;n<r.length;n++)this.ruler.push(r[n][0],r[n][1])}var u=n("./ruler"),r=[["normalize",n("./rules_core/normalize")],["block",n("./rules_core/block")],["inline",n("./rules_core/inline")],["linkify",n("./rules_core/linkify")],["replacements",n("./rules_core/replacements")],["smartquotes",n("./rules_core/smartquotes")]];i.prototype.process=function(n){for(var r,t=0,i=(r=this.ruler.getRules("")).length;t<i;t++)r[t](n)};i.prototype.State=n("./rules_core/state_core");t.exports=i},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(n,t){"use strict";function i(){var n;for(this.ruler=new f,n=0;n<r.length;n++)this.ruler.push(r[n][0],r[n][1]);for(this.ruler2=new f,n=0;n<u.length;n++)this.ruler2.push(u[n][0],u[n][1])}var f=n("./ruler"),r=[["text",n("./rules_inline/text")],["newline",n("./rules_inline/newline")],["escape",n("./rules_inline/escape")],["backticks",n("./rules_inline/backticks")],["strikethrough",n("./rules_inline/strikethrough").tokenize],["emphasis",n("./rules_inline/emphasis").tokenize],["link",n("./rules_inline/link")],["image",n("./rules_inline/image")],["autolink",n("./rules_inline/autolink")],["html_inline",n("./rules_inline/html_inline")],["entity",n("./rules_inline/entity")]],u=[["balance_pairs",n("./rules_inline/balance_pairs")],["strikethrough",n("./rules_inline/strikethrough").postProcess],["emphasis",n("./rules_inline/emphasis").postProcess],["text_collapse",n("./rules_inline/text_collapse")]];i.prototype.skipToken=function(n){var i,t,r=n.pos,f=this.ruler.getRules(""),e=f.length,o=n.md.options.maxNesting,u=n.cache;if(void 0===u[r]){if(n.level<o)for(t=0;t<e&&(n.level++,i=f[t](n,!0),n.level--,!i);t++);else n.pos=n.posMax;i||n.pos++;u[r]=n.pos}else n.pos=u[r]};i.prototype.tokenize=function(n){for(var i,t,r=this.ruler.getRules(""),f=r.length,u=n.posMax,e=n.md.options.maxNesting;n.pos<u;){if(n.level<e)for(t=0;t<f&&!(i=r[t](n,!1));t++);if(i){if(n.pos>=u)break}else n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};i.prototype.parse=function(n,t,i,r){var u,f,e,o=new this.State(n,t,i,r);for(this.tokenize(o),e=(f=this.ruler2.getRules("")).length,u=0;u<e;u++)f[u](o)};i.prototype.State=n("./rules_inline/state_inline");t.exports=i},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(n,t){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(n,t){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(n,t){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(n,t){"use strict";function u(){this.rules=f({},i)}var f=n("./common/utils").assign,e=n("./common/utils").unescapeAll,r=n("./common/utils").escapeHtml,i={};i.code_inline=function(n,t,i,u,f){var e=n[t];return"<code"+f.renderAttrs(e)+">"+r(n[t].content)+"<\/code>"};i.code_block=function(n,t,i,u,f){var e=n[t];return"<pre"+f.renderAttrs(e)+"><code>"+r(n[t].content)+"<\/code><\/pre>\n"};i.fence=function(n,t,i,u,f){var s,l,h,v,o=n[t],a=o.info?e(o.info).trim():"",c="";return a&&(c=a.split(/\s+/g)[0]),0===(s=i.highlight?i.highlight(o.content,c)||r(o.content):r(o.content)).indexOf("<pre")?s+"\n":a?(l=o.attrIndex("class"),h=o.attrs?o.attrs.slice():[],l<0?h.push(["class",i.langPrefix+c]):h[l][1]+=" "+i.langPrefix+c,v={attrs:h},"<pre><code"+f.renderAttrs(v)+">"+s+"<\/code><\/pre>\n"):"<pre><code"+f.renderAttrs(o)+">"+s+"<\/code><\/pre>\n"};i.image=function(n,t,i,r,u){var f=n[t];return f.attrs[f.attrIndex("alt")][1]=u.renderInlineAsText(f.children,i,r),u.renderToken(n,t,i)};i.hardbreak=function(n,t,i){return i.xhtmlOut?"<br />\n":"<br>\n"};i.softbreak=function(n,t,i){return i.breaks?i.xhtmlOut?"<br />\n":"<br>\n":"\n"};i.text=function(n,t){return r(n[t].content)};i.html_block=function(n,t){return n[t].content};i.html_inline=function(n,t){return n[t].content};u.prototype.renderAttrs=function(n){var t,u,i;if(!n.attrs)return"";for(i="",t=0,u=n.attrs.length;t<u;t++)i+=" "+r(n.attrs[t][0])+'="'+r(n.attrs[t][1])+'"';return i};u.prototype.renderToken=function(n,t,i){var f,u="",e=!1,r=n[t];return r.hidden?"":(r.block&&-1!==r.nesting&&t&&n[t-1].hidden&&(u+="\n"),u+=(-1===r.nesting?"<\/":"<")+r.tag,u+=this.renderAttrs(r),0===r.nesting&&i.xhtmlOut&&(u+=" /"),r.block&&(e=!0,1===r.nesting&&t+1<n.length&&("inline"===(f=n[t+1]).type||f.hidden?e=!1:-1===f.nesting&&f.tag===r.tag&&(e=!1))),u+=e?">\n":">")};u.prototype.renderInline=function(n,t,i){for(var u,f="",e=this.rules,r=0,o=n.length;r<o;r++)f+=void 0!==e[u=n[r].type]?e[u](n,r,t,i,this):this.renderToken(n,r,t);return f};u.prototype.renderInlineAsText=function(n,t,i){for(var u="",r=0,f=n.length;r<f;r++)"text"===n[r].type?u+=n[r].content:"image"===n[r].type&&(u+=this.renderInlineAsText(n[r].children,t,i));return u};u.prototype.render=function(n,t,i){for(var f,e="",o=this.rules,r=0,u=n.length;r<u;r++)e+="inline"===(f=n[r].type)?this.renderInline(n[r].children,t,i):void 0!==o[f]?o[n[r].type](n,r,t,i,this):this.renderToken(n,r,t,i);return e};t.exports=u},{"./common/utils":4}],17:[function(n,t){"use strict";function i(){this.__rules__=[];this.__cache__=null}i.prototype.__find__=function(n){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===n)return t;return-1};i.prototype.__compile__=function(){var n=this,t=[""];n.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})});n.__cache__={};t.forEach(function(t){n.__cache__[t]=[];n.__rules__.forEach(function(i){i.enabled&&(t&&i.alt.indexOf(t)<0||n.__cache__[t].push(i.fn))})})};i.prototype.at=function(n,t,i){var r=this.__find__(n),u=i||{};if(-1===r)throw new Error("Parser rule not found: "+n);this.__rules__[r].fn=t;this.__rules__[r].alt=u.alt||[];this.__cache__=null};i.prototype.before=function(n,t,i,r){var u=this.__find__(n),f=r||{};if(-1===u)throw new Error("Parser rule not found: "+n);this.__rules__.splice(u,0,{name:t,enabled:!0,fn:i,alt:f.alt||[]});this.__cache__=null};i.prototype.after=function(n,t,i,r){var u=this.__find__(n),f=r||{};if(-1===u)throw new Error("Parser rule not found: "+n);this.__rules__.splice(u+1,0,{name:t,enabled:!0,fn:i,alt:f.alt||[]});this.__cache__=null};i.prototype.push=function(n,t,i){var r=i||{};this.__rules__.push({name:n,enabled:!0,fn:t,alt:r.alt||[]});this.__cache__=null};i.prototype.enable=function(n,t){Array.isArray(n)||(n=[n]);var i=[];return n.forEach(function(n){var r=this.__find__(n);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n);}this.__rules__[r].enabled=!0;i.push(n)},this),this.__cache__=null,i};i.prototype.enableOnly=function(n,t){Array.isArray(n)||(n=[n]);this.__rules__.forEach(function(n){n.enabled=!1});this.enable(n,t)};i.prototype.disable=function(n,t){Array.isArray(n)||(n=[n]);var i=[];return n.forEach(function(n){var r=this.__find__(n);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n);}this.__rules__[r].enabled=!1;i.push(n)},this),this.__cache__=null,i};i.prototype.getRules=function(n){return null===this.__cache__&&this.__compile__(),this.__cache__[n]||[]};t.exports=i},{}],18:[function(n,t){"use strict";var i=n("../common/utils").isSpace;t.exports=function(n,t,r,u){var h,a,s,c,it,k,rt,f,o,p,w,ut,ft,b,v,l,d,g,nt,tt,et=n.lineMax,e=n.bMarks[t]+n.tShift[t],y=n.eMarks[t];if(n.sCount[t]-n.blkIndent>=4||62!==n.src.charCodeAt(e++))return!1;if(u)return!0;for(c=o=n.sCount[t]+e-(n.bMarks[t]+n.tShift[t]),32===n.src.charCodeAt(e)?(e++,c++,o++,h=!1,l=!0):9===n.src.charCodeAt(e)?(l=!0,(n.bsCount[t]+o)%4==3?(e++,c++,o++,h=!1):h=!0):l=!1,p=[n.bMarks[t]],n.bMarks[t]=e;e<y&&(a=n.src.charCodeAt(e),i(a));)9===a?o+=4-(o+n.bsCount[t]+(h?1:0))%4:o++,e++;for(w=[n.bsCount[t]],n.bsCount[t]=n.sCount[t]+1+(l?1:0),k=e>=y,b=[n.sCount[t]],n.sCount[t]=o-c,v=[n.tShift[t]],n.tShift[t]=e-n.bMarks[t],g=n.md.block.ruler.getRules("blockquote"),ft=n.parentType,n.parentType="blockquote",tt=!1,f=t+1;f<r&&(n.sCount[f]<n.blkIndent&&(tt=!0),e=n.bMarks[f]+n.tShift[f],y=n.eMarks[f],!(e>=y));f++)if(62!==n.src.charCodeAt(e++)||tt){if(k)break;for(d=!1,s=0,it=g.length;s<it;s++)if(g[s](n,f,r,!0)){d=!0;break}if(d){n.lineMax=f;0!==n.blkIndent&&(p.push(n.bMarks[f]),w.push(n.bsCount[f]),v.push(n.tShift[f]),b.push(n.sCount[f]),n.sCount[f]-=n.blkIndent);break}p.push(n.bMarks[f]);w.push(n.bsCount[f]);v.push(n.tShift[f]);b.push(n.sCount[f]);n.sCount[f]=-1}else{for(c=o=n.sCount[f]+e-(n.bMarks[f]+n.tShift[f]),32===n.src.charCodeAt(e)?(e++,c++,o++,h=!1,l=!0):9===n.src.charCodeAt(e)?(l=!0,(n.bsCount[f]+o)%4==3?(e++,c++,o++,h=!1):h=!0):l=!1,p.push(n.bMarks[f]),n.bMarks[f]=e;e<y&&(a=n.src.charCodeAt(e),i(a));)9===a?o+=4-(o+n.bsCount[f]+(h?1:0))%4:o++,e++;k=e>=y;w.push(n.bsCount[f]);n.bsCount[f]=n.sCount[f]+1+(l?1:0);b.push(n.sCount[f]);n.sCount[f]=o-c;v.push(n.tShift[f]);n.tShift[f]=e-n.bMarks[f]}for(ut=n.blkIndent,n.blkIndent=0,(nt=n.push("blockquote_open","blockquote",1)).markup=">",nt.map=rt=[t,0],n.md.block.tokenize(n,t,f),(nt=n.push("blockquote_close","blockquote",-1)).markup=">",n.lineMax=et,n.parentType=ft,rt[1]=n.line,s=0;s<v.length;s++)n.bMarks[s+t]=p[s],n.tShift[s+t]=v[s],n.sCount[s+t]=b[s],n.bsCount[s+t]=w[s];return n.blkIndent=ut,!0}},{"../common/utils":4}],19:[function(n,t){"use strict";t.exports=function(n,t,i){var r,u,f;if(n.sCount[t]-n.blkIndent<4)return!1;for(u=r=t+1;r<i;)if(n.isEmpty(r))r++;else{if(!(n.sCount[r]-n.blkIndent>=4))break;u=++r}return n.line=u,f=n.push("code_block","code",0),f.content=n.getLines(t,u,4+n.blkIndent,!0),f.map=[t,n.line],!0}},{}],20:[function(n,t){"use strict";t.exports=function(n,t,i,r){var e,c,l,f,o,s,a,v=!1,u=n.bMarks[t]+n.tShift[t],h=n.eMarks[t];if(n.sCount[t]-n.blkIndent>=4||u+3>h||126!==(e=n.src.charCodeAt(u))&&96!==e||(o=u,u=n.skipChars(u,e),(c=u-o)<3)||(a=n.src.slice(o,u),(l=n.src.slice(u,h)).indexOf(String.fromCharCode(e))>=0))return!1;if(r)return!0;for(f=t;!(++f>=i)&&(u=o=n.bMarks[f]+n.tShift[f],h=n.eMarks[f],!(u<h&&n.sCount[f]<n.blkIndent));)if(n.src.charCodeAt(u)===e&&!(n.sCount[f]-n.blkIndent>=4||(u=n.skipChars(u,e))-o<c||(u=n.skipSpaces(u))<h)){v=!0;break}return c=n.sCount[t],n.line=f+(v?1:0),s=n.push("fence","code",0),s.info=l,s.content=n.getLines(t+1,f,c,!0),s.markup=a,s.map=[t,n.line],!0}},{}],21:[function(n,t){"use strict";var i=n("../common/utils").isSpace;t.exports=function(n,t,r,u){var h,o,c,e,f=n.bMarks[t]+n.tShift[t],s=n.eMarks[t];if(n.sCount[t]-n.blkIndent>=4||35!==(h=n.src.charCodeAt(f))||f>=s)return!1;for(o=1,h=n.src.charCodeAt(++f);35===h&&f<s&&o<=6;)o++,h=n.src.charCodeAt(++f);return!(o>6||f<s&&!i(h))&&(!!u||(s=n.skipSpacesBack(s,f),(c=n.skipCharsBack(s,35,f))>f&&i(n.src.charCodeAt(c-1))&&(s=c),n.line=t+1,e=n.push("heading_open","h"+String(o),1),e.markup="########".slice(0,o),e.map=[t,n.line],e=n.push("inline","",0),e.content=n.src.slice(f,s).trim(),e.map=[t,n.line],e.children=[],e=n.push("heading_close","h"+String(o),-1),e.markup="########".slice(0,o),!0))}},{"../common/utils":4}],22:[function(n,t){"use strict";var i=n("../common/utils").isSpace;t.exports=function(n,t,r,u){var f,e,o,s,h=n.bMarks[t]+n.tShift[t],c=n.eMarks[t];if(n.sCount[t]-n.blkIndent>=4||42!==(f=n.src.charCodeAt(h++))&&45!==f&&95!==f)return!1;for(e=1;h<c;){if((o=n.src.charCodeAt(h++))!==f&&!i(o))return!1;o===f&&e++}return!(e<3)&&(!!u||(n.line=t+1,s=n.push("hr","hr",0),s.map=[t,n.line],s.markup=Array(e+1).join(String.fromCharCode(f)),!0))}},{"../common/utils":4}],23:[function(n,t){"use strict";var r=n("../common/html_blocks"),u=n("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^<\/?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(u.source+"\\s*$"),/^$/,!1]];t.exports=function(n,t,r,u){var e,f,h,o,s=n.bMarks[t]+n.tShift[t],c=n.eMarks[t];if(n.sCount[t]-n.blkIndent>=4||!n.md.options.html||60!==n.src.charCodeAt(s))return!1;for(o=n.src.slice(s,c),e=0;e<i.length&&!i[e][0].test(o);e++);if(e===i.length)return!1;if(u)return i[e][2];if(f=t+1,!i[e][1].test(o))for(;f<r&&!(n.sCount[f]<n.blkIndent);f++)if(s=n.bMarks[f]+n.tShift[f],c=n.eMarks[f],o=n.src.slice(s,c),i[e][1].test(o)){0!==o.length&&f++;break}return n.line=f,h=n.push("html_block","",0),h.map=[t,f],h.content=n.getLines(t,f,n.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(n,t){"use strict";t.exports=function(n,t,i){var l,h,o,a,u,f,c,s,e,v,r=t+1,y=n.md.block.ruler.getRules("paragraph");if(n.sCount[t]-n.blkIndent>=4)return!1;for(v=n.parentType,n.parentType="paragraph";r<i&&!n.isEmpty(r);r++)if(!(n.sCount[r]-n.blkIndent>3)){if(n.sCount[r]>=n.blkIndent&&(f=n.bMarks[r]+n.tShift[r],c=n.eMarks[r],f<c&&(45===(e=n.src.charCodeAt(f))||61===e)&&(f=n.skipChars(f,e),(f=n.skipSpaces(f))>=c))){s=61===e?1:2;break}if(!(n.sCount[r]<0)){for(h=!1,o=0,a=y.length;o<a;o++)if(y[o](n,r,i,!0)){h=!0;break}if(h)break}}return!!s&&(l=n.getLines(t,r,n.blkIndent,!1).trim(),n.line=r+1,u=n.push("heading_open","h"+String(s),1),u.markup=String.fromCharCode(e),u.map=[t,n.line],u=n.push("inline","",0),u.content=l,u.map=[t,n.line-1],u.children=[],u=n.push("heading_close","h"+String(s),-1),u.markup=String.fromCharCode(e),n.parentType=v,!0)}},{}],25:[function(n,t){"use strict";function i(n,t){var r,i,f,e;return i=n.bMarks[t]+n.tShift[t],f=n.eMarks[t],42!==(r=n.src.charCodeAt(i++))&&45!==r&&43!==r?-1:i<f&&(e=n.src.charCodeAt(i),!u(e))?-1:i}function r(n,t){var i,e=n.bMarks[t]+n.tShift[t],r=e,f=n.eMarks[t];if(r+1>=f||(i=n.src.charCodeAt(r++))<48||i>57)return-1;for(;;){if(r>=f)return-1;if(!((i=n.src.charCodeAt(r++))>=48&&i<=57)){if(41===i||46===i)break;return-1}if(r-e>=10)return-1}return r<f&&(i=n.src.charCodeAt(r),!u(i))?-1:r}function f(n,t){for(var u=n.level+2,i=t+2,r=n.tokens.length-2;i<r;i++)n.tokens[i].level===u&&"paragraph_open"===n.tokens[i].type&&(n.tokens[i+2].hidden=!0,n.tokens[i].hidden=!0,i+=2)}var u=n("../common/utils").isSpace;t.exports=function(n,t,u,e){var ut,a,p,ft,k,d,v,et,ot,st,ht,c,w,b,o,l,ct,lt,at,vt,yt,y,h,g,nt,tt,it,s,rt=!1,pt=!0;if(n.sCount[t]-n.blkIndent>=4)return!1;if(e&&"paragraph"===n.parentType&&n.tShift[t]>=n.blkIndent&&(rt=!0),(h=r(n,t))>=0){if(v=!0,nt=n.bMarks[t]+n.tShift[t],w=Number(n.src.substr(nt,h-nt-1)),rt&&1!==w)return!1}else{if(!((h=i(n,t))>=0))return!1;v=!1}if(rt&&n.skipSpaces(h)>=n.eMarks[t])return!1;if(c=n.src.charCodeAt(h-1),e)return!0;for(ht=n.tokens.length,v?(s=n.push("ordered_list_open","ol",1),1!==w&&(s.attrs=[["start",w]])):s=n.push("bullet_list_open","ul",1),s.map=st=[t,0],s.markup=String.fromCharCode(c),o=t,g=!1,it=n.md.block.ruler.getRules("list"),at=n.parentType,n.parentType="list";o<u;){for(y=h,b=n.eMarks[o],d=l=n.sCount[o]+h-(n.bMarks[t]+n.tShift[t]);y<b;){if(9===(ut=n.src.charCodeAt(y)))l+=4-(l+n.bsCount[o])%4;else{if(32!==ut)break;l++}y++}if(a=y,(k=a>=b?1:l-d)>4&&(k=1),ft=d+k,s=n.push("list_item_open","li",1),s.markup=String.fromCharCode(c),s.map=et=[t,0],ct=n.blkIndent,yt=n.tight,vt=n.tShift[t],lt=n.sCount[t],n.blkIndent=ft,n.tight=!0,n.tShift[t]=a-n.bMarks[t],n.sCount[t]=l,a>=b&&n.isEmpty(t+1)?n.line=Math.min(n.line+2,u):n.md.block.tokenize(n,t,u,!0),n.tight&&!g||(pt=!1),g=n.line-t>1&&n.isEmpty(n.line-1),n.blkIndent=ct,n.tShift[t]=vt,n.sCount[t]=lt,n.tight=yt,s=n.push("list_item_close","li",-1),s.markup=String.fromCharCode(c),o=t=n.line,et[1]=o,a=n.bMarks[t],o>=u)break;if(n.sCount[o]<n.blkIndent)break;for(tt=!1,p=0,ot=it.length;p<ot;p++)if(it[p](n,o,u,!0)){tt=!0;break}if(tt)break;if(v){if((h=r(n,o))<0)break}else if((h=i(n,o))<0)break;if(c!==n.src.charCodeAt(h-1))break}return s=v?n.push("ordered_list_close","ol",-1):n.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(c),st[1]=o,n.line=o,n.parentType=at,pt&&f(n,ht),!0}},{"../common/utils":4}],26:[function(n,t){"use strict";t.exports=function(n,t){var e,f,u,o,r,s,i=t+1,h=n.md.block.ruler.getRules("paragraph"),c=n.lineMax;for(s=n.parentType,n.parentType="paragraph";i<c&&!n.isEmpty(i);i++)if(!(n.sCount[i]-n.blkIndent>3||n.sCount[i]<0)){for(f=!1,u=0,o=h.length;u<o;u++)if(h[u](n,i,c,!0)){f=!0;break}if(f)break}return e=n.getLines(t,i,n.blkIndent,!1).trim(),n.line=i,r=n.push("paragraph_open","p",1),r.map=[t,n.line],r=n.push("inline","",0),r.content=e,r.map=[t,n.line],r.children=[],r=n.push("paragraph_close","p",-1),n.parentType=s,!0}},{}],27:[function(n,t){"use strict";var r=n("../common/utils").normalizeReference,i=n("../common/utils").isSpace;t.exports=function(n,t,u,f){var h,w,b,k,d,p,it,g,v,rt,c,ut,s,nt,tt,y,l=0,e=n.bMarks[t]+n.tShift[t],o=n.eMarks[t],a=t+1;if(n.sCount[t]-n.blkIndent>=4||91!==n.src.charCodeAt(e))return!1;for(;++e<o;)if(93===n.src.charCodeAt(e)&&92!==n.src.charCodeAt(e-1)){if(e+1===o||58!==n.src.charCodeAt(e+1))return!1;break}for(k=n.lineMax,tt=n.md.block.ruler.getRules("reference"),rt=n.parentType,n.parentType="reference";a<k&&!n.isEmpty(a);a++)if(!(n.sCount[a]-n.blkIndent>3||n.sCount[a]<0)){for(nt=!1,p=0,it=tt.length;p<it;p++)if(tt[p](n,a,k,!0)){nt=!0;break}if(nt)break}for(o=(s=n.getLines(t,a,n.blkIndent,!1).trim()).length,e=1;e<o;e++){if(91===(h=s.charCodeAt(e)))return!1;if(93===h){v=e;break}10===h?l++:92===h&&++e<o&&10===s.charCodeAt(e)&&l++}if(v<0||58!==s.charCodeAt(v+1))return!1;for(e=v+2;e<o;e++)if(10===(h=s.charCodeAt(e)))l++;else if(!i(h))break;if(!(c=n.md.helpers.parseLinkDestination(s,e,o)).ok||(d=n.md.normalizeLink(c.str),!n.md.validateLink(d)))return!1;for(w=e=c.pos,b=l+=c.lines,ut=e;e<o;e++)if(10===(h=s.charCodeAt(e)))l++;else if(!i(h))break;for(c=n.md.helpers.parseLinkTitle(s,e,o),e<o&&ut!==e&&c.ok?(y=c.str,e=c.pos,l+=c.lines):(y="",e=w,l=b);e<o&&(h=s.charCodeAt(e),i(h));)e++;if(e<o&&10!==s.charCodeAt(e)&&y)for(y="",e=w,l=b;e<o&&(h=s.charCodeAt(e),i(h));)e++;return!(e<o&&10!==s.charCodeAt(e))&&!!(g=r(s.slice(1,v)))&&(!!f||(void 0===n.env.references&&(n.env.references={}),void 0===n.env.references[g]&&(n.env.references[g]={title:y,href:d}),n.parentType=rt,n.line=t+l+1,!0))}},{"../common/utils":4}],28:[function(n,t){"use strict";function i(n,t,i,u){var o,s,l,f,a,h,e,c;for(this.src=n,this.md=t,this.env=i,this.tokens=u,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",c=!1,l=f=h=e=0,a=(s=this.src).length;f<a;f++){if(o=s.charCodeAt(f),!c){if(r(o)){h++;9===o?e+=4-e%4:e++;continue}c=!0}10!==o&&f!==a-1||(10!==o&&f++,this.bMarks.push(l),this.eMarks.push(f),this.tShift.push(h),this.sCount.push(e),this.bsCount.push(0),c=!1,h=0,e=0,l=f+1)}this.bMarks.push(s.length);this.eMarks.push(s.length);this.tShift.push(0);this.sCount.push(0);this.bsCount.push(0);this.lineMax=this.bMarks.length-1}var u=n("../token"),r=n("../common/utils").isSpace;i.prototype.push=function(n,t,i){var r=new u(n,t,i);return r.block=!0,i<0&&this.level--,r.level=this.level,i>0&&this.level++,this.tokens.push(r),r};i.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]};i.prototype.skipEmptyLines=function(n){for(var t=this.lineMax;n<t&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n};i.prototype.skipSpaces=function(n){for(var t,i=this.src.length;n<i&&(t=this.src.charCodeAt(n),r(t));n++);return n};i.prototype.skipSpacesBack=function(n,t){if(n<=t)return n;for(;n>t;)if(!r(this.src.charCodeAt(--n)))return n+1;return n};i.prototype.skipChars=function(n,t){for(var i=this.src.length;n<i&&this.src.charCodeAt(n)===t;n++);return n};i.prototype.skipCharsBack=function(n,t,i){if(n<=i)return n;for(;n>i;)if(t!==this.src.charCodeAt(--n))return n+1;return n};i.prototype.getLines=function(n,t,i,u){var h,f,c,o,s,l,a,e=n;if(n>=t)return"";for(l=new Array(t-n),h=0;e<t;e++,h++){for(f=0,a=o=this.bMarks[e],s=e+1<t||u?this.eMarks[e]+1:this.eMarks[e];o<s&&f<i;){if(c=this.src.charCodeAt(o),r(c))9===c?f+=4-(f+this.bsCount[e])%4:f++;else{if(!(o-a<this.tShift[e]))break;f++}o++}l[h]=f>i?new Array(f-i+1).join(" ")+this.src.slice(o,s):this.src.slice(o,s)}return l.join("")};i.prototype.Token=u;t.exports=i},{"../common/utils":4,"../token":51}],29:[function(n,t){"use strict";function i(n,t){var i=n.bMarks[t]+n.blkIndent,r=n.eMarks[t];return n.src.substr(i,r-i)}function r(n){for(var f=[],t=0,s=n.length,u=0,e=0,i=!1,o=0,r=n.charCodeAt(t);t<s;)96===r?i?(i=!1,o=t):u%2==0&&(i=!0,o=t):124!==r||u%2!=0||i||(f.push(n.substring(e,t)),e=t+1),92===r?u++:u=0,++t===s&&i&&(i=!1,t=o+1),r=n.charCodeAt(t);return f.push(n.substring(e)),f}var u=n("../common/utils").isSpace;t.exports=function(n,t,f,e){var a,y,p,s,h,c,w,o,l,v,b,k;if(t+2>f||(h=t+1,n.sCount[h]<n.blkIndent)||n.sCount[h]-n.blkIndent>=4||(p=n.bMarks[h]+n.tShift[h])>=n.eMarks[h]||124!==(a=n.src.charCodeAt(p++))&&45!==a&&58!==a)return!1;for(;p<n.eMarks[h];){if(124!==(a=n.src.charCodeAt(p))&&45!==a&&58!==a&&!u(a))return!1;p++}for(c=(y=i(n,t+1)).split("|"),l=[],s=0;s<c.length;s++){if(!(v=c[s].trim())){if(0===s||s===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?l.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?l.push("left"):l.push("")}if(-1===(y=i(n,t).trim()).indexOf("|")||n.sCount[t]-n.blkIndent>=4||(c=r(y.replace(/^\||\|$/g,"")),(w=c.length)>l.length))return!1;if(e)return!0;for((o=n.push("table_open","table",1)).map=b=[t,0],(o=n.push("thead_open","thead",1)).map=[t,t+1],(o=n.push("tr_open","tr",1)).map=[t,t+1],s=0;s<c.length;s++)(o=n.push("th_open","th",1)).map=[t,t+1],l[s]&&(o.attrs=[["style","text-align:"+l[s]]]),(o=n.push("inline","",0)).content=c[s].trim(),o.map=[t,t+1],o.children=[],o=n.push("th_close","th",-1);for(o=n.push("tr_close","tr",-1),o=n.push("thead_close","thead",-1),(o=n.push("tbody_open","tbody",1)).map=k=[t+2,0],h=t+2;h<f&&!(n.sCount[h]<n.blkIndent)&&-1!==(y=i(n,h).trim()).indexOf("|")&&!(n.sCount[h]-n.blkIndent>=4);h++){for(c=r(y.replace(/^\||\|$/g,"")),o=n.push("tr_open","tr",1),s=0;s<w;s++)o=n.push("td_open","td",1),l[s]&&(o.attrs=[["style","text-align:"+l[s]]]),(o=n.push("inline","",0)).content=c[s]?c[s].trim():"",o.children=[],o=n.push("td_close","td",-1);o=n.push("tr_close","tr",-1)}return o=n.push("tbody_close","tbody",-1),o=n.push("table_close","table",-1),b[1]=k[1]=h,n.line=h,!0}},{"../common/utils":4}],30:[function(n,t){"use strict";t.exports=function(n){var t;n.inlineMode?((t=new n.Token("inline","",0)).content=n.src,t.map=[0,1],t.children=[],n.tokens.push(t)):n.md.block.parse(n.src,n.md,n.env,n.tokens)}},{}],31:[function(n,t){"use strict";t.exports=function(n){for(var i,u=n.tokens,t=0,r=u.length;t<r;t++)"inline"===(i=u[t]).type&&n.md.inline.parse(i.content,n.md,n.env,i.children)}},{}],32:[function(n,t){"use strict";function i(n){return/^<a[>\s]/i.test(n)}function r(n){return/^<\/a\s*>/i.test(n)}var u=n("../common/utils").arrayReplaceAt;t.exports=function(n){var f,h,d,a,t,e,c,o,p,g,v,y,w,nt,k,l,s,b=n.tokens;if(n.md.options.linkify)for(h=0,d=b.length;h<d;h++)if("inline"===b[h].type&&n.md.linkify.pretest(b[h].content))for(w=0,f=(a=b[h].children).length-1;f>=0;f--)if("link_close"!==(e=a[f]).type){if("html_inline"===e.type&&(i(e.content)&&w>0&&w--,r(e.content)&&w++),!(w>0)&&"text"===e.type&&n.md.linkify.test(e.content)){for(p=e.content,s=n.md.linkify.match(p),c=[],y=e.level,v=0,o=0;o<s.length;o++)nt=s[o].url,k=n.md.normalizeLink(nt),n.md.validateLink(k)&&(l=s[o].text,l=s[o].schema?"mailto:"!==s[o].schema||/^mailto:/i.test(l)?n.md.normalizeLinkText(l):n.md.normalizeLinkText("mailto:"+l).replace(/^mailto:/,""):n.md.normalizeLinkText("http://"+l).replace(/^http:\/\//,""),(g=s[o].index)>v&&((t=new n.Token("text","",0)).content=p.slice(v,g),t.level=y,c.push(t)),(t=new n.Token("link_open","a",1)).attrs=[["href",k]],t.level=y++,t.markup="linkify",t.info="auto",c.push(t),(t=new n.Token("text","",0)).content=l,t.level=y,c.push(t),(t=new n.Token("link_close","a",-1)).level=--y,t.markup="linkify",t.info="auto",c.push(t),v=s[o].lastIndex);v<p.length&&((t=new n.Token("text","",0)).content=p.slice(v),t.level=y,c.push(t));b[h].children=a=u(a,f,c)}}else for(f--;a[f].level!==e.level&&"link_open"!==a[f].type;)f--}},{"../common/utils":4}],33:[function(n,t){"use strict";var i=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,r=/\u0000/g;t.exports=function(n){var t;t=(t=n.src.replace(i,"\n")).replace(r,"�");n.src=t}},{}],34:[function(n,t){"use strict";function r(n,t){return s[t.toLowerCase()]}function u(n){for(var t,u=0,i=n.length-1;i>=0;i--)"text"!==(t=n[i]).type||u||(t.content=t.content.replace(o,r)),"link_open"===t.type&&"auto"===t.info&&u--,"link_close"===t.type&&"auto"===t.info&&u++}function f(n){for(var t,u=0,r=n.length-1;r>=0;r--)"text"!==(t=n[r]).type||u||i.test(t.content)&&(t.content=t.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===t.type&&"auto"===t.info&&u--,"link_close"===t.type&&"auto"===t.info&&u++}var i=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,e=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,s={c:"©",r:"®",p:"§",tm:"™"};t.exports=function(n){var t;if(n.md.options.typographer)for(t=n.tokens.length-1;t>=0;t--)"inline"===n.tokens[t].type&&(e.test(n.tokens[t].content)&&u(n.tokens[t].children),i.test(n.tokens[t].content)&&f(n.tokens[t].children))}},{}],35:[function(n,t){"use strict";function i(n,t,i){return n.substr(0,t)+i+n.substr(t+1)}function s(n,t){for(var c,g,l,y,tt,nt,b,p,k,ft,it,et,ot,w,v,s,d,rt,ut,h=[],a=0;a<n.length;a++){for(c=n[a],nt=n[a].level,s=h.length-1;s>=0&&!(h[s].level<=nt);s--);if(h.length=s+1,"text"===c.type){y=0;tt=(g=c.content).length;n:for(;y<tt&&(e.lastIndex=y,l=e.exec(g));){if(w=v=!0,y=l.index+1,d="'"===l[0],p=32,l.index-1>=0)p=g.charCodeAt(l.index-1);else for(s=a-1;s>=0&&"softbreak"!==n[s].type&&"hardbreak"!==n[s].type;s--)if("text"===n[s].type){p=n[s].content.charCodeAt(n[s].content.length-1);break}if(k=32,y<tt)k=g.charCodeAt(y);else for(s=a+1;s<n.length&&"softbreak"!==n[s].type&&"hardbreak"!==n[s].type;s++)if("text"===n[s].type){k=n[s].content.charCodeAt(0);break}if(ft=f(p)||u(String.fromCharCode(p)),it=f(k)||u(String.fromCharCode(k)),et=r(p),(ot=r(k))?w=!1:it&&(et||ft||(w=!1)),et?v=!1:ft&&(ot||it||(v=!1)),34===k&&'"'===l[0]&&p>=48&&p<=57&&(v=w=!1),w&&v&&(w=!1,v=it),w||v){if(v)for(s=h.length-1;s>=0&&(b=h[s],!(h[s].level<nt));s--)if(b.single===d&&h[s].level===nt){b=h[s];d?(rt=t.md.options.quotes[2],ut=t.md.options.quotes[3]):(rt=t.md.options.quotes[0],ut=t.md.options.quotes[1]);c.content=i(c.content,l.index,ut);n[b.token].content=i(n[b.token].content,b.pos,rt);y+=ut.length-1;b.token===a&&(y+=rt.length-1);tt=(g=c.content).length;h.length=s;continue n}w?h.push({token:a,pos:l.index,single:d,level:nt}):v&&d&&(c.content=i(c.content,l.index,o))}else d&&(c.content=i(c.content,l.index,o))}}}}var r=n("../common/utils").isWhiteSpace,u=n("../common/utils").isPunctChar,f=n("../common/utils").isMdAsciiPunct,h=/['"]/,e=/['"]/g,o="’";t.exports=function(n){var t;if(n.md.options.typographer)for(t=n.tokens.length-1;t>=0;t--)"inline"===n.tokens[t].type&&h.test(n.tokens[t].content)&&s(n.tokens[t].children,n)}},{"../common/utils":4}],36:[function(n,t){"use strict";function i(n,t,i){this.src=n;this.env=i;this.tokens=[];this.inlineMode=!1;this.md=t}var r=n("../token");i.prototype.Token=r;t.exports=i},{"../token":51}],37:[function(n,t){"use strict";var i=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,r=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;t.exports=function(n,t){var o,s,h,f,e,u,c=n.pos;return 60===n.src.charCodeAt(c)&&!((o=n.src.slice(c)).indexOf(">")<0||(r.test(o)?(s=o.match(r),f=s[0].slice(1,-1),e=n.md.normalizeLink(f),!n.md.validateLink(e)||(t||((u=n.push("link_open","a",1)).attrs=[["href",e]],u.markup="autolink",u.info="auto",(u=n.push("text","",0)).content=n.md.normalizeLinkText(f),(u=n.push("link_close","a",-1)).markup="autolink",u.info="auto"),n.pos+=s[0].length,0)):!i.test(o)||(h=o.match(i),f=h[0].slice(1,-1),e=n.md.normalizeLink("mailto:"+f),!n.md.validateLink(e)||(t||((u=n.push("link_open","a",1)).attrs=[["href",e]],u.markup="autolink",u.info="auto",(u=n.push("text","",0)).content=n.md.normalizeLinkText(f),(u=n.push("link_close","a",-1)).markup="autolink",u.info="auto"),n.pos+=h[0].length,0))))}},{}],38:[function(n,t){"use strict";t.exports=function(n,t){var o,e,u,f,r,s,i=n.pos;if(96!==n.src.charCodeAt(i))return!1;for(o=i,i++,e=n.posMax;i<e&&96===n.src.charCodeAt(i);)i++;for(u=n.src.slice(o,i),f=r=i;-1!==(f=n.src.indexOf("`",r));){for(r=f+1;r<e&&96===n.src.charCodeAt(r);)r++;if(r-f===u.length)return t||((s=n.push("code_inline","code",0)).markup=u,s.content=n.src.slice(i,f).replace(/[ \n]+/g," ").trim()),n.pos=r,!0}return t||(n.pending+=u),n.pos+=u.length,!0}},{}],39:[function(n,t){"use strict";t.exports=function(n){for(var u,i,t,f=n.delimiters,e=n.delimiters.length,r=0;r<e;r++)if((i=f[r]).close)for(u=r-i.jump-1;u>=0;){if((t=f[u]).open&&t.marker===i.marker&&t.end<0&&t.level===i.level&&!((t.close||i.open)&&void 0!==t.length&&void 0!==i.length&&(t.length+i.length)%3==0)){i.jump=r-u;i.open=!1;t.end=r;t.jump=0;break}u-=t.jump+1}}},{}],40:[function(n,t){"use strict";t.exports.tokenize=function(n,t){var u,i,f=n.pos,r=n.src.charCodeAt(f);if(t||95!==r&&42!==r)return!1;for(i=n.scanDelims(n.pos,42===r),u=0;u<i.length;u++)n.push("text","",0).content=String.fromCharCode(r),n.delimiters.push({marker:r,length:i.length,jump:u,token:n.tokens.length-1,level:n.level,end:-1,open:i.can_open,close:i.can_close});return n.pos+=i.length,!0};t.exports.postProcess=function(n){for(var t,o,r,e,u,f=n.delimiters,i=n.delimiters.length-1;i>=0;i--)95!==(t=f[i]).marker&&42!==t.marker||-1!==t.end&&(o=f[t.end],u=i>0&&f[i-1].end===t.end+1&&f[i-1].token===t.token-1&&f[t.end+1].token===o.token+1&&f[i-1].marker===t.marker,e=String.fromCharCode(t.marker),(r=n.tokens[t.token]).type=u?"strong_open":"em_open",r.tag=u?"strong":"em",r.nesting=1,r.markup=u?e+e:e,r.content="",(r=n.tokens[o.token]).type=u?"strong_close":"em_close",r.tag=u?"strong":"em",r.nesting=-1,r.markup=u?e+e:e,r.content="",u&&(n.tokens[f[i-1].token].content="",n.tokens[f[t.end+1].token].content="",i--))}},{}],41:[function(n,t){"use strict";var i=n("../common/entities"),r=n("../common/utils").has,u=n("../common/utils").isValidEntityCode,f=n("../common/utils").fromCodePoint,e=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,o=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(n,t){var c,s,h=n.pos,l=n.posMax;if(38!==n.src.charCodeAt(h))return!1;if(h+1<l)if(35===n.src.charCodeAt(h+1)){if(s=n.src.slice(h).match(e))return t||(c="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n.pending+=f(u(c)?c:65533)),n.pos+=s[0].length,!0}else if((s=n.src.slice(h).match(o))&&r(i,s[1]))return t||(n.pending+=i[s[1]]),n.pos+=s[0].length,!0;return t||(n.pending+="&"),n.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(n,t){"use strict";for(var u=n("../common/utils").isSpace,i=[],r=0;r<256;r++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){i[n.charCodeAt(0)]=1});t.exports=function(n,t){var f,r=n.pos,e=n.posMax;if(92!==n.src.charCodeAt(r))return!1;if(++r<e){if((f=n.src.charCodeAt(r))<256&&0!==i[f])return t||(n.pending+=n.src[r]),n.pos+=2,!0;if(10===f){for(t||n.push("hardbreak","br",0),r++;r<e&&(f=n.src.charCodeAt(r),u(f));)r++;return n.pos=r,!0}}return t||(n.pending+="\\"),n.pos++,!0}},{"../common/utils":4}],43:[function(n,t){"use strict";function i(n){var t=32|n;return t>=97&&t<=122}var r=n("../common/html_re").HTML_TAG_RE;t.exports=function(n,t){var f,e,o,u=n.pos;return!!n.md.options.html&&(o=n.posMax,!(60!==n.src.charCodeAt(u)||u+2>=o)&&!(33!==(f=n.src.charCodeAt(u+1))&&63!==f&&47!==f&&!i(f))&&!!(e=n.src.slice(u).match(r))&&(t||(n.push("html_inline","",0).content=n.src.slice(u,u+e[0].length)),n.pos+=e[0].length,!0))}},{"../common/html_re":3}],44:[function(n,t){"use strict";var r=n("../common/utils").normalizeReference,i=n("../common/utils").isSpace;t.exports=function(n,t){var b,f,v,a,s,y,u,p,o,h,w,k,c,l="",d=n.pos,e=n.posMax;if(33!==n.src.charCodeAt(n.pos)||91!==n.src.charCodeAt(n.pos+1)||(y=n.pos+2,(s=n.md.helpers.parseLinkLabel(n,n.pos+1,!1))<0))return!1;if((u=s+1)<e&&40===n.src.charCodeAt(u)){for(u++;u<e&&(f=n.src.charCodeAt(u),i(f)||10===f);u++);if(u>=e)return!1;for(c=u,(o=n.md.helpers.parseLinkDestination(n.src,u,n.posMax)).ok&&(l=n.md.normalizeLink(o.str),n.md.validateLink(l)?u=o.pos:l=""),c=u;u<e&&(f=n.src.charCodeAt(u),i(f)||10===f);u++);if(o=n.md.helpers.parseLinkTitle(n.src,u,n.posMax),u<e&&c!==u&&o.ok)for(h=o.str,u=o.pos;u<e&&(f=n.src.charCodeAt(u),i(f)||10===f);u++);else h="";if(u>=e||41!==n.src.charCodeAt(u))return n.pos=d,!1;u++}else{if(void 0===n.env.references)return!1;if(u<e&&91===n.src.charCodeAt(u)?(c=u+1,(u=n.md.helpers.parseLinkLabel(n,u))>=0?a=n.src.slice(c,u++):u=s+1):u=s+1,a||(a=n.src.slice(y,s)),!(p=n.env.references[r(a)]))return n.pos=d,!1;l=p.href;h=p.title}return t||(v=n.src.slice(y,s),n.md.inline.parse(v,n.md,n.env,k=[]),(w=n.push("image","img",0)).attrs=b=[["src",l],["alt",""]],w.children=k,w.content=v,h&&b.push(["title",h])),n.pos=u,n.posMax=e,!0}},{"../common/utils":4}],45:[function(n,t){"use strict";var r=n("../common/utils").normalizeReference,i=n("../common/utils").isSpace;t.exports=function(n,t){var w,f,a,s,v,u,o,y,h,c="",b=n.pos,e=n.posMax,l=n.pos,p=!0;if(91!==n.src.charCodeAt(n.pos)||(v=n.pos+1,(s=n.md.helpers.parseLinkLabel(n,n.pos,!0))<0))return!1;if((u=s+1)<e&&40===n.src.charCodeAt(u)){for(p=!1,u++;u<e&&(f=n.src.charCodeAt(u),i(f)||10===f);u++);if(u>=e)return!1;for(l=u,(o=n.md.helpers.parseLinkDestination(n.src,u,n.posMax)).ok&&(c=n.md.normalizeLink(o.str),n.md.validateLink(c)?u=o.pos:c=""),l=u;u<e&&(f=n.src.charCodeAt(u),i(f)||10===f);u++);if(o=n.md.helpers.parseLinkTitle(n.src,u,n.posMax),u<e&&l!==u&&o.ok)for(h=o.str,u=o.pos;u<e&&(f=n.src.charCodeAt(u),i(f)||10===f);u++);else h="";(u>=e||41!==n.src.charCodeAt(u))&&(p=!0);u++}if(p){if(void 0===n.env.references)return!1;if(u<e&&91===n.src.charCodeAt(u)?(l=u+1,(u=n.md.helpers.parseLinkLabel(n,u))>=0?a=n.src.slice(l,u++):u=s+1):u=s+1,a||(a=n.src.slice(v,s)),!(y=n.env.references[r(a)]))return n.pos=b,!1;c=y.href;h=y.title}return t||(n.pos=v,n.posMax=s,n.push("link_open","a",1).attrs=w=[["href",c]],h&&w.push(["title",h]),n.md.inline.tokenize(n),n.push("link_close","a",-1)),n.pos=u,n.posMax=e,!0}},{"../common/utils":4}],46:[function(n,t){"use strict";var i=n("../common/utils").isSpace;t.exports=function(n,t){var u,f,r=n.pos;if(10!==n.src.charCodeAt(r))return!1;for(u=n.pending.length-1,f=n.posMax,t||(u>=0&&32===n.pending.charCodeAt(u)?u>=1&&32===n.pending.charCodeAt(u-1)?(n.pending=n.pending.replace(/ +$/,""),n.push("hardbreak","br",0)):(n.pending=n.pending.slice(0,-1),n.push("softbreak","br",0)):n.push("softbreak","br",0)),r++;r<f&&i(n.src.charCodeAt(r));)r++;return n.pos=r,!0}},{"../common/utils":4}],47:[function(n,t){"use strict";function i(n,t,i,r){this.src=n;this.env=i;this.md=t;this.tokens=r;this.pos=0;this.posMax=this.src.length;this.level=0;this.pending="";this.pendingLevel=0;this.cache={};this.delimiters=[]}var r=n("../token"),u=n("../common/utils").isWhiteSpace,f=n("../common/utils").isPunctChar,e=n("../common/utils").isMdAsciiPunct;i.prototype.pushPending=function(){var n=new r("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n};i.prototype.push=function(n,t,i){this.pending&&this.pushPending();var u=new r(n,t,i);return i<0&&this.level--,u.level=this.level,i>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(u),u};i.prototype.scanDelims=function(n,t){for(var h,p,a,v,y,c,w,l,i=n,r=!0,o=!0,b=this.posMax,k=this.src.charCodeAt(n),s=n>0?this.src.charCodeAt(n-1):32;i<b&&this.src.charCodeAt(i)===k;)i++;return p=i-n,h=i<b?this.src.charCodeAt(i):32,c=e(s)||f(String.fromCharCode(s)),l=e(h)||f(String.fromCharCode(h)),y=u(s),(w=u(h))?r=!1:l&&(y||c||(r=!1)),y?o=!1:c&&(w||l||(o=!1)),t?(a=r,v=o):(a=r&&(!o||c),v=o&&(!r||l)),{can_open:a,can_close:v,length:p}};i.prototype.Token=r;t.exports=i},{"../common/utils":4,"../token":51}],48:[function(n,t){"use strict";t.exports.tokenize=function(n,t){var u,i,r,f,o=n.pos,e=n.src.charCodeAt(o);if(t||126!==e||(i=n.scanDelims(n.pos,!0),r=i.length,f=String.fromCharCode(e),r<2))return!1;for(r%2&&(n.push("text","",0).content=f,r--),u=0;u<r;u+=2)n.push("text","",0).content=f+f,n.delimiters.push({marker:e,jump:u,token:n.tokens.length-1,level:n.level,end:-1,open:i.can_open,close:i.can_close});return n.pos+=i.length,!0};t.exports.postProcess=function(n){for(var r,f,u,t,e=[],o=n.delimiters,s=n.delimiters.length,i=0;i<s;i++)126===(f=o[i]).marker&&-1!==f.end&&(u=o[f.end],(t=n.tokens[f.token]).type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",(t=n.tokens[u.token]).type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="","text"===n.tokens[u.token-1].type&&"~"===n.tokens[u.token-1].content&&e.push(u.token-1));for(;e.length;){for(r=(i=e.pop())+1;r<n.tokens.length&&"s_close"===n.tokens[r].type;)r++;i!==--r&&(t=n.tokens[r],n.tokens[r]=n.tokens[i],n.tokens[i]=t)}}},{}],49:[function(n,t){"use strict";function i(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(n,t){for(var r=n.pos;r<n.posMax&&!i(n.src.charCodeAt(r));)r++;return r!==n.pos&&(t||(n.pending+=n.src.slice(n.pos,r)),n.pos=r,!0)}},{}],50:[function(n,t){"use strict";t.exports=function(n){for(var r,u=0,i=n.tokens,f=n.tokens.length,t=r=0;t<f;t++)u+=i[t].nesting,i[t].level=u,"text"===i[t].type&&t+1<f&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==r&&(i[r]=i[t]),r++);t!==r&&(i.length=r)}},{}],51:[function(n,t){"use strict";function i(n,t,i){this.type=n;this.tag=t;this.attrs=null;this.map=null;this.nesting=i;this.level=0;this.children=null;this.content="";this.markup="";this.info="";this.meta=null;this.block=!1;this.hidden=!1}i.prototype.attrIndex=function(n){var i,t,r;if(!this.attrs)return-1;for(t=0,r=(i=this.attrs).length;t<r;t++)if(i[t][0]===n)return t;return-1};i.prototype.attrPush=function(n){this.attrs?this.attrs.push(n):this.attrs=[n]};i.prototype.attrSet=function(n,t){var i=this.attrIndex(n),r=[n,t];i<0?this.attrPush(r):this.attrs[i]=r};i.prototype.attrGet=function(n){var t=this.attrIndex(n),i=null;return t>=0&&(i=this.attrs[t][1]),i};i.prototype.attrJoin=function(n,t){var i=this.attrIndex(n);i<0?this.attrPush([n,t]):this.attrs[i][1]=this.attrs[i][1]+" "+t};t.exports=i},{}],52:[function(n,t){t.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅","in":"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},{}],53:[function(n,t){"use strict";function f(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(i){n[i]=t[i]})}),n}function r(n){return Object.prototype.toString.call(n)}function c(n){return"[object String]"===r(n)}function l(n){return"[object Object]"===r(n)}function a(n){return"[object RegExp]"===r(n)}function e(n){return"[object Function]"===r(n)}function v(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function y(n){return Object.keys(n||{}).reduce(function(n,t){return n||h.hasOwnProperty(t)},!1)}function p(n){n.__index__=-1;n.__text_cache__=""}function w(n){return function(t,i){var r=t.slice(i);return n.test(r)?r.match(n)[0].length:0}}function o(){return function(n,t){t.normalize(n)}}function u(t){function r(n){return n.replace("%TLDS%",i.src_tlds)}function u(n,t){throw new Error('(LinkifyIt) Invalid schema "'+n+'": '+t);}var i=t.re=n("./lib/re")(t.__opts__),f=t.__tlds__.slice(),s,h;t.onCompile();t.__tlds_replaced__||f.push(d);f.push(i.src_xn);i.src_tlds=f.join("|");i.email_fuzzy=RegExp(r(i.tpl_email_fuzzy),"i");i.link_fuzzy=RegExp(r(i.tpl_link_fuzzy),"i");i.link_no_ip_fuzzy=RegExp(r(i.tpl_link_no_ip_fuzzy),"i");i.host_fuzzy_test=RegExp(r(i.tpl_host_fuzzy_test),"i");s=[];t.__compiled__={};Object.keys(t.__schemas__).forEach(function(n){var i=t.__schemas__[n],r;if(null!==i){if(r={validate:null,link:null},t.__compiled__[n]=r,l(i))return a(i.validate)?r.validate=w(i.validate):e(i.validate)?r.validate=i.validate:u(n,i),void(e(i.normalize)?r.normalize=i.normalize:i.normalize?u(n,i):r.normalize=o());c(i)?s.push(n):u(n,i)}});s.forEach(function(n){t.__compiled__[t.__schemas__[n]]&&(t.__compiled__[n].validate=t.__compiled__[t.__schemas__[n]].validate,t.__compiled__[n].normalize=t.__compiled__[t.__schemas__[n]].normalize)});t.__compiled__[""]={validate:null,normalize:o()};h=Object.keys(t.__compiled__).filter(function(n){return n.length>0&&t.__compiled__[n]}).map(v).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+h+")","i");t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+h+")","ig");t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i");p(t)}function b(n,t){var r=n.__index__,u=n.__last_index__,i=n.__text_cache__.slice(r,u);this.schema=n.__schema__.toLowerCase();this.index=r+t;this.lastIndex=u+t;this.raw=i;this.text=i;this.url=i}function s(n,t){var i=new b(n,t);return n.__compiled__[i.schema].normalize(i,n),i}function i(n,t){if(!(this instanceof i))return new i(n,t);t||y(n)&&(t=n,n={});this.__opts__=f({},h,t);this.__index__=-1;this.__last_index__=-1;this.__schema__="";this.__text_cache__="";this.__schemas__=f({},k,n);this.__compiled__={};this.__tlds__=g;this.__tlds_replaced__=!1;this.re={};u(this)}var h={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},k={"http:":{validate:function(n,t,i){var r=n.slice(t);return i.re.http||(i.re.http=new RegExp("^\\/\\/"+i.re.src_auth+i.re.src_host_port_strict+i.re.src_path,"i")),i.re.http.test(r)?r.match(i.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,t,i){var r=n.slice(t);return i.re.no_http||(i.re.no_http=new RegExp("^"+i.re.src_auth+"(?:localhost|(?:(?:"+i.re.src_domain+")\\.)+"+i.re.src_domain_root+")"+i.re.src_port+i.re.src_host_terminator+i.re.src_path,"i")),i.re.no_http.test(r)?t>=3&&":"===n[t-3]?0:t>=3&&"/"===n[t-3]?0:r.match(i.re.no_http)[0].length:0}},"mailto:":{validate:function(n,t,i){var r=n.slice(t);return i.re.mailto||(i.re.mailto=new RegExp("^"+i.re.src_email_name+"@"+i.re.src_host_strict,"i")),i.re.mailto.test(r)?r.match(i.re.mailto)[0].length:0}}},d="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",g="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");i.prototype.add=function(n,t){return this.__schemas__[n]=t,u(this),this};i.prototype.set=function(n){return this.__opts__=f(this.__opts__,n),this};i.prototype.test=function(n){if(this.__text_cache__=n,this.__index__=-1,!n.length)return!1;var t,r,u,o,i,f,e,s;if(this.re.schema_test.test(n))for((e=this.re.schema_search).lastIndex=0;null!==(t=e.exec(n));)if(o=this.testSchemaAt(n,t[2],e.lastIndex)){this.__schema__=t[2];this.__index__=t.index+t[1].length;this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=n.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(r=n.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&n.indexOf("@")>=0&&null!==(u=n.match(this.re.email_fuzzy))&&(i=u.index+u[1].length,f=u.index+u[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&f>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=f)),this.__index__>=0};i.prototype.pretest=function(n){return this.re.pretest.test(n)};i.prototype.testSchemaAt=function(n,t,i){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(n,i,this):0};i.prototype.match=function(n){var t=0,i=[],r;for(this.__index__>=0&&this.__text_cache__===n&&(i.push(s(this,t)),t=this.__last_index__),r=t?n.slice(t):n;this.test(r);)i.push(s(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return i.length?i:null};i.prototype.tlds=function(n,t){return n=Array.isArray(n)?n:[n],t?(this.__tlds__=this.__tlds__.concat(n).sort().filter(function(n,t,i){return n!==i[t-1]}).reverse(),u(this),this):(this.__tlds__=n.slice(),this.__tlds_replaced__=!0,u(this),this)};i.prototype.normalize=function(n){n.schema||(n.url="http://"+n.url);"mailto:"!==n.schema||/^mailto:/i.test(n.url)||(n.url="mailto:"+n.url)};i.prototype.onCompile=function(){};t.exports=i},{"./lib/re":54}],54:[function(n,t){"use strict";t.exports=function(t){var i={};return i.src_Any=n("uc.micro/properties/Any/regex").source,i.src_Cc=n("uc.micro/categories/Cc/regex").source,i.src_Z=n("uc.micro/categories/Z/regex").source,i.src_P=n("uc.micro/categories/P/regex").source,i.src_ZPCc=[i.src_Z,i.src_P,i.src_Cc].join("|"),i.src_ZCc=[i.src_Z,i.src_Cc].join("|"),i.src_pseudo_letter="(?:(?![><｜]|"+i.src_ZPCc+")"+i.src_Any+")",i.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",i.src_auth="(?:(?:(?!"+i.src_ZCc+"|[@/\\[\\]()]).)+@)?",i.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",i.src_host_terminator="(?=$|[><｜]|"+i.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+i.src_ZPCc+"))",i.src_path="(?:[/?#](?:(?!"+i.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+i.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+i.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+i.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+i.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+i.src_ZCc+"|[']).)+\\'|\\'(?="+i.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+i.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+i.src_ZCc+").|\\!(?!"+i.src_ZCc+"|[!]).|\\?(?!"+i.src_ZCc+"|[?]).)+|\\/)?",i.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',i.src_xn="xn--[a-z0-9\\-]{1,59}",i.src_domain_root="(?:"+i.src_xn+"|"+i.src_pseudo_letter+"{1,63})",i.src_domain="(?:"+i.src_xn+"|(?:"+i.src_pseudo_letter+")|(?:"+i.src_pseudo_letter+"(?:-(?!-)|"+i.src_pseudo_letter+"){0,61}"+i.src_pseudo_letter+"))",i.src_host="(?:(?:(?:(?:"+i.src_domain+")\\.)*"+i.src_domain+"))",i.tpl_host_fuzzy="(?:"+i.src_ip4+"|(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%)))",i.tpl_host_no_ip_fuzzy="(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%))",i.src_host_strict=i.src_host+i.src_host_terminator,i.tpl_host_fuzzy_strict=i.tpl_host_fuzzy+i.src_host_terminator,i.src_host_port_strict=i.src_host+i.src_port+i.src_host_terminator,i.tpl_host_port_fuzzy_strict=i.tpl_host_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_port_no_ip_fuzzy_strict=i.tpl_host_no_ip_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+i.src_ZPCc+"|>|$))",i.tpl_email_fuzzy="(^|[><｜]|\\(|"+i.src_ZCc+")("+i.src_email_name+"@"+i.tpl_host_fuzzy_strict+")",i.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+i.src_ZPCc+"))((?![$+<=>^`|｜])"+i.tpl_host_port_fuzzy_strict+i.src_path+")",i.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+i.src_ZPCc+"))((?![$+<=>^`|｜])"+i.tpl_host_port_no_ip_fuzzy_strict+i.src_path+")",i}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(n,t){"use strict";function u(n){var t,u,i=r[n];if(i)return i;for(i=r[n]=[],t=0;t<128;t++)u=String.fromCharCode(t),i.push(u);for(t=0;t<n.length;t++)i[u=n.charCodeAt(t)]="%"+("0"+u.toString(16).toUpperCase()).slice(-2);return i}function i(n,t){var r;return"string"!=typeof t&&(t=i.defaultChars),r=u(t),n.replace(/(%[a-f0-9]{2})+/gi,function(n){for(var u,f,o,h,i,e="",t=0,s=n.length;t<s;t+=3)(u=parseInt(n.slice(t+1,t+3),16))<128?e+=r[u]:192==(224&u)&&t+3<s&&128==(192&(f=parseInt(n.slice(t+4,t+6),16)))?(e+=(i=u<<6&1984|63&f)<128?"��":String.fromCharCode(i),t+=3):224==(240&u)&&t+6<s&&(f=parseInt(n.slice(t+4,t+6),16),o=parseInt(n.slice(t+7,t+9),16),128==(192&f)&&128==(192&o))?(e+=(i=u<<12&61440|f<<6&4032|63&o)<2048||i>=55296&&i<=57343?"���":String.fromCharCode(i),t+=6):240==(248&u)&&t+9<s&&(f=parseInt(n.slice(t+4,t+6),16),o=parseInt(n.slice(t+7,t+9),16),h=parseInt(n.slice(t+10,t+12),16),128==(192&f)&&128==(192&o)&&128==(192&h))?((i=u<<18&1835008|f<<12&258048|o<<6&4032|63&h)<65536||i>1114111?e+="����":(i-=65536,e+=String.fromCharCode(55296+(i>>10),56320+(1023&i))),t+=9):e+="�";return e})}var r={};i.defaultChars=";/?:@&=+$,#";i.componentChars="";t.exports=i},{}],56:[function(n,t){"use strict";function u(n){var t,u,i=r[n];if(i)return i;for(i=r[n]=[],t=0;t<128;t++)u=String.fromCharCode(t),/^[0-9a-z]$/i.test(u)?i.push(u):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<n.length;t++)i[n.charCodeAt(t)]=n[t];return i}function i(n,t,r){var f,s,e,h,c,o="";for("string"!=typeof t&&(r=t,t=i.defaultChars),void 0===r&&(r=!0),c=u(t),f=0,s=n.length;f<s;f++)if(e=n.charCodeAt(f),r&&37===e&&f+2<s&&/^[0-9a-f]{2}$/i.test(n.slice(f+1,f+3)))o+=n.slice(f,f+3),f+=2;else if(e<128)o+=c[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&f+1<s&&(h=n.charCodeAt(f+1))>=56320&&h<=57343){o+=encodeURIComponent(n[f]+n[f+1]);f++;continue}o+="%EF%BF%BD"}else o+=encodeURIComponent(n[f]);return o}var r={};i.defaultChars=";/?:@&=+$,-_.!~*'()#";i.componentChars="-_.!~*'()";t.exports=i},{}],57:[function(n,t){"use strict";t.exports=function(n){var t="";return t+=n.protocol||"",t+=n.slashes?"//":"",t+=n.auth?n.auth+"@":"",t+=n.hostname&&-1!==n.hostname.indexOf(":")?"["+n.hostname+"]":n.hostname||"",t+=n.port?":"+n.port:"",t+=n.pathname||"",t+=n.search||"",t+(n.hash||"")}},{}],58:[function(n,t){"use strict";t.exports.encode=n("./encode");t.exports.decode=n("./decode");t.exports.format=n("./format");t.exports.parse=n("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(n,t){"use strict";function i(){this.protocol=null;this.slashes=null;this.auth=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.pathname=null}var s=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(l),r=["%","/","?",";","#"].concat(a),u=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,e={javascript:!0,"javascript:":!0},o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};i.prototype.parse=function(n,t){var l,ut,ft,p,et,i=n,w,a,h,ot,nt,st,tt,b,y,d,g;if((i=i.trim(),!t&&1===n.split("#").length)&&(w=c.exec(i),w))return this.pathname=w[1],w[2]&&(this.search=w[2]),this;if(a=s.exec(i),a&&(ft=(a=a[0]).toLowerCase(),this.protocol=a,i=i.substr(a.length)),(t||a||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(et="//"===i.substr(0,2))||a&&e[a]||(i=i.substr(2),this.slashes=!0)),!e[a]&&(et||a&&!o[a])){for(h=-1,l=0;l<u.length;l++)-1!==(p=i.indexOf(u[l]))&&(-1===h||p<h)&&(h=p);for(-1!==(nt=-1===h?i.lastIndexOf("@"):i.lastIndexOf("@",h))&&(ot=i.slice(0,nt),i=i.slice(nt+1),this.auth=ot),h=-1,l=0;l<r.length;l++)-1!==(p=i.indexOf(r[l]))&&(-1===h||p<h)&&(h=p);if(-1===h&&(h=i.length),":"===i[h-1]&&h--,st=i.slice(0,h),i=i.slice(h),this.parseHost(st),this.hostname=this.hostname||"",tt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1],!tt)for(b=this.hostname.split(/\./),l=0,ut=b.length;l<ut;l++)if(y=b[l],y&&!y.match(f)){for(var ht="",k=0,lt=y.length;k<lt;k++)ht+=y.charCodeAt(k)>127?"x":y[k];if(!ht.match(f)){var ct=b.slice(0,l),it=b.slice(l+1),rt=y.match(v);rt&&(ct.push(rt[1]),it.unshift(rt[2]));it.length&&(i=it.join(".")+i);this.hostname=ct.join(".");break}}this.hostname.length>255&&(this.hostname="");tt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}return d=i.indexOf("#"),-1!==d&&(this.hash=i.substr(d),i=i.slice(0,d)),g=i.indexOf("?"),-1!==g&&(this.search=i.substr(g),i=i.slice(0,g)),i&&(this.pathname=i),o[ft]&&this.hostname&&!this.pathname&&(this.pathname=""),this};i.prototype.parseHost=function(n){var t=h.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length));n&&(this.hostname=n)};t.exports=function(n,t){if(n&&n instanceof i)return n;var r=new i;return r.parse(n,t),r}},{}],60:[function(n,t,i){(function(n){!function(r){function e(n){throw new RangeError(vt[n]);}function w(n,t){for(var i=n.length,r=[];i--;)r[i]=t(n[i]);return r}function b(n,t){var i=n.split("@"),r="";return i.length>1&&(r=i[0]+"@",n=i[1]),r+w((n=n.replace(at,".")).split("."),t).join(".")}function k(n){for(var t,u,r=[],i=0,f=n.length;i<f;)(t=n.charCodeAt(i++))>=55296&&t<=56319&&i<f?56320==(64512&(u=n.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&u)+65536):(r.push(t),i--):r.push(t);return r}function d(n){return w(n,function(n){var t="";return n>65535&&(t+=l((n-=65536)>>>10&1023|55296),n=56320|1023&n),t+l(n)}).join("")}function ot(n){return n-48<10?n-22:n-65<26?n-65:n-97<26?n-97:u}function g(n,t){return n+22+75*(n<26)-((0!=t)<<5)}function nt(n,t,i){var r=0;for(n=i?f(n/ht):n>>1,n+=f(n/t);n>p*c>>1;r+=u)n=f(n/p);return f(r+(p+1)*n/(n+st))}function tt(n){var l,i,r,a,b,o,s,v,k,tt,p=[],it=n.length,t=0,g=ft,w=ut;for((i=n.lastIndexOf(et))<0&&(i=0),r=0;r<i;++r)n.charCodeAt(r)>=128&&e("not-basic"),p.push(n.charCodeAt(r));for(a=i>0?i+1:0;a<it;){for(b=t,o=1,s=u;a>=it&&e("invalid-input"),((v=ot(n.charCodeAt(a++)))>=u||v>f((h-t)/o))&&e("overflow"),t+=v*o,k=s<=w?y:s>=w+c?c:s-w,!(v<k);s+=u)o>f(h/(tt=u-k))&&e("overflow"),o*=tt;w=nt(t-b,l=p.length+1,0==b);f(t/l)>h-g&&e("overflow");g+=f(t/l);t%=l;p.splice(t++,0,g)}return d(p)}function it(n){var i,r,v,it,p,t,s,w,b,d,o,tt,rt,ot,st,a=[];for(tt=(n=k(n)).length,i=ft,r=0,p=ut,t=0;t<tt;++t)(o=n[t])<128&&a.push(l(o));for(v=it=a.length,it&&a.push(et);v<tt;){for(s=h,t=0;t<tt;++t)(o=n[t])>=i&&o<s&&(s=o);for(s-i>f((h-r)/(rt=v+1))&&e("overflow"),r+=(s-i)*rt,i=s,t=0;t<tt;++t)if((o=n[t])<i&&++r>h&&e("overflow"),o==i){for(w=r,b=u;d=b<=p?y:b>=p+c?c:b-p,!(w<d);b+=u)st=w-d,ot=u-d,a.push(l(g(d+st%ot,0))),w=f(st/ot);a.push(l(g(w,0)));p=nt(r,rt,v==it);r=0;++v}++r;++i}return a.join("")}var v="object"==typeof i&&i&&!i.nodeType&&i,rt="object"==typeof t&&t&&!t.nodeType&&t,o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self!==o||(r=o);var s,a,h=2147483647,u=36,y=1,c=26,st=38,ht=700,ut=72,ft=128,et="-",ct=/^xn--/,lt=/[^\x20-\x7E]/,at=/[\x2E\u3002\uFF0E\uFF61]/g,vt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=u-y,f=Math.floor,l=String.fromCharCode;if(s={version:"1.4.1",ucs2:{decode:k,encode:d},decode:tt,encode:it,toASCII:function(n){return b(n,function(n){return lt.test(n)?"xn--"+it(n):n})},toUnicode:function(n){return b(n,function(n){return ct.test(n)?tt(n.slice(4).toLowerCase()):n})}},v&&rt)if(t.exports==v)rt.exports=s;else for(a in s)s.hasOwnProperty(a)&&(v[a]=s[a]);else r.punycode=s}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(n,t){t.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(n,t){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(n,t){t.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(n,t){t.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(n,t,i){"use strict";i.Any=n("./properties/Any/regex");i.Cc=n("./categories/Cc/regex");i.Cf=n("./categories/Cf/regex");i.P=n("./categories/P/regex");i.Z=n("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(n,t){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(n,t){"use strict";t.exports=n("./lib/")},{"./lib/":9}]},{},[67])(67)}),function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.markdownitLinkAttributes=n()}}(function(){return function(){function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}return n}()({1:[function(n,t){"use strict";function r(n,t){for(var r,u=n.attrs[n.attrIndex("href")][1],i=0;i<t.length;++i)if(r=t[i],!r.pattern||new RegExp(r.pattern).test(u))return r}function u(n,t,i){Object.keys(i).forEach(function(r){var u,f=i[r];r==="className"&&(r="class");u=t[n].attrIndex(r);u<0?t[n].attrPush([r,f]):t[n].attrs[u][1]=f})}function i(n,t){t=t?Array.isArray(t)?t:[t]:[];Object.freeze(t);var i=n.renderer.rules.link_open||this.defaultRender;n.renderer.rules.link_open=function(n,f,e,o,s){var h=r(n[f],t),c=h&&h.attrs;return c&&u(f,n,c),i(n,f,e,o,s)}}i.defaultRender=function(n,t,i,r,u){return u.renderToken(n,t,i)};t.exports=i},{}]},{},[1])(1)}),function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(n=n||self,n.TurndownService=t())}(this,function(){"use strict";function tt(n){for(var t,i,r=1;r<arguments.length;r++){t=arguments[r];for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function r(n,t){return Array(t+1).join(n)}function u(n){return f(n,dt)}function h(n){return f(n,w)}function it(n){return c(n,w)}function rt(n){return f(n,b)}function ut(n){return c(n,b)}function f(n,t){return t.indexOf(n.nodeName)>=0}function c(n,t){return n.getElementsByTagName&&t.some(function(t){return n.getElementsByTagName(t).length})}function t(n){return n?n.replace(/(\n+\s*)+/g,"\n"):""}function l(n){this.options=n;this._keep=[];this._remove=[];this.blankRule={replacement:n.blankReplacement};this.keepReplacement=n.keepReplacement;this.defaultRule={replacement:n.defaultReplacement};this.array=[];for(var t in n.rules)this.array.push(n.rules[t])}function e(n,t,i){for(var r,u=0;u<n.length;u++)if(r=n[u],ft(r,t,i))return r;return void 0}function ft(n,t,i){var r=n.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(n,t,i))return!0}else throw new TypeError("`filter` needs to be a string, array, or function");}function et(n){var u=n.element,c=n.isBlock,l=n.isVoid,f=n.isPre||function(n){return n.nodeName==="PRE"},r,h;if(u.firstChild&&!f(u)){for(var i=null,e=!1,s=null,t=a(s,u,f);t!==u;){if(t.nodeType===3||t.nodeType===4){if(r=t.data.replace(/[ \r\n\t]+/g," "),i&&!/ $/.test(i.data)||e||r[0]!==" "||(r=r.substr(1)),!r){t=o(t);continue}t.data=r;i=t}else if(t.nodeType===1)c(t)||t.nodeName==="BR"?(i&&(i.data=i.data.replace(/ $/,"")),i=null,e=!1):l(t)&&(i=null,e=!0);else{t=o(t);continue}h=a(s,t,f);s=t;t=h}i&&(i.data=i.data.replace(/ $/,""),i.data||o(i))}}function o(n){var t=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),t}function a(n,t,i){return n&&n.parentNode===t||i(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}function ot(){var t=s.DOMParser,n=!1;try{(new t).parseFromString("","text/html")&&(n=!0)}catch(i){}return n}function st(){var n=function(){};return n.prototype.parseFromString=ht()?function(n){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(n),t.close(),t}:function(n){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(n),t.close(),t},n}function ht(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(n=!0)}return n}function ct(n){var t,i;return typeof n=="string"?(i=lt().parseFromString('<x-turndown id="turndown-root">'+n+"<\/x-turndown>","text/html"),t=i.getElementById("turndown-root")):t=n.cloneNode(!0),et({element:t,isBlock:u,isVoid:h}),t}function lt(){return d=d||new k}function at(n){return n.isBlock=u(n),n.isCode=n.nodeName.toLowerCase()==="code"||n.parentNode.isCode,n.isBlank=vt(n),n.flankingWhitespace=yt(n),n}function vt(n){return!h(n)&&!rt(n)&&/^\s*$/i.test(n.textContent)&&!it(n)&&!ut(n)}function yt(n){var t="",i="";if(!n.isBlock){var r=/^\s/.test(n.textContent),u=/\s$/.test(n.textContent),f=n.isBlank&&r&&u;r&&!v("left",n)&&(t=" ");f||!u||v("right",n)||(i=" ")}return{leading:t,trailing:i}}function v(n,t){var i,r,f;return n==="left"?(i=t.previousSibling,r=/ $/):(i=t.nextSibling,r=/^ /),i&&(i.nodeType===3?f=r.test(i.nodeValue):i.nodeType!==1||u(i)||(f=r.test(i.textContent))),f}function i(t){if(!(this instanceof i))return new i(t);var r={rules:n,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(n,t){return t.isBlock?"\n\n":""},keepReplacement:function(n,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(n,t){return t.isBlock?"\n\n"+n+"\n\n":n}};this.options=tt({},r,t);this.rules=new l(this.options)}function y(n){var t=this;return gt.call(n.childNodes,function(n,i){i=new at(i);var r="";return i.nodeType===3?r=i.isCode?i.nodeValue:t.escape(i.nodeValue):i.nodeType===1&&(r=wt.call(t,i)),p(n,r)},"")}function pt(n){var t=this;return this.rules.forEach(function(i){typeof i.append=="function"&&(n=p(n,i.append(t.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function wt(n){var r=this.rules.forNode(n),i=y.call(this,n),t=n.flankingWhitespace;return(t.leading||t.trailing)&&(i=i.trim()),t.leading+r.replacement(i,n,this.options)+t.trailing}function bt(n,t){var i=[n.match(nt)[0],t.match(g)[0]].sort(),r=i[i.length-1];return r.length<2?r:"\n\n"}function p(n,t){var i=bt(n,t);return n=n.replace(nt,""),t=t.replace(g,""),n+i+t}function kt(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}var dt=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"],w=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"],b=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"],n={},s,k,d;n.paragraph={filter:"p",replacement:function(n){return"\n\n"+n+"\n\n"}};n.lineBreak={filter:"br",replacement:function(n,t,i){return i.br+"\n"}};n.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,t,i){var u=Number(t.nodeName.charAt(1)),f;return i.headingStyle==="setext"&&u<3?(f=r(u===1?"=":"-",n.length),"\n\n"+n+"\n"+f+"\n\n"):"\n\n"+r("#",u)+" "+n+"\n\n"}};n.blockquote={filter:"blockquote",replacement:function(n){return n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^/gm,"> "),"\n\n"+n+"\n\n"}};n.list={filter:["ul","ol"],replacement:function(n,t){var i=t.parentNode;return i.nodeName==="LI"&&i.lastElementChild===t?"\n"+n:"\n\n"+n+"\n\n"}};n.listItem={filter:"li",replacement:function(n,t,i){var u,r,f,e;return n=n.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    "),u=i.bulletListMarker+"   ",r=t.parentNode,r.nodeName==="OL"&&(f=r.getAttribute("start"),e=Array.prototype.indexOf.call(r.children,t),u=(f?Number(f)+e:e+1)+".  "),u+n+(t.nextSibling&&!/\n$/.test(n)?"\n":"")}};n.indentedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}};n.fencedCodeBlock={filter:function(n,t){return t.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,t,i){for(var h=t.firstChild.getAttribute("class")||"",c=(h.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,s=i.fence.charAt(0),u=3,l=new RegExp("^"+s+"{3,}","gm"),f,e;f=l.exec(o);)f[0].length>=u&&(u=f[0].length+1);return e=r(s,u),"\n\n"+e+c+"\n"+o.replace(/\n$/,"")+"\n"+e+"\n\n"}};n.horizontalRule={filter:"hr",replacement:function(n,t,i){return"\n\n"+i.hr+"\n\n"}};n.inlineLink={filter:function(n,t){return t.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,i){var u=i.getAttribute("href"),r=t(i.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+n+"]("+u+r+")"}};n.referenceLink={filter:function(n,t){return t.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,i,r){var o=i.getAttribute("href"),u=t(i.getAttribute("title")),f,e,s;u&&(u=' "'+u+'"');switch(r.linkReferenceStyle){case"collapsed":f="["+n+"][]";e="["+n+"]: "+o+u;break;case"shortcut":f="["+n+"]";e="["+n+"]: "+o+u;break;default:s=this.references.length+1;f="["+n+"]["+s+"]";e="["+s+"]: "+o+u}return this.references.push(e),f},references:[],append:function(){var n="";return this.references.length&&(n="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),n}};n.emphasis={filter:["em","i"],replacement:function(n,t,i){return n.trim()?i.emDelimiter+n+i.emDelimiter:""}};n.strong={filter:["strong","b"],replacement:function(n,t,i){return n.trim()?i.strongDelimiter+n+i.strongDelimiter:""}};n.code={filter:function(n){var t=n.previousSibling||n.nextSibling,i=n.parentNode.nodeName==="PRE"&&!t;return n.nodeName==="CODE"&&!i},replacement:function(n){if(!n.trim())return"";var t="`",i="",r="",u=n.match(/`+/gm);if(u)for(/^`/.test(n)&&(i=" "),/`$/.test(n)&&(r=" ");u.indexOf(t)!==-1;)t=t+"`";return t+i+n+r+t}};n.image={filter:"img",replacement:function(n,i){var f=t(i.getAttribute("alt")),r=i.getAttribute("src")||"",u=t(i.getAttribute("title")),e=u?' "'+u+'"':"";return r?"!["+f+"]("+r+e+")":""}};l.prototype={add:function(n,t){this.array.unshift(t)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var t;return(t=e(this.array,n,this.options))?t:(t=e(this._keep,n,this.options))?t:(t=e(this._remove,n,this.options))?t:this.defaultRule},forEach:function(n){for(var t=0;t<this.array.length;t++)n(this.array[t],t)}};s=typeof window!="undefined"?window:{};k=ot()?s.DOMParser:st();var gt=Array.prototype.reduce,g=/^\n*/,nt=/\n*$/,ni=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];return i.prototype={turndown:function(n){if(!kt(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var t=y.call(this,new ct(n));return pt.call(this,t)},use:function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)this.use(n[t]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,t){return this.rules.add(n,t),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return ni.reduce(function(n,t){return n.replace(t[0],t[1])},n)}},i});shortcut={all_shortcuts:{},add:function(n,t,i){var e={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1},f,r,o,u;if(i)for(f in e)typeof i[f]=="undefined"&&(i[f]=e[f]);else i=e;r=i.target;typeof i.target=="string"&&(r=document.getElementById(i.target));o=this;n=n.toLowerCase();u=function(r){var o,e,s;if(r=r||window.event,!i.disable_in_input||(r.target?o=r.target:r.srcElement&&(o=r.srcElement),o.nodeType==3&&(o=o.parentNode),o.tagName!="INPUT"&&o.tagName!="TEXTAREA")){r.keyCode?code=r.keyCode:r.which&&(code=r.which);e=String.fromCharCode(code).toLowerCase();code==188&&(e=",");code==190&&(e=".");var h=n.split("+"),f=0,c={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},l={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},u={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};for(r.ctrlKey&&(u.ctrl.pressed=!0),r.shiftKey&&(u.shift.pressed=!0),r.altKey&&(u.alt.pressed=!0),r.metaKey&&(u.meta.pressed=!0),s=0;k=h[s],s<h.length;s++)k=="ctrl"||k=="control"?(f++,u.ctrl.wanted=!0):k=="shift"?(f++,u.shift.wanted=!0):k=="alt"?(f++,u.alt.wanted=!0):k=="meta"?(f++,u.meta.wanted=!0):k.length>1?l[k]==code&&f++:i.keycode?i.keycode==code&&f++:e==k?f++:c[e]&&r.shiftKey&&(e=c[e],e==k&&f++);if(f==h.length&&u.ctrl.pressed==u.ctrl.wanted&&u.shift.pressed==u.shift.wanted&&u.alt.pressed==u.alt.wanted&&u.meta.pressed==u.meta.wanted&&(t(r),!i.propagate))return r.cancelBubble=!0,r.returnValue=!1,r.stopPropagation&&(r.stopPropagation(),r.preventDefault()),!1}};this.all_shortcuts[n]={callback:u,target:r,event:i.type};r.addEventListener?r.addEventListener(i.type,u,!1):r.attachEvent?r.attachEvent("on"+i.type,u):r["on"+i.type]=u},remove:function(n){var t;if(n=n.toLowerCase(),t=this.all_shortcuts[n],delete this.all_shortcuts[n],t){var r=t.event,i=t.target,u=t.callback;i.detachEvent?i.detachEvent("on"+r,u):i.removeEventListener?i.removeEventListener(r,u,!1):i["on"+r]=!1}}};supportCenter=supportCenter||{};supportCenter.editorShortcuts=function(){function n(n){var i=$(n).parents(".CodeMirror"),t;return i.length===0?null:(t=i.parent().find(".wmd-input")[0],t?simplemdeEditors[t.id]:null)}function t(){[{key:"ctrl+k",actionName:"link"},{key:"alt+b",actionName:"code"},{key:"alt+h",actionName:"help"},{key:"alt+i",actionName:"image"},{key:"alt+p",actionName:"preview"},{key:"alt+s",actionName:"side-by-side"}].forEach(function(t){shortcut.add(t.key,function(i){var r=n(i.target),u;r&&(u=r.toolbar.filter(function(n){return n.name===t.actionName})[0],u&&(u.action(r),undoHandler=function(){u.action(r)}))},{disable_in_input:!1})})}return{init:t}}(),function(){"use strict";Typo=function(n,t,i,r){function c(n,t){var i=u._readFile(n,null,r.asyncLoad);r.asyncLoad?i.then(function(n){t(n)}):t(i)}function a(n){t=n;i&&l()}function v(n){i=n;t&&l()}function l(){var o,c,l,n;for(u.rules=u._parseAFF(t),u.compoundRuleCodes={},f=0,s=u.compoundRules.length;f<s;f++)for(o=u.compoundRules[f],e=0,h=o.length;e<h;e++)u.compoundRuleCodes[o[e]]=[];"ONLYINCOMPOUND"in u.flags&&(u.compoundRuleCodes[u.flags.ONLYINCOMPOUND]=[]);u.dictionaryTable=u._parseDIC(i);for(f in u.compoundRuleCodes)u.compoundRuleCodes[f].length===0&&delete u.compoundRuleCodes[f];for(f=0,s=u.compoundRules.length;f<s;f++){for(c=u.compoundRules[f],l="",e=0,h=c.length;e<h;e++)n=c[e],l+=n in u.compoundRuleCodes?"("+u.compoundRuleCodes[n].join("|")+")":n;u.compoundRules[f]=new RegExp(l,"i")}u.loaded=!0;r.asyncLoad&&r.loadedCallback&&r.loadedCallback(u)}r=r||{};this.dictionary=null;this.rules={};this.dictionaryTable={};this.compoundRules=[];this.compoundRuleCodes={};this.replacementTable=[];this.flags=r.flags||{};this.memoized={};this.loaded=!1;var u=this,o,f,e,s,h;return n&&(u.dictionary=n,t&&i?l():typeof window!="undefined"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(o=r.dictionaryPath?r.dictionaryPath:"typo/dictionaries",t||c(chrome.extension.getURL(o+"/"+n+"/"+n+".aff"),a),i||c(chrome.extension.getURL(o+"/"+n+"/"+n+".dic"),v)):(o=r.dictionaryPath?r.dictionaryPath:typeof __dirname!="undefined"?__dirname+"/dictionaries":"./dictionaries",t||c(o+"/"+n+"/"+n+".aff",a),i||c(o+"/"+n+"/"+n+".dic",v))),this};Typo.prototype={load:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);return this},_readFile:function(n,t,i){var e,r,u;if(t=t||"utf8",typeof XMLHttpRequest!="undefined")return r=new XMLHttpRequest,r.open("GET",n,i),i&&(e=new Promise(function(n,t){r.onload=function(){r.status===200?n(r.responseText):t(r.statusText)};r.onerror=function(){t(r.statusText)}})),r.overrideMimeType&&r.overrideMimeType("text/plain; charset="+t),r.send(null),i?e:r.responseText;if(typeof require!="undefined"){u=require("fs");try{if(u.existsSync(n)){var o=u.statSync(n),s=u.openSync(n,"r"),f=new Buffer(o.size);return u.readSync(s,f,0,f.length,null),f.toString(t,0,f.length)}console.log("Path "+n+" does not exist.")}catch(h){return console.log(h),""}}},_parseAFF:function(n){var p={},o,w,e,t,i,u,b,c,s,f,r,k,d,l;for(n=this._removeAffixComments(n),s=n.split("\n"),i=0,b=s.length;i<b;i++)if(o=s[i],f=o.split(/\s+/),r=f[0],r=="PFX"||r=="SFX"){for(k=f[1],d=f[2],e=parseInt(f[3],10),l=[],u=i+1,c=i+1+e;u<c;u++){w=s[u];t=w.split(/\s+/);var a=t[2],g=t[3].split("/"),v=g[0];v==="0"&&(v="");var nt=this.parseRuleCodes(g[1]),y=t[4],h={};h.add=v;nt.length>0&&(h.continuationClasses=nt);y!=="."&&(h.match=r==="SFX"?new RegExp(y+"$"):new RegExp("^"+y));a!="0"&&(h.remove=r==="SFX"?new RegExp(a+"$"):a);l.push(h)}p[k]={type:r,combineable:d=="Y",entries:l};i+=e}else if(r==="COMPOUNDRULE"){for(e=parseInt(f[1],10),u=i+1,c=i+1+e;u<c;u++)o=s[u],t=o.split(/\s+/),this.compoundRules.push(t[1]);i+=e}else r==="REP"?(t=o.split(/\s+/),t.length===3&&this.replacementTable.push([t[1],t[2]])):this.flags[r]=f[1];return p},_removeAffixComments:function(n){return n=n.replace(/#.*$/mg,""),n=n.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),n=n.replace(/\n{2,}/g,"\n"),n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(n){function e(n,i){t.hasOwnProperty(n)||(t[n]=null);i.length>0&&(t[n]===null&&(t[n]=[]),t[n].push(i))}var v,t,o,d,i,r,p,h,u,w,c,g,b,l,nt,f,k,a,tt,it;for(n=this._removeDicComments(n),v=n.split("\n"),t={},o=1,d=v.length;o<d;o++){var rt=v[o],y=rt.split("/",2),s=y[0];if(y.length>1)for(i=this.parseRuleCodes(y[1]),("NEEDAFFIX"in this.flags)&&i.indexOf(this.flags.NEEDAFFIX)!=-1||e(s,i),r=0,p=i.length;r<p;r++){if(h=i[r],u=this.rules[h],u)for(w=this._applyRule(s,u),c=0,g=w.length;c<g;c++)if(b=w[c],e(b,[]),u.combineable)for(l=r+1;l<p;l++)if(nt=i[l],f=this.rules[nt],f&&f.combineable&&u.type!=f.type)for(k=this._applyRule(b,f),a=0,tt=k.length;a<tt;a++)it=k[a],e(it,[]);h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(s)}else e(s.trim(),[])}return t},_removeDicComments:function(n){return n.replace(/^\t.*$/mg,"")},parseRuleCodes:function(n){var i,t,r;if(n)if("FLAG"in this.flags){if(this.flags.FLAG==="long"){for(i=[],t=0,r=n.length;t<r;t+=2)i.push(n.substr(t,2));return i}if(this.flags.FLAG==="num")return n.split(",")}else return n.split("");else return[]},_applyRule:function(n,t){for(var s=t.entries,u=[],i,r,e,c,o,f=0,h=s.length;f<h;f++)if(i=s[f],(!i.match||n.match(i.match))&&(r=n,i.remove&&(r=r.replace(i.remove,"")),r=t.type==="SFX"?r+i.add:i.add+r,u.push(r),"continuationClasses"in i))for(e=0,c=i.continuationClasses.length;e<c;e++)o=this.rules[i.continuationClasses[e]],o&&(u=u.concat(this._applyRule(r,o)));return u},check:function(n){var t,r,i;if(!this.loaded)throw"Dictionary not loaded.";if(t=n.replace(/^\s\s*/,"").replace(/\s\s*$/,""),this.checkExact(t))return!0;if(t.toUpperCase()===t){if(r=t[0]+t.substring(1).toLowerCase(),this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}if(i=t.toLowerCase(),i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var i=this.dictionaryTable[n],t,r;if(n===n.toUpperCase())return!0;if(typeof i=="undefined"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN)for(t=0,r=this.compoundRules.length;t<r;t++)if(n.match(this.compoundRules[t]))return!0}else{if(i===null)return!0;if(typeof i=="object")for(t=0,r=i.length;t<r;t++)if(!this.hasFlag(n,"ONLYINCOMPOUND",i[t]))return!0}return!1},hasFlag:function(n,t,i){if(!this.loaded)throw"Dictionary not loaded.";return t in this.flags&&(typeof i=="undefined"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[n])),i&&i.indexOf(this.flags[t])!==-1)?!0:!1},alphabet:"",suggest:function(n,t,i,r){function d(i){function c(n,t){return n[1]<t[1]?-1:1}for(var e={},f,h,o,r=0,s=i.length;r<s;r++)i[r]in e?e[i[r]]+=1:e[i[r]]=1;f=[];for(r in e)e.hasOwnProperty(r)&&f.push([r,e[r]]);for(f.sort(c).reverse(),h=[],o="lowercase",n.toUpperCase()===n?o="uppercase":n.substr(0,1).toUpperCase()+n.substr(1).toLowerCase()===n&&(o="capitalized"),r=0,s=Math.min(t,f.length);r<s;r++)"uppercase"===o?f[r][0]=f[r][0].toUpperCase():"capitalized"===o&&(f[r][0]=f[r][0].substr(0,1).toUpperCase()+f[r][0].substr(1)),u.hasFlag(f[r][0],"NOSUGGEST")||h.push(f[r][0]);return h}function b(n){for(var n=n.toLowerCase(),f=[],r,e=n.length+1,t,i=e;i>=0;i--)if(t=[n.substring(0,i),n.substring(i)],t[1])for(r=u.alphabet.length-1;r>=0;r--)f.push(t[0]+u.alphabet[r]+t[1]),i===0&&f.push(u.alphabet[r].toUpperCase()+t[1]);for(i=e;i>=0;i--)t=[n.substring(0,i),n.substring(i)],t[1]&&(f.push(t[0]+t[1].substring(1)),i===0&&f.push(t[1][1].toUpperCase()+t[1].substring(2)));for(i=e;i>=0;i--)if(t=[n.substring(0,i),n.substring(i)],t[1])for(r=u.alphabet.length-1;r>=0;r--)u.alphabet[r]!=t[1].substring(0,1)&&(f.push(t[0]+u.alphabet[r]+t[1].substring(1)),i===0&&f.push(u.alphabet[r].toUpperCase()+t[1].substring(1)));for(i=e;i>=0;i--)t=[n.substring(0,i),n.substring(i)],t[1].length>1&&t[1][1]!==t[1][0]&&(f.push(t[0]+t[1][1]+t[1][0]+t[1].substring(2)),i===0&&f.push(t[1][1].toUpperCase()+t[1][0]+t[1].substring(2)));return f}function k(){if(p!==u.id){o.length=e.length=0;return}for(var h,c=Date.now();o.length!==0||e.length!==0;){if(e.length===0&&(e=b(o.pop())),h=e.pop(),f.indexOf(h)===-1&&u.check(h)){if(r&&r(h)===!1){o.length=e.length=0;return}f.push(h);f.length===t&&(o.length=e.length=0)}if(s&&Date.now()-c>200){setTimeout(k,0);return}}if(f=d(f),u.memoized[n]={suggestions:f,limit:t},s)i&&i(f);else return f}var u=this,s=!!(i||r),p,o=[],e=[],f=[],y,h,c,l,w,a,v;if(!u.loaded)throw"Dictionary not loaded.";if((!u.id||u.id>1e5)&&(u.id=0),p=++u.id,arguments.length!==0){if(t=t||5,u.memoized.hasOwnProperty(n)&&(y=u.memoized[n].limit,t<=y||u.memoized[n].suggestions.length<y)){if(h=u.memoized[n].suggestions.slice(0,t),s){if(r)for(c=0;c<h.length;c++)r(h[c]);i&&i(h);return}return h}if(u.check(n)){if(s){i&&i([]);return}return[]}for(l=0,w=u.replacementTable.length;l<w;l++)if(a=u.replacementTable[l],n.indexOf(a[0])!==-1&&(v=n.replace(a[0],a[1]),u.check(v)))if(f.push(v),s){if(r&&r(v),f.length===t){i&&i(f);return}}else if(f.length===t)return f;return u.alphabet="abcdefghijklmnopqrstuvwxyz",o=b(n),e=o.slice(),k(),s?void 0:f}}}}();typeof module!="undefined"&&(module.exports=Typo);!function(n,t,i,r){"use strict";n.single=function(){var t=n({});return function(n){return t[0]=n,t}}();n.fn.contextMenu=function(t,i,r){f[t]?i&&(i instanceof Array||"string"==typeof i||i.nodeType||i.jquery||(r=i,i=null)):(r=i,i=t,t="popup");i instanceof Array&&"update"!=t&&(t="menu");var e=r;return n.inArray(t,["menu","popup","close","destroy"])>-1?(r=u.optionOtimizer(t,r),this.each(function(){var u=n(this);e=n.extend({},n.fn.contextMenu.defaults,r);e.baseTrigger||(e.baseTrigger=u);f[t].call(u,i,e)})):f[t].call(this,i,e),this};n.fn.contextMenu.defaults={triggerOn:"click",subMenuTriggerOn:"hover click",displayAround:"cursor",mouseClick:"left",verAdjust:0,horAdjust:0,top:"auto",left:"auto",closeOther:!0,containment:t,winEventClose:!0,position:"auto",closeOnClick:!0,onOpen:function(){},afterOpen:function(){},onClose:function(){}};var f={menu:function(n,t){n=u.createMenuList(this,n,t);u.contextMenuBind.call(this,n,t,"menu")},popup:function(t,i){n(t).addClass("iw-contextMenu");u.contextMenuBind.call(this,t,i,"popup")},update:function(t,i){var f=this;i=i||{};this.each(function(){var c=n(this),s=c.data("iw-menuData"),l,e,a,h;if(s||(f.contextMenu("refresh"),s=c.data("iw-menuData")),l=s.menu,"object"==typeof t)for(e=0;e<t.length;e++){var nt=t[e].name,v=t[e].disable,y=t[e].fun,p=t[e].icon,w=t[e].img,b=t[e].title,k=t[e].className,o=l.children("li").filter(function(){return n(this).contents().filter(function(){return 3==this.nodeType}).text()==nt}),d=t[e].subMenu;v!=r&&(v?o.addClass("iw-mDisable"):o.removeClass("iw-mDisable"));y&&o.unbind("click.contextMenu").bind("click.contextMenu",y);b!=r&&o.attr("title",b);k!=r&&o.attr("class",k);a=o.find(".iw-mIcon");a.length&&a.remove();w?o.prepend('<img src="'+w+'" align="absmiddle" class="iw-mIcon" />'):p&&o.prepend('<span align="absmiddle" class="iw-mIcon '+p+'" />');d&&o.contextMenu("update",d)}u.onOff(l);if(h=i.triggerOn,h){c.unbind(".contextMenu");h=h.split(" ");for(var g=[],e=0,tt=h.length;e<tt;e++)g.push(h[e]+".contextMenu");c.bind(g.join(" "),u.eventHandler)}s.option=n.extend({},s.option,i);c.data("iw-menuData",s)})},refresh:function(){var t=this.filter(function(){return!!n(this).data("iw-menuData")}).data("iw-menuData"),i=this.filter(function(){return!n(this).data("iw-menuData")});t.option.baseTrigger=this;u.contextMenuBind.call(i,t.menuSelector,t.option)},open:function(t,i){i=i||{};var r=i.event||n.Event("click");i.top&&(r.clientY=i.top);i.left&&(r.clientX=i.left);this.each(function(){u.eventHandler.call(this,r)})},close:function(){var n=this.data("iw-menuData");n&&u.closeContextMenu(n.option,this,n.menu,null)},value:function(n){var t=this.data("iw-menuData");return t[n]?t[n]:t.option?t.option[n]:null},destroy:function(){var r=this,u=r.data("iw-menuData").menuId,t=n(".iw-contextMenu[menuId="+u+"]"),i=t.data("iw-menuData");i&&(1==i.noTrigger?t.hasClass("iw-created")?t.remove():(t.removeClass("iw-contextMenu "+u).removeAttr("menuId").removeData("iw-menuData"),t.find("li.iw-mTrigger").contextMenu("destroy")):(i.noTrigger--,t.data("iw-menuData",i)),r.unbind(".contextMenu").removeClass("iw-mTrigger").removeData("iw-menuData"))}},u={contextMenuBind:function(t,i,r){var o=this,f=n(t),s=f.data("iw-menuData"),h,c,l,e;if(0!=f.length||(f=o.find(t),0!=f.length)){"menu"==r&&u.menuHover(f);h=i.baseTrigger;s?(s.noTrigger++,f.data("iw-menuData",s)):(h.data("iw-menuData")?c=h.data("iw-menuData").menuId:(c=Math.ceil(1e5*Math.random()),h.data("iw-menuData",{menuId:c})),l=f.clone(),l.appendTo("body"),s={menuId:c,menuWidth:l.outerWidth(!0),menuHeight:l.outerHeight(!0),noTrigger:1,trigger:o},f.data("iw-menuData",s).attr("menuId",c),l.remove());o.addClass("iw-mTrigger").data("iw-menuData",{menuId:s.menuId,option:i,menu:f,menuSelector:t,method:r});e=i.triggerOn;e.indexOf("hover")!=-1&&(e=e.replace("hover","mouseenter"),h.index(o)!=-1&&h.add(f).bind("mouseleave.contextMenu",function(t){0==n(t.relatedTarget).closest(".iw-contextMenu").length&&n('.iw-contextMenu[menuId="'+s.menuId+'"]').fadeOut(100)}));o.delegate("input,a,.needs-click","click",function(n){n.stopImmediatePropagation()});e=e.split(" ");for(var v=[],a=0,y=e.length;a<y;a++)v.push(e[a]+".contextMenu");o.bind(v.join(" "),u.eventHandler);f.bind("click mouseenter",function(n){n.stopPropagation()});f.delegate("li","click",function(t){i.closeOnClick&&!n.single(this).hasClass("iw-has-submenu")&&u.closeContextMenu(i,o,f,t)})}},eventHandler:function(r){var rt,ht,ut;r.preventDefault();var c=n(this),ft=c.data("iw-menuData"),b=ft.menu,ct=b.data("iw-menuData"),o=ft.option,lt=o.containment,at={trigger:c,menu:b},y=lt==t,et=o.baseTrigger.index(c)==-1;!et&&o.closeOther&&n(".iw-contextMenu").css("display","none");b.find(".iw-mSelected").removeClass("iw-mSelected");o.onOpen.call(this,at,r);var s,h,k,d,v=n(lt),p=v.innerHeight(),w=v.innerWidth(),nt=0,tt=0,l=ct.menuHeight,a=ct.menuWidth,f=0,e=0,vt=s=parseInt(o.verAdjust),yt=h=parseInt(o.horAdjust);if(y||(nt=v.offset().top,tt=v.offset().left,"static"==v.css("position")&&v.css("position","relative")),"cursor"==o.displayAround)f=y?r.clientX:r.clientX+n(t).scrollLeft()-tt,e=y?r.clientY:r.clientY+n(t).scrollTop()-nt,k=e+l,d=f+a,k>p&&(e-l<0?k-p<l-e?(e=p-l,s=-1*s):(e=0,s=0):(e-=l,s=-1*s)),d>w&&(f-a<0?d-w<a-f?(f=w-a,h=-1*h):(f=0,h=0):(f-=a,h=-1*h));else if("trigger"==o.displayAround){var pt=c.outerHeight(!0),g=c.outerWidth(!0),ot=y?c.offset().left-v.scrollLeft():c.offset().left-tt,st=y?c.offset().top-v.scrollTop():c.offset().top-nt,it=g;f=ot+g;e=st;k=e+l;d=f+a;k>p&&(e-l<0?k-p<l-e?(e=p-l,s=-1*s):(e=0,s=0):(e=e-l+pt,s=-1*s));d>w&&(f-a<0?d-w<a-f?(f=w-a,h=-1*h,it=-g):(f=0,h=0,it=0):(f=f-a-g,h=-1*h,it=-g));"top"==o.position?(e=st-l,s=vt,f-=it):"left"==o.position?(f=ot-a,h=yt):"bottom"==o.position?(e=st+pt,s=vt,f-=it):"right"==o.position&&(f=ot+g,h=yt)}rt={position:y||et?"fixed":"absolute",display:"inline-block",height:"",width:""};("auto"!=o.left&&(f=u.getPxSize(o.left,w)),"auto"!=o.top&&(e=u.getPxSize(o.top,p)),y)||(ht=c.offsetParent().offset(),et?(f=f+tt-n(t).scrollLeft(),e=e+nt-n(t).scrollTop()):(f-=tt-ht.left,e-=nt-ht.top));rt.left=f+h+"px";rt.top=e+s+"px";b.css(rt);o.afterOpen.call(this,at,r);0==c.closest(".iw-contextMenu").length&&(n(".iw-curMenu").removeClass("iw-curMenu"),b.addClass("iw-curMenu"));ut={trigger:c,menu:b,option:o,method:ft.method};n("html").unbind("click",u.clickEvent).click(ut,u.clickEvent);n(i).unbind("keydown",u.keyEvent).keydown(ut,u.keyEvent);o.winEventClose&&n(t).bind("scroll resize",ut,u.scrollEvent)},scrollEvent:function(n){u.closeContextMenu(n.data.option,n.data.trigger,n.data.menu,n)},clickEvent:function(t){var i=t.data.trigger.get(0);i!==t.target&&0==n(t.target).closest(".iw-contextMenu").length&&u.closeContextMenu(t.data.option,t.data.trigger,t.data.menu,t)},keyEvent:function(t){t.preventDefault();var l=t.data.menu,a=t.data.option,h=t.keyCode;if(27==h&&u.closeContextMenu(a,t.data.trigger,l,t),"menu"==t.data.method){var r=n(".iw-curMenu"),i=r.children("li:not(.iw-mDisable)"),f=i.filter(".iw-mSelected"),e=i.index(f),o=function(n){u.selectMenu(r,n);var i=n.data("iw-menuData");i&&u.eventHandler.call(n[0],t)},s=function(){o(i.filter(":first"))},c=function(){o(i.filter(":last"))},v=function(){o(i.filter(":eq("+(e+1)+")"))},y=function(){o(i.filter(":eq("+(e-1)+")"))},p=function(){var e=f.data("iw-menuData"),n;e&&(u.eventHandler.call(f[0],t),n=e.menu,n.addClass("iw-curMenu"),r.removeClass("iw-curMenu"),r=n,i=r.children("li:not(.iw-mDisable)"),f=i.filter(".iw-mSelected"),s())},w=function(){var t=r.data("iw-menuData").trigger,n=t.closest(".iw-contextMenu");0!=n.length&&(r.removeClass("iw-curMenu").css("display","none"),n.addClass("iw-curMenu"))};switch(h){case 13:f.click();break;case 40:e==i.length-1||0==f.length?s():v();break;case 38:0==e||0==f.length?c():y();break;case 33:s();break;case 34:c();break;case 37:w();break;case 39:p()}}},closeContextMenu:function(r,f,e,o){n(i).unbind("keydown",u.keyEvent);n("html").unbind("click",u.clickEvent);n(t).unbind("scroll resize",u.scrollEvent);n(".iw-contextMenu").css("display","none");n(i).focus();r.onClose.call(this,{trigger:f,menu:e},o)},getPxSize:function(n,t){return isNaN(n)?n.indexOf("%")!=-1?parseInt(n)*t/100:parseInt(n):n},selectMenu:function(n,t){var i=n.find("li.iw-mSelected"),r=i.find(".iw-contextMenu");0!=r.length&&i[0]!=t[0]&&r.fadeOut(100);i.removeClass("iw-mSelected");t.addClass("iw-mSelected")},menuHover:function(t){Date.now();t.children("li").bind("mouseenter.contextMenu click.contextMenu",function(){n(".iw-curMenu").removeClass("iw-curMenu");t.addClass("iw-curMenu");u.selectMenu(t,n(this))})},createMenuList:function(i,r,f){var s=f.baseTrigger,e=Math.floor(1e4*Math.random()),o,c,h;return"object"==typeof r&&!r.nodeType&&!r.jquery?(o=n('<ul class="iw-contextMenu iw-created iw-cm-menu" id="iw-contextMenu'+e+'"><\/ul>'),(n.each(r,function(t,i){var l=i.name,a=i.fun||function(){},e=i.subMenu,h=i.img||"",c=i.icon||"",v=i.title||"",y=i.className||"",p=i.disable,r=n('<li title="'+v+'" class="'+y+'">'+l+"<\/li>");h?r.prepend('<img src="'+h+'" align="absmiddle" class="iw-mIcon" />'):c&&r.prepend('<span align="absmiddle" class="iw-mIcon '+c+'" />');p&&r.addClass("iw-mDisable");e||r.bind("click.contextMenu",function(n){a.call(this,{trigger:s,menu:o},n)});o.append(r);e&&(r.addClass("iw-has-submenu").append('<div class="iw-cm-arrow-right" />'),u.subMenu(r,e,s,f))}),s.index(i[0])==-1)?i.append(o):(c=f.containment==t?"body":f.containment,n(c).append(o)),u.onOff(n("#iw-contextMenu"+e)),"#iw-contextMenu"+e):0!=n(r).length?(h=n(r),h.removeClass("iw-contextMenuCurrent").addClass("iw-contextMenu iw-cm-menu iw-contextMenu"+e).attr("menuId","iw-contextMenu"+e).css("display","none"),h.find("ul").each(function(){var t=n(this),i=t.parent("li");i.append('<div class="iw-cm-arrow-right" />');t.addClass("iw-contextMenuCurrent");u.subMenu(i,".iw-contextMenuCurrent",s,f)}),u.onOff(n(".iw-contextMenu"+e)),".iw-contextMenu"+e):void 0},subMenu:function(n,t,i,r){n.contextMenu("menu",t,{triggerOn:r.subMenuTriggerOn,displayAround:"trigger",position:"auto",mouseClick:"left",baseTrigger:i,containment:r.containment})},onOff:function(t){t.find(".iw-mOverlay").remove();t.find(".iw-mDisable").each(function(){var t=n(this);t.append('<div class="iw-mOverlay"/>');t.find(".iw-mOverlay").bind("click mouseenter",function(n){n.stopPropagation()})})},optionOtimizer:function(t,i){if(i)return"menu"==t&&(i.mouseClick||(i.mouseClick="right")),"right"==i.mouseClick&&"click"==i.triggerOn&&(i.triggerOn="contextmenu"),n.inArray(i.triggerOn,["hover","mouseenter","mouseover","mouseleave","mouseout","focusin","focusout"])!=-1&&(i.displayAround="trigger"),i}}}(jQuery,window,document);var supportCenter=supportCenter||{},CodeMirrorSpellChecker={num_loaded:0},spellcheckPrefix="spellcheck-",spellcheckErrorClass="cm-spell-error",editors=[],userDictionary=JSON.parse(localStorage.getItem("AnswerDesk_Spellchecker")||"[]");supportCenter.showSuggestions=function(n,t){function o(n,t,i){return function(){var u=n.target.getBoundingClientRect(),f=i.codemirror.coordsChar({left:u.left+1,top:u.top+1},"window"),e=i.codemirror.coordsChar({left:u.right-1,top:u.top+1},"window"),r={line:f.line,start:f.ch,end:e.ch};i.codemirror.replaceRange(t,{line:r.line,ch:r.start},{line:r.line,ch:r.end});i.codemirror.focus();i.codemirror.setCursor({line:r.line,ch:r.start+t.length})}}function f(n,t,i){return function(){t[n]===undefined&&(t[n]=null,i.remove(spellcheckErrorClass));userDictionary.push(n);localStorage.setItem("AnswerDesk_Spellchecker",JSON.stringify(userDictionary))}}function e(n){return function(){$(n.element).find("span").removeClass(spellcheckErrorClass);n.codemirror.removeOverlay("typoEnglish")}}var r,u,i;return n.target.classList.contains(spellcheckErrorClass)?(n.preventDefault(),n.stopPropagation(),r=n.target.innerText,!r)?!1:(u=[],i=[],i.push({name:"Loading suggestions...",disable:!0}),i.push({name:"",disable:!0,className:"separator"}),i.push({name:"Add to dictionary",title:"Add current word to dictionary",className:"command",fun:f(r,CodeMirrorSpellChecker.typo.dictionaryTable,n.target.classList)}),i.push({name:"Disable spell checking",title:"Stop check the spelling in the entire post",className:"command",fun:e()}),$(".CodeMirror-code").contextMenu(i,{mouseClick:"right"}),$(".CodeMirror-code").contextMenu("open",{event:n}),CodeMirrorSpellChecker.typo.suggest(r,null,function(){var i=[],h,s;for(h in u)s=u[h],i.push({name:s,title:s,fun:o(n,s,t)});i.length||i.push({name:"No suggestions found",disable:!0});i.push({name:"",disable:!0,className:"separator"});i.push({name:"Add to dictionary",title:"Add current word to dictionary",className:"command",fun:f(r,CodeMirrorSpellChecker.typo.dictionaryTable,n.target.classList)});i.push({name:"Disable spell checking",title:"Stop check the spelling in the entire post",className:"command",fun:e(t)});try{$(".CodeMirror-code").contextMenu("destroy")}catch(n){}$(".CodeMirror-code").contextMenu(i,{mouseClick:"right"});$(".CodeMirror-code").contextMenu("open",{event:n})},function(n){u.push(n)}),!1):!0}